<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">

<html>

<head>

<meta http-equiv="content-type" content="text/html; charset=utf-8">

<title>Guia Foca GNU/Linux - Apache</title>

<link href="index.html" rel="start">
<link href="ch-d-contas.html" rel="prev">
<link href="ch-s-ident.html" rel="next">
<link href="index.html#contents" rel="contents">
<link href="index.html#copyright" rel="copyright">
<link href="ch-intro.html" rel="chapter" title="1 Introdução">
<link href="ch-bas.html" rel="chapter" title="2 Explicações Básicas">
<link href="ch-hardw.html" rel="chapter" title="3 Hardware">
<link href="ch-d-l.html" rel="chapter" title="4 Para quem esta migrando (ou pensando em migrar) do DOS/Windows para o Linux">
<link href="ch-disc.html" rel="chapter" title="5 Discos e Partições">
<link href="ch-boot.html" rel="chapter" title="6 Gerenciadores de Partida (boot loaders)">
<link href="ch-run.html" rel="chapter" title="7 Execução de programas">
<link href="ch-cmdd.html" rel="chapter" title="8 Comandos para manipulação de diretório">
<link href="ch-cmd.html" rel="chapter" title="9 Comandos para manipulação de Arquivos">
<link href="ch-cmdv.html" rel="chapter" title="10 Comandos Diversos">
<link href="ch-cmdn.html" rel="chapter" title="11 Comandos de rede">
<link href="ch-cmdc.html" rel="chapter" title="12 Comandos para manipulação de contas">
<link href="ch-perm.html" rel="chapter" title="13 Permissões de acesso a arquivos e diretórios">
<link href="ch-redir.html" rel="chapter" title="14 Redirecionamentos e Pipe">
<link href="ch-rede.html" rel="chapter" title="15 Rede">
<link href="ch-cfgrede.html" rel="chapter" title="16 Configurações especiais de Rede">
<link href="ch-kern.html" rel="chapter" title="17 Kernel e Módulos">
<link href="ch-log.html" rel="chapter" title="18 Arquivos e daemons de Log">
<link href="ch-cpctd.html" rel="chapter" title="19 Compactadores">
<link href="ch-deb.html" rel="chapter" title="20 A distribuição Debian GNU/Linux">
<link href="ch-dpkg.html" rel="chapter" title="21 Sistema de gerenciamento de pacotes">
<link href="ch-pers.html" rel="chapter" title="22 Personalização do Sistema">
<link href="ch-impr.html" rel="chapter" title="23 Impressão">
<link href="ch-cfg.html" rel="chapter" title="24 Configuração do sistema">
<link href="ch-tasks.html" rel="chapter" title="25 Executando tarefas diversas no Linux">
<link href="ch-compil.html" rel="chapter" title="26 Compilação">
<link href="ch-manut.html" rel="chapter" title="27 Manutenção do Sistema">
<link href="ch-etc.html" rel="chapter" title="28 Principais arquivos de configuração do diretório /etc">
<link href="ch-inter.html" rel="chapter" title="29 Conectando seu computador a Internet">
<link href="ch-x11.html" rel="chapter" title="30 X Window (ambiente gráfico)">
<link href="ch-fw-iptables.html" rel="chapter" title="31 Firewall iptables">
<link href="ch-d-contas.html" rel="chapter" title="32 Gerenciamento de contas e cuidados para a proteção de senhas">
<link href="ch-s-apache.html" rel="chapter" title="33 Apache">
<link href="ch-s-ident.html" rel="chapter" title="34 Servidor ident">
<link href="ch-s-telnet.html" rel="chapter" title="35 Servidor telnet">
<link href="ch-s-ssh.html" rel="chapter" title="36 Servidor ssh">
<link href="ch-s-pop3.html" rel="chapter" title="37 Servidor pop3">
<link href="ch-s-cvs.html" rel="chapter" title="38 CVS">
<link href="ch-s-samba.html" rel="chapter" title="39 SAMBA">
<link href="ch-d-restr.html" rel="chapter" title="40 Restrições de acesso, recursos e serviços">
<link href="ch-d-cripto.html" rel="chapter" title="41 Introdução ao uso de criptografia para transmissão/armazenamento de dados">
<link href="ch-aplic.html" rel="chapter" title="42 Aplicativos para Linux">
<link href="ch-ajuda.html" rel="chapter" title="43 Como obter ajuda no sistema">
<link href="ch-systemd.html" rel="chapter" title="44 SYSTEMD, o novo e controverso sistema de inicialização do Linux">
<link href="ch-git.html" rel="chapter" title="45 Git, controle de versões">
<link href="ch-virt-intro.html" rel="chapter" title="46 Virtualização em sistemas GNU/Linux">
<link href="ch-apend.html" rel="chapter" title="47 Apêndice">
<link href="ch-intro.html#s-introducao-palavras" rel="section" title="1.1 Antes de começar">
<link href="ch-intro.html#s-introducao-requisitos" rel="section" title="1.2 Pré-requisitos para a utilização deste guia">
<link href="ch-intro.html#s-introducao-so" rel="section" title="1.3 Sistema Operacional">
<link href="ch-intro.html#s-introducao-linux" rel="section" title="1.4 O Linux">
<link href="ch-intro.html#s-introducao-distrib" rel="section" title="1.5 Distribuições do Linux">
<link href="ch-intro.html#s-introducao-software-livre" rel="section" title="1.6 Software Livre">
<link href="ch-intro.html#s-introducao-processamento" rel="section" title="1.7 Processamento de Dados">
<link href="ch-intro.html#s-introducao-computador" rel="section" title="1.8 O Computador">
<link href="ch-intro.html#s-introducao-conhecendo" rel="section" title="1.9 Conhecendo o Computador">
<link href="ch-intro.html#s-introducao-placamae" rel="section" title="1.10 Placa Mãe">
<link href="ch-intro.html#s-introducao-memoria" rel="section" title="1.11 Memória do Computador">
<link href="ch-intro.html#s-introducao-discos" rel="section" title="1.12 Discos">
<link href="ch-intro.html#s-introducao-cuidados" rel="section" title="1.13 Cuidados Básicos com o Computador">
<link href="ch-intro.html#s-introducao-disp-e-s" rel="section" title="1.14 Dispositivos de Entrada e Saída">
<link href="ch-intro.html#s-introducao-ligando" rel="section" title="1.15 Ligando o computador">
<link href="ch-intro.html#s-introducao-desligando" rel="section" title="1.16 Desligando o computador">
<link href="ch-intro.html#s-introducao-reiniciando" rel="section" title="1.17 Reiniciando o computador">
<link href="ch-bas.html#s-basico-hardsoft" rel="section" title="2.1 Hardware e Software">
<link href="ch-bas.html#s-basico-arquivo" rel="section" title="2.2 Arquivos">
<link href="ch-bas.html#s-basico-diretorio" rel="section" title="2.3 Diretório">
<link href="ch-bas.html#s-basico-nomeando" rel="section" title="2.4 Nomeando Arquivos e Diretórios">
<link href="ch-bas.html#s-basico-comandos" rel="section" title="2.5 Comandos">
<link href="ch-bas.html#s-basico-comandos-externos" rel="section" title="2.6 Comandos Externos">
<link href="ch-bas.html#s-basico-avisocmd" rel="section" title="2.7 Aviso de comando (Prompt)">
<link href="ch-bas.html#s-basico-interpcmd" rel="section" title="2.8 Interpretador de comandos">
<link href="ch-bas.html#s-basico-terminal" rel="section" title="2.9 Terminal Virtual (console)">
<link href="ch-bas.html#s-basico-login" rel="section" title="2.10 Login">
<link href="ch-bas.html#s-basico-logout" rel="section" title="2.11 Logout">
<link href="ch-bas.html#s-basico-coringas" rel="section" title="2.12 Coringas">
<link href="ch-hardw.html#s-hardw-placas" rel="section" title="3.1 Placa de expansão">
<link href="ch-hardw.html#s-hardw-nomesdisp" rel="section" title="3.2 Nomes de dispositivos">
<link href="ch-hardw.html#s-hardw-cfg" rel="section" title="3.3 Configuração de Hardware">
<link href="ch-hardw.html#s-hardw-metodoscfg" rel="section" title="3.4 Hardwares configuráveis por jumpers, dip-switches, jumperless e Plug-and-Play.">
<link href="ch-hardw.html#s-hardw-findhw" rel="section" title="3.5 Listando as placas e outros hardwares em um computador">
<link href="ch-hardw.html#s-hardw-conflitos" rel="section" title="3.6 Conflitos de hardware">
<link href="ch-hardw.html#s-hard-barramento" rel="section" title="3.7 Barramento">
<link href="ch-hardw.html#s-hard-onoffboard" rel="section" title="3.8 Placas on-board / off-board">
<link href="ch-hardw.html#s-hard-forwindows" rel="section" title="3.9 Hardwares específicos ou &quot;For Windows&quot;">
<link href="ch-hardw.html#s3.10" rel="section" title="3.10 Dispositivos específicos para GNU/Linux">
<link href="ch-hardw.html#s-hardw-cfgdisp" rel="section" title="3.11 Configurações de Dispositivos">
<link href="ch-d-l.html#s-d-l-compar" rel="section" title="4.1 Quais as diferenças iniciais">
<link href="ch-d-l.html#s-d-l-comandos" rel="section" title="4.2 Comandos equivalentes entre DOS/CMD do Windows e o Linux">
<link href="ch-d-l.html#s-d-l-mtools" rel="section" title="4.3 Usando a sintaxe de comandos DOS no Linux">
<link href="ch-d-l.html#s-d-l-programas" rel="section" title="4.4 Programas equivalentes entre Windows/DOS e o Linux">
<link href="ch-disc.html#s-disc-particoes" rel="section" title="5.1 Partições">
<link href="ch-disc.html#s-disc-formatando" rel="section" title="5.2 Formatando Pen-drives/Disquetes">
<link href="ch-disc.html#s-disc-pontomontagem" rel="section" title="5.3 Pontos de Montagem">
<link href="ch-disc.html#s-disc-id" rel="section" title="5.4 Identificação de discos e partições em sistemas Linux">
<link href="ch-disc.html#s-disc-montagem" rel="section" title="5.5 Montando (acessando) uma partição de disco">
<link href="ch-disc.html#s-disc-desmontagem" rel="section" title="5.6 Desmontando uma partição de disco">
<link href="ch-boot.html#s-boot-lilo" rel="section" title="6.1 LILO">
<link href="ch-boot.html#s-boot-grub" rel="section" title="6.2 GRUB">
<link href="ch-boot.html#s-boot-kernelparam" rel="section" title="6.3 Parâmetros de inicialização passados ao kernel">
<link href="ch-boot.html#s-boot-loadlin" rel="section" title="6.4 LOADLIN">
<link href="ch-boot.html#s-boot-syslinux" rel="section" title="6.5 syslinux">
<link href="ch-run.html#s-run-prgn" rel="section" title="7.1 Executando um comando/programa">
<link href="ch-run.html#s-run-path" rel="section" title="7.2 path">
<link href="ch-run.html#s-run-tipos" rel="section" title="7.3 Tipos de Execução de comandos/programas">
<link href="ch-run.html#s-run-seq" rel="section" title="7.4 Executando programas em seqüência">
<link href="ch-run.html#s-run-ps" rel="section" title="7.5 ps">
<link href="ch-run.html#s-run-top" rel="section" title="7.6 top">
<link href="ch-run.html#s-run-controle" rel="section" title="7.7 Controle de execução de processos">
<link href="ch-run.html#s-run-fechando" rel="section" title="7.8 Fechando um programa quando não se sabe como sair">
<link href="ch-run.html#s-run-reset" rel="section" title="7.9 Eliminando caracteres estranhos">
<link href="ch-cmdd.html#s-comando-ls" rel="section" title="8.1 ls">
<link href="ch-cmdd.html#s-comando-cd" rel="section" title="8.2 cd">
<link href="ch-cmdd.html#s-comando-pwd" rel="section" title="8.3 pwd">
<link href="ch-cmdd.html#s-comando-mkdir" rel="section" title="8.4 mkdir">
<link href="ch-cmdd.html#s-comando-rmdir" rel="section" title="8.5 rmdir">
<link href="ch-cmd.html#s-comandos-cat" rel="section" title="9.1 cat">
<link href="ch-cmd.html#s-comando-tac" rel="section" title="9.2 tac">
<link href="ch-cmd.html#s-comando-rm" rel="section" title="9.3 rm">
<link href="ch-cmd.html#s-comando-cp" rel="section" title="9.4 cp">
<link href="ch-cmd.html#s-comando-mv" rel="section" title="9.5 mv">
<link href="ch-cmdv.html#s-cmdv-clear" rel="section" title="10.1 clear">
<link href="ch-cmdv.html#s-cmdv-date" rel="section" title="10.2 date">
<link href="ch-cmdv.html#s-cmdv-df" rel="section" title="10.3 df">
<link href="ch-cmdv.html#s-cmdv-ln" rel="section" title="10.4 ln">
<link href="ch-cmdv.html#s-cmdv-du" rel="section" title="10.5 du">
<link href="ch-cmdv.html#s-cmdv-find" rel="section" title="10.6 find">
<link href="ch-cmdv.html#s-cmdv-free" rel="section" title="10.7 free">
<link href="ch-cmdv.html#s-cmdv-grep" rel="section" title="10.8 grep">
<link href="ch-cmdv.html#s-cmdv-head" rel="section" title="10.9 head">
<link href="ch-cmdv.html#s-cmdv-nl" rel="section" title="10.10 nl">
<link href="ch-cmdv.html#s-cmdv-more" rel="section" title="10.11 more">
<link href="ch-cmdv.html#s-cmdv-less" rel="section" title="10.12 less">
<link href="ch-cmdv.html#s-cmdv-sort" rel="section" title="10.13 sort">
<link href="ch-cmdv.html#s-cmdv-tail" rel="section" title="10.14 tail">
<link href="ch-cmdv.html#s-cmdv-time" rel="section" title="10.15 time">
<link href="ch-cmdv.html#s-cmdv-touch" rel="section" title="10.16 touch">
<link href="ch-cmdv.html#s-cmdv-uptime" rel="section" title="10.17 uptime">
<link href="ch-cmdv.html#s-cmdv-dmesg" rel="section" title="10.18 dmesg">
<link href="ch-cmdv.html#s-cmdv-mesg" rel="section" title="10.19 mesg">
<link href="ch-cmdv.html#s-cmdv-echo" rel="section" title="10.20 echo">
<link href="ch-cmdv.html#s-cmdv-su" rel="section" title="10.21 su">
<link href="ch-cmdv.html#s-cmdv-sync" rel="section" title="10.22 sync">
<link href="ch-cmdv.html#s-cmdv-uname" rel="section" title="10.23 uname">
<link href="ch-cmdv.html#s-cmdv-reboot" rel="section" title="10.24 reboot">
<link href="ch-cmdv.html#s-cmdv-shutdown" rel="section" title="10.25 shutdown">
<link href="ch-cmdv.html#s-cmdv-wc" rel="section" title="10.26 wc">
<link href="ch-cmdv.html#s-cmdv-seq" rel="section" title="10.27 seq">
<link href="ch-cmdn.html#s-cmdn-who" rel="section" title="11.1 who">
<link href="ch-cmdn.html#s-cmdn-telnet" rel="section" title="11.2 telnet">
<link href="ch-cmdn.html#s-cmdn-finger" rel="section" title="11.3 finger">
<link href="ch-cmdn.html#s-cmdn-ftp" rel="section" title="11.4 ftp">
<link href="ch-cmdn.html#s-cmdn-whoami" rel="section" title="11.5 whoami">
<link href="ch-cmdn.html#s-cmdn-dnsdomainname" rel="section" title="11.6 dnsdomainname">
<link href="ch-cmdn.html#s-cmdn-hostname" rel="section" title="11.7 hostname">
<link href="ch-cmdn.html#s-cmdn-talk" rel="section" title="11.8 talk">
<link href="ch-cmdc.html#s-cmdc-adduser" rel="section" title="12.1 adduser">
<link href="ch-cmdc.html#s-cmdc-addgroup" rel="section" title="12.2 addgroup">
<link href="ch-cmdc.html#s-cmdc-passwd" rel="section" title="12.3 passwd">
<link href="ch-cmdc.html#s-cmdc-gpasswd" rel="section" title="12.4 gpasswd">
<link href="ch-cmdc.html#s-cmdc-newgrp" rel="section" title="12.5 newgrp">
<link href="ch-cmdc.html#s-cmdc-userdel" rel="section" title="12.6 userdel">
<link href="ch-cmdc.html#s-cmdc-groupdel" rel="section" title="12.7 groupdel">
<link href="ch-cmdc.html#s-cmdc-sg" rel="section" title="12.8 sg">
<link href="ch-cmdc.html#s-cmdc-incluirgrupo" rel="section" title="12.9 Adicionando o usuário a um grupo extra">
<link href="ch-cmdc.html#s-cmdc-chfn" rel="section" title="12.10 chfn">
<link href="ch-cmdc.html#s-cmdc-id" rel="section" title="12.11 id">
<link href="ch-cmdc.html#s-cmdc-logname" rel="section" title="12.12 logname">
<link href="ch-cmdc.html#s-cmdc-users" rel="section" title="12.13 users">
<link href="ch-cmdc.html#s-cmdc-groups" rel="section" title="12.14 groups">
<link href="ch-perm.html#s-perm-user-group" rel="section" title="13.1 Donos, Grupos e outros usuários">
<link href="ch-perm.html#s-perm-tipos" rel="section" title="13.2 Tipos de Permissões de Acesso">
<link href="ch-perm.html#s-perm-acessando" rel="section" title="13.3 Etapas para acesso a um arquivo/diretório">
<link href="ch-perm.html#s-perm-exemplo" rel="section" title="13.4 Exemplos práticos de permissões de acesso">
<link href="ch-perm.html#s-perm-especiais" rel="section" title="13.5 Permissões de Acesso Especiais">
<link href="ch-perm.html#s-perm-root" rel="section" title="13.6 A conta root">
<link href="ch-perm.html#s-perm-chmod" rel="section" title="13.7 chmod">
<link href="ch-perm.html#s-perm-chgrp" rel="section" title="13.8 chgrp">
<link href="ch-perm.html#s-perm-chown" rel="section" title="13.9 chown">
<link href="ch-perm.html#s-perm-octal" rel="section" title="13.10 Modo de permissão octal">
<link href="ch-perm.html#s-perm-umask" rel="section" title="13.11 umask">
<link href="ch-redir.html#s-redir-maior" rel="section" title="14.1 &gt;">
<link href="ch-redir.html#s-redir-maior2" rel="section" title="14.2 &gt;&gt;">
<link href="ch-redir.html#s-redir-menor" rel="section" title="14.3 &lt;">
<link href="ch-redir.html#s-redir-menor2" rel="section" title="14.4 &lt;&lt;">
<link href="ch-redir.html#s-redir-pipe" rel="section" title="14.5 | (pipe)">
<link href="ch-redir.html#s14.6" rel="section" title="14.6 Diferença entre o &quot;|&quot; e o &quot;&gt;&quot;">
<link href="ch-redir.html#s-redir-tee" rel="section" title="14.7 tee">
<link href="ch-rede.html#s-rede-oque" rel="section" title="15.1 O que é uma rede">
<link href="ch-rede.html#s-rede-protocolo" rel="section" title="15.2 Protocolo de Rede">
<link href="ch-rede.html#s-rede-ip" rel="section" title="15.3 Endereço IP">
<link href="ch-rede.html#s-rede-interfaces" rel="section" title="15.4 Interface de rede">
<link href="ch-rede.html#s-rede-rota" rel="section" title="15.5 Roteamento">
<link href="ch-rede.html#s-rede-dns" rel="section" title="15.6 Resolvedor de nomes (DNS)">
<link href="ch-rede.html#s-rede-servicos" rel="section" title="15.7 Serviços de Rede">
<link href="ch-rede.html#s-rede-seg" rel="section" title="15.8 Segurança da Rede e controle de Acesso">
<link href="ch-rede.html#s-rede-outros" rel="section" title="15.9 Outros arquivos de configuração relacionados com a rede">
<link href="ch-cfgrede.html#s-cfgrede-ipalias" rel="section" title="16.1 IP Alias">
<link href="ch-cfgrede.html#s-cfgs-bridge" rel="section" title="16.2 Bridge">
<link href="ch-cfgrede.html#s-cfgs-plip" rel="section" title="16.3 Conectando dois computadores usando a porta paralela">
<link href="ch-cfgrede.html#s-cfgs-slattach" rel="section" title="16.4 Conectando dois computadores usando a porta serial">
<link href="ch-kern.html#s-kern-kernel" rel="section" title="17.1 O Kernel">
<link href="ch-kern.html#s-kern-modulos" rel="section" title="17.2 Módulos">
<link href="ch-kern.html#s-kern-suporte" rel="section" title="17.3 Como adicionar suporte a Hardwares e outros dispositivos no kernel">
<link href="ch-kern.html#s-kern-kmod" rel="section" title="17.4 kmod">
<link href="ch-kern.html#s-kern-lsmod" rel="section" title="17.5 lsmod">
<link href="ch-kern.html#s-kern-insmod" rel="section" title="17.6 insmod">
<link href="ch-kern.html#s-kern-rmmod" rel="section" title="17.7 rmmod">
<link href="ch-kern.html#s-kern-modprobe" rel="section" title="17.8 modprobe">
<link href="ch-kern.html#s-kern-depmod" rel="section" title="17.9 depmod">
<link href="ch-kern.html#s-kern-modconf" rel="section" title="17.10 modconf">
<link href="ch-kern.html#s-kern-recompilando" rel="section" title="17.11 Recompilando o Kernel">
<link href="ch-kern.html#s-kern-arquivos" rel="section" title="17.12 Arquivos relacionados com o Kernel e Módulos">
<link href="ch-kern.html#s-kern-patches" rel="section" title="17.13 Aplicando Patches no kernel">
<link href="ch-log.html#s18.1" rel="section" title="18.1 Formato do arquivo de log">
<link href="ch-log.html#s18.2" rel="section" title="18.2 Daemons de log do sistema">
<link href="ch-log.html#s-log-logger" rel="section" title="18.3 logger">
<link href="ch-cpctd.html#s-cpctd-oque" rel="section" title="19.1 O que fazem os compactadores/descompactadores?">
<link href="ch-cpctd.html#s-cpctd-extensoes" rel="section" title="19.2 Extensões de arquivos compactados">
<link href="ch-cpctd.html#s-cpctd-gzip" rel="section" title="19.3 gzip">
<link href="ch-cpctd.html#s-cpctd-zip" rel="section" title="19.4 zip">
<link href="ch-cpctd.html#s-cpctd-unzip" rel="section" title="19.5 unzip">
<link href="ch-cpctd.html#s-cpctd-tar" rel="section" title="19.6 tar">
<link href="ch-cpctd.html#s-cpctd-bzip2" rel="section" title="19.7 bzip2">
<link href="ch-cpctd.html#s-cpctd-rar" rel="section" title="19.8 rar">
<link href="ch-deb.html#s-deb-obtendo" rel="section" title="20.1 Como obter a Debian">
<link href="ch-deb.html#s-deb-prgnconfig" rel="section" title="20.2 Programas de configuração">
<link href="ch-deb.html#s-deb-startup" rel="section" title="20.3 Arquivos de inicialização">
<link href="ch-deb.html#s-deb-runlevels" rel="section" title="20.4 Níveis de Execução">
<link href="ch-deb.html#s-deb-rede" rel="section" title="20.5 Rede no sistema Debian">
<link href="ch-deb.html#s-deb-bts" rel="section" title="20.6 Bug tracking system">
<link href="ch-deb.html#s-deb-download" rel="section" title="20.7 Onde encontrar a Debian para Download?">
<link href="ch-dpkg.html#s-dpkg-introducao" rel="section" title="21.1 dpkg">
<link href="ch-dpkg.html#s-dpkg-apt" rel="section" title="21.2 apt">
<link href="ch-pers.html#s-pers-varamb" rel="section" title="22.1 Variáveis de Ambientes">
<link href="ch-pers.html#s-pers-idioma" rel="section" title="22.2 Modificando o Idioma usado em seu sistema">
<link href="ch-pers.html#s-pers-alias" rel="section" title="22.3 alias">
<link href="ch-pers.html#s-pers-profile" rel="section" title="22.4 Arquivo /etc/profile">
<link href="ch-pers.html#s-pers-bashprofile" rel="section" title="22.5 Arquivo .bash_profile">
<link href="ch-pers.html#s-pers-bashrc" rel="section" title="22.6 Arquivo .bashrc">
<link href="ch-pers.html#s-pers-hushlogin" rel="section" title="22.7 Arquivo .hushlogin">
<link href="ch-pers.html#s-pers-environment" rel="section" title="22.8 Arquivo /etc/environment">
<link href="ch-pers.html#s-pers-conf-skel" rel="section" title="22.9 Diretório /etc/skel">
<link href="ch-impr.html#s-impr-portas" rel="section" title="23.1 Portas de impressora">
<link href="ch-impr.html#s-impr-direta" rel="section" title="23.2 Imprimindo diretamente para a porta de impressora">
<link href="ch-impr.html#s-impr-spool" rel="section" title="23.3 Imprimindo via spool">
<link href="ch-impr.html#s-impr-graficos" rel="section" title="23.4 Impressão em modo gráfico">
<link href="ch-impr.html#s-impr-magicfilter" rel="section" title="23.5 Magic Filter">
<link href="ch-cfg.html#s-cfg-acentuacao" rel="section" title="24.1 Acentuação">
<link href="ch-tasks.html#s-tasks-cdwriting" rel="section" title="25.1 Gravando CDs e DVDs no Linux">
<link href="ch-tasks.html#s-tasks-cdwriting-rundivx" rel="section" title="25.2 Executando vídeos DIVX">
<link href="ch-tasks.html#s-tasks-rundvd" rel="section" title="25.3 Assistindo DVDs">
<link href="ch-tasks.html#s-tasks-wavtomp3" rel="section" title="25.4 Convertendo músicas no formato wav para mp3">
<link href="ch-tasks.html#s-tasks-mp3cdr" rel="section" title="25.5 Convertendo músicas do formato mp3 para cdr">
<link href="ch-compil.html#s-compil-descricao" rel="section" title="26.1 O que é compilação?">
<link href="ch-compil.html#s-compil-compilador" rel="section" title="26.2 Compilador">
<link href="ch-manut.html#s-manut-checagem" rel="section" title="27.1 Checagem dos sistemas de arquivos">
<link href="ch-manut.html#s-manut-checagem-reiserfsck" rel="section" title="27.2 reiserfsck">
<link href="ch-manut.html#s-manut-checagem-minix" rel="section" title="27.3 fsck.minix">
<link href="ch-manut.html#s-manut-badblocks" rel="section" title="27.4 badblocks">
<link href="ch-manut.html#s-manut-defrag" rel="section" title="27.5 defrag">
<link href="ch-manut.html#s-manut-hdbadblocks" rel="section" title="27.6 Verificando e marcando setores danificados em um HD">
<link href="ch-manut.html#s-manut-logs-l" rel="section" title="27.7 Limpando arquivos de LOGS">
<link href="ch-manut.html#s-manut-recpart" rel="section" title="27.8 Recuperando partições apagadas">
<link href="ch-manut.html#s-manut-senhaperdida" rel="section" title="27.9 Recuperando a senha de root perdida">
<link href="ch-manut.html#s-manut-tarefas" rel="section" title="27.10 Tarefas automáticas de manutenção do sistema">
<link href="ch-manut.html#s-manut-cron" rel="section" title="27.11 cron">
<link href="ch-manut.html#s-manut-at" rel="section" title="27.12 at">
<link href="ch-etc.html#s-etc-alternatives" rel="section" title="28.1 Diretório /etc/alternatives">
<link href="ch-etc.html#s-etc-devpts" rel="section" title="28.2 Arquivo /etc/default/devpts">
<link href="ch-etc.html#s-etc-rcs" rel="section" title="28.3 Arquivo /etc/default/rcS">
<link href="ch-etc.html#s-etc-config" rel="section" title="28.4 Arquivo /etc/console-tools/config">
<link href="ch-etc.html#s-etc-menu-methods" rel="section" title="28.5 Diretório /etc/menu-methods">
<link href="ch-etc.html#s-etc-menu-translate" rel="section" title="28.6 Arquivo /etc/menu-methods/translate_menus">
<link href="ch-etc.html#s-etc-networks" rel="section" title="28.7 Diretório /etc/network">
<link href="ch-etc.html#s-etc-network-interfaces" rel="section" title="28.8 Arquivo /etc/network/interfaces">
<link href="ch-etc.html#s-etc-networks-options" rel="section" title="28.9 Arquivo /etc/networks/options">
<link href="ch-etc.html#s-etc-pam" rel="section" title="28.10 Diretório /etc/pam.d">
<link href="ch-etc.html#s-etc-ppp" rel="section" title="28.11 Diretório /etc/ppp">
<link href="ch-etc.html#s-etc-security" rel="section" title="28.12 Diretório /etc/security">
<link href="ch-etc.html#s-etc-security-access" rel="section" title="28.13 Arquivo /etc/security/access.conf">
<link href="ch-etc.html#s-etc-securith-limits" rel="section" title="28.14 Arquivo /etc/security/limits.conf">
<link href="ch-etc.html#s-etc-crontab" rel="section" title="28.15 Arquivo /etc/crontab">
<link href="ch-etc.html#s28.16" rel="section" title="28.16 Arquivo /etc/fstab">
<link href="ch-etc.html#s28.17" rel="section" title="28.17 Arquivo /etc/group">
<link href="ch-etc.html#s-etc-gshadow" rel="section" title="28.18 Arquivo /etc/gshadow">
<link href="ch-etc.html#s28.19" rel="section" title="28.19 Arquivo /etc/host.conf">
<link href="ch-etc.html#s28.20" rel="section" title="28.20 Arquivo /etc/hostname">
<link href="ch-etc.html#s28.21" rel="section" title="28.21 Arquivo /etc/hosts">
<link href="ch-etc.html#s28.22" rel="section" title="28.22 Arquivo /etc/hosts.allow">
<link href="ch-etc.html#s28.23" rel="section" title="28.23 Arquivo /etc/hosts.deny">
<link href="ch-etc.html#s28.24" rel="section" title="28.24 Arquivo /etc/hosts.equiv">
<link href="ch-etc.html#s28.25" rel="section" title="28.25 Arquivo /etc/inetd.conf">
<link href="ch-etc.html#s-etc-inittab" rel="section" title="28.26 Arquivo /etc/inittab">
<link href="ch-etc.html#s-etc-inputrc" rel="section" title="28.27 Arquivo /etc/inputrc">
<link href="ch-etc.html#s-etc-issue" rel="section" title="28.28 Arquivo /etc/issue">
<link href="ch-etc.html#s-etc-issue-n" rel="section" title="28.29 Arquivo /etc/issue.net">
<link href="ch-etc.html#s28.30" rel="section" title="28.30 Arquivo /etc/lilo.conf">
<link href="ch-etc.html#s-etc-login-d" rel="section" title="28.31 Arquivo /etc/login.defs">
<link href="ch-etc.html#s28.32" rel="section" title="28.32 Arquivo /etc/modules">
<link href="ch-etc.html#s28.33" rel="section" title="28.33 Arquivo /etc/modules.conf">
<link href="ch-etc.html#s-etc-motd" rel="section" title="28.34 Arquivo /etc/motd">
<link href="ch-etc.html#s-etc-mtab" rel="section" title="28.35 Arquivo /etc/mtab">
<link href="ch-etc.html#s28.36" rel="section" title="28.36 Arquivo /etc/networks">
<link href="ch-etc.html#s-etc-passwd" rel="section" title="28.37 Arquivo /etc/passwd">
<link href="ch-etc.html#s-etc-printcap" rel="section" title="28.38 Arquivo /etc/printcap">
<link href="ch-etc.html#s28.39" rel="section" title="28.39 Arquivo /etc/protocols">
<link href="ch-etc.html#s28.40" rel="section" title="28.40 Arquivo /etc/resolv.conf">
<link href="ch-etc.html#s-serial-c" rel="section" title="28.41 Arquivo /etc/serial.conf">
<link href="ch-etc.html#s28.42" rel="section" title="28.42 Arquivo /etc/services">
<link href="ch-etc.html#s-etc-shadow" rel="section" title="28.43 Arquivo /etc/shadow">
<link href="ch-etc.html#s-etc-shells" rel="section" title="28.44 Arquivo /etc/shells">
<link href="ch-etc.html#s-etc-syslog-c" rel="section" title="28.45 Arquivo /etc/syslog.conf">
<link href="ch-etc.html#s-etc-timezones" rel="section" title="28.46 Arquivo /etc/timezone">
<link href="ch-inter.html#s-inter-conectando" rel="section" title="29.1 Conectando-se a Internet">
<link href="ch-inter.html#s-inter-navegando" rel="section" title="29.2 Navegando na Internet">
<link href="ch-inter.html#s-inter-emails-r" rel="section" title="29.3 Recebimento de E-Mails através do fetchmail">
<link href="ch-x11.html#s-x11-descricao" rel="section" title="30.1 O que é X Window?">
<link href="ch-x11.html#s-x11-estrutura" rel="section" title="30.2 A organização do ambiente gráfico X Window">
<link href="ch-x11.html#s-x11-iniciando" rel="section" title="30.3 Iniciando o X">
<link href="ch-x11.html#s-x11-servidor" rel="section" title="30.4 Servidor X">
<link href="ch-fw-iptables.html#s-fw-iptables-intro" rel="section" title="31.1 Introdução">
<link href="ch-fw-iptables.html#s-fw-iptables-chains" rel="section" title="31.2 Manipulando chains">
<link href="ch-fw-iptables.html#s-fw-iptables-outras" rel="section" title="31.3 Outras opções do iptables">
<link href="ch-fw-iptables.html#s-fw-iptables-nat" rel="section" title="31.4 A tabela nat (Network Address Translation) - fazendo nat">
<link href="ch-fw-iptables.html#s-fw-iptables-mangle" rel="section" title="31.5 A tabela mangle">
<link href="ch-fw-iptables.html#s-fw-iptables-mod" rel="section" title="31.6 Outros módulos do iptables">
<link href="ch-fw-iptables.html#s-fw-iptables-path" rel="section" title="31.7 Caminho percorrido pelos pacotes nas tabelas e chains">
<link href="ch-fw-iptables.html#s-fw-iptables-exemplo" rel="section" title="31.8 Exemplos de configurações do iptables">
<link href="ch-d-contas.html#s-d-contas-intro" rel="section" title="32.1 Introdução">
<link href="ch-d-contas.html#s-d-contas-cms" rel="section" title="32.2 Criação, monitoramento e segurança de contas">
<link href="ch-d-contas.html#s-d-contas-ataques" rel="section" title="32.3 Tipos de ataques mais comuns para se conseguir uma senha.">
<link href="ch-d-contas.html#s-d-contas-segsenhas" rel="section" title="32.4 Melhorando a segurança das senhas armazenadas em seu sistema">
<link href="ch-s-apache.html#s-s-apache-intro" rel="section" title="33.1 Introdução">
<link href="ch-s-apache.html#s-s-apache-port" rel="section" title="33.2 Configurando a porta padrão do Apache">
<link href="ch-s-apache.html#s-s-apache-adicpagina" rel="section" title="33.3 Adicionando uma página no Apache">
<link href="ch-s-apache.html#s-s-apache-bindaddress" rel="section" title="33.4 Configurando as interfaces que o Apache atenderá">
<link href="ch-s-apache.html#s-s-apache-listen" rel="section" title="33.5 Especificando endereços/portas adicionais (a diretiva Listen)">
<link href="ch-s-apache.html#s-s-apache-acesso" rel="section" title="33.6 Especificando opções/permissões para as páginas">
<link href="ch-s-apache.html#s-s-apache-acesso-restr" rel="section" title="33.7 Restrições de Acesso">
<link href="ch-s-apache.html#s-s-apache-errordocument" rel="section" title="33.8 Definindo documentos de erro personalizados">
<link href="ch-s-apache.html#s-s-apache-dso" rel="section" title="33.9 Módulos DSO">
<link href="ch-s-apache.html#s-s-apache-log" rel="section" title="33.10 Sistema de Log do Apache">
<link href="ch-s-apache.html#s-s-apache-proxy" rel="section" title="33.11 Configurando o Apache como servidor proxy">
<link href="ch-s-apache.html#s-s-apache-vhosts" rel="section" title="33.12 Virtual Hosts">
<link href="ch-s-apache.html#s-s-apache-ssl" rel="section" title="33.13 Uso de criptografia SSL">
<link href="ch-s-apache.html#s-s-apache-exemplo" rel="section" title="33.14 Exemplo comentado de um arquivo de configuração do Apache">
<link href="ch-s-apache.html#s-s-apache-httpcodes" rel="section" title="33.15 Códigos HTTP">
<link href="ch-s-ident.html#s-s-ident-intro" rel="section" title="34.1 Introdução">
<link href="ch-s-telnet.html#s-s-telnet-intro" rel="section" title="35.1 Introdução">
<link href="ch-s-telnet.html#s-s-telnet-access" rel="section" title="35.2 Controle de acesso">
<link href="ch-s-telnet.html#s-s-telnet-recomend" rel="section" title="35.3 Recomendações">
<link href="ch-s-telnet.html#s-s-telnet-telnet" rel="section" title="35.4 Fazendo conexões ao servidor telnet">
<link href="ch-s-ssh.html#s-s-ssh-intro" rel="section" title="36.1 Introdução">
<link href="ch-s-ssh.html#s-s-ssh-cliente" rel="section" title="36.2 Usando aplicativos clientes">
<link href="ch-s-ssh.html#s-s-ssh-server" rel="section" title="36.3 Servidor ssh">
<link href="ch-s-pop3.html#s-s-pop3-intro" rel="section" title="37.1 Introdução">
<link href="ch-s-cvs.html#s-s-cvs-intro" rel="section" title="38.1 Introdução ao CVS">
<link href="ch-s-cvs.html#s-s-cvs-d" rel="section" title="38.2 Servidor de CVS - configurando métodos de acesso ao repositório">
<link href="ch-s-cvs.html#s-s-cvs-p" rel="section" title="38.3 Criando projetos para serem usados no CVS">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot" rel="section" title="38.4 Arquivos administrativos em CVSROOT">
<link href="ch-s-cvs.html#s-s-cvs-c" rel="section" title="38.5 Clientes de CVS">
<link href="ch-s-cvs.html#s-s-cvs-exemplo" rel="section" title="38.6 Exemplo de uma seção CVS">
<link href="ch-s-samba.html#s-s-samba-intro" rel="section" title="39.1 Introdução">
<link href="ch-s-samba.html#s-s-samba-s" rel="section" title="39.2 Conceitos gerais para a configuração do SAMBA">
<link href="ch-s-samba.html#s-s-samba-s-a" rel="section" title="39.3 Compartilhamento de arquivos e diretórios">
<link href="ch-s-samba.html#s-s-samba-wrkgrp" rel="section" title="39.4 Configuração em Grupo de Trabalho">
<link href="ch-s-samba.html#s-s-samba-s-nameresolv" rel="section" title="39.5 Resolução de nomes de máquinas no samba">
<link href="ch-s-samba.html#s-s-samba-s-timeserver" rel="section" title="39.6 Servidor de data/hora">
<link href="ch-s-samba.html#s-s-samba-dom" rel="section" title="39.7 Configuração em Domínio">
<link href="ch-s-samba.html#s-s-samba-senhas-crypto" rel="section" title="39.8 Ativando o suporte a senhas criptografadas">
<link href="ch-s-samba.html#s-s-samba-senhas-plano" rel="section" title="39.9 Ativando o suporte a senhas em texto plano">
<link href="ch-s-samba.html#s-s-samba-usermap" rel="section" title="39.10 Mapeamento de usuários/grupos em clientes">
<link href="ch-s-samba.html#s-s-samba-i" rel="section" title="39.11 Compartilhamento de impressão no servidor SAMBA">
<link href="ch-s-samba.html#s-s-samba-a" rel="section" title="39.12 Controle de acesso ao servidor SAMBA">
<link href="ch-s-samba.html#s-s-samba-perf" rel="section" title="39.13 Melhorando a performance do compartilhamento/servidor">
<link href="ch-s-samba.html#s-s-samba-c" rel="section" title="39.14 Configuração de Clientes NetBEUI">
<link href="ch-s-samba.html#s-s-samba-exemplos" rel="section" title="39.15 Exemplos de configuração do servidor SAMBA">
<link href="ch-d-restr.html#s-d-restr-bash" rel="section" title="40.1 Limitando recursos no bash">
<link href="ch-d-restr.html#s-d-restr-pam" rel="section" title="40.2 Limitação de recursos usando PAM">
<link href="ch-d-restr.html#s-d-restr-grupos" rel="section" title="40.3 Restrições de acesso a programas/diretórios/arquivos usando grupos">
<link href="ch-d-restr.html#s-d-restr-sudo" rel="section" title="40.4 Dando poderes de root para executar determinados programas">
<link href="ch-d-restr.html#s-d-restr-su" rel="section" title="40.5 Restringindo o comando su">
<link href="ch-d-restr.html#s-d-restr-identd" rel="section" title="40.6 Restrições baseadas em usuário/IP">
<link href="ch-d-restr.html#s-d-restr-ipmac" rel="section" title="40.7 Restrições por MAC Address/IP">
<link href="ch-d-restr.html#s-d-restr-inetd" rel="section" title="40.8 Desabilitando serviços não usados no Inetd">
<link href="ch-d-restr.html#s-d-restr-authinseg" rel="section" title="40.9 Evitando o uso de hosts.equiv e .rhosts">
<link href="ch-d-restr.html#s-d-restr-shutdown" rel="section" title="40.10 Restringindo o uso do shutdown">
<link href="ch-d-restr.html#s-d-restr-proc" rel="section" title="40.11 Restringindo o acesso ao sistema de arquivos /proc">
<link href="ch-d-restr.html#s-d-restr-quotas" rel="section" title="40.12 Limitando o uso de espaço em disco (quotas)">
<link href="ch-d-restr.html#s40.13" rel="section" title="40.13 Suporte a senhas ocultas">
<link href="ch-d-restr.html#s40.14" rel="section" title="40.14 Suporte a senhas md5">
<link href="ch-d-restr.html#s-d-restr-hardware" rel="section" title="40.15 Restrições no hardware do sistema">
<link href="ch-d-cripto.html#s-d-cripto-intro" rel="section" title="41.1 Introdução">
<link href="ch-d-cripto.html#s-d-cripto-sniffer" rel="section" title="41.2 Sniffer">
<link href="ch-d-cripto.html#s-d-cripto-alt" rel="section" title="41.3 Alternativas seguras a serviços sem criptografia">
<link href="ch-d-cripto.html#s-d-cripto-criptofs" rel="section" title="41.4 Sistemas de arquivos criptográfico">
<link href="ch-d-cripto.html#s-d-cripto-gpg" rel="section" title="41.5 Usando pgp (gpg)para criptografia de arquivos">
<link href="ch-aplic.html#s-aplic-b" rel="section" title="42.1 Aplicativos Básicos">
<link href="ch-aplic.html#s42.2" rel="section" title="42.2 Listagem de Aplicativos para GNU/Linux">
<link href="ch-ajuda.html#s-ajuda-man" rel="section" title="43.1 Páginas de Manual">
<link href="ch-ajuda.html#s-ajuda-info" rel="section" title="43.2 Info Pages">
<link href="ch-ajuda.html#s-ajuda-helponline" rel="section" title="43.3 Help on line">
<link href="ch-ajuda.html#s-ajuda-help" rel="section" title="43.4 help">
<link href="ch-ajuda.html#s-ajuda-apropos" rel="section" title="43.5 apropos/whatis">
<link href="ch-ajuda.html#s-ajuda-locate" rel="section" title="43.6 locate">
<link href="ch-ajuda.html#s-ajuda-which" rel="section" title="43.7 which">
<link href="ch-ajuda.html#s-ajuda-howto" rel="section" title="43.8 Documentos HOWTO's">
<link href="ch-ajuda.html#s-ajuda-docs" rel="section" title="43.9 Documentação de Programas">
<link href="ch-ajuda.html#s-ajuda-faq" rel="section" title="43.10 FAQ">
<link href="ch-ajuda.html#s-ajuda-internet" rel="section" title="43.11 Internet">
<link href="ch-ajuda.html#s-ajuda-netiqueta" rel="section" title="43.12 Netiqueta">
<link href="ch-systemd.html#s-s-systemd-historia" rel="section" title="44.1 Um pouco história sobre o systemd">
<link href="ch-systemd.html#s-s-systemd-uso" rel="section" title="44.2 Usando o systemd">
<link href="ch-git.html#s-s-git-historia" rel="section" title="45.1 Sobre o Git">
<link href="ch-git.html#s-s-git-caracteristicas" rel="section" title="45.2 Características e critérios">
<link href="ch-git.html#s-s-git-comandos" rel="section" title="45.3 Comandos do Git">
<link href="ch-virt-intro.html#s-virt-motivos" rel="section" title="46.1 Por que usar virtualização">
<link href="ch-virt-intro.html#s-virt-tipos" rel="section" title="46.2 Tipos de virtualização">
<link href="ch-virt-intro.html#s-virt-nomenclatura" rel="section" title="46.3 Nomenclaturas de virtualização">
<link href="ch-virt-intro.html#s-virt-lxc" rel="section" title="46.4 LXC - Linux Container">
<link href="ch-apend.html#s-apend-sobre" rel="section" title="47.1 Sobre este guia">
<link href="ch-apend.html#s-apend-autor" rel="section" title="47.2 Sobre o Autor">
<link href="ch-apend.html#s-apend-ref" rel="section" title="47.3 Referências de auxílio ao desenvolvimento do guia">
<link href="ch-apend.html#s-apend-homepage" rel="section" title="47.4 Onde encontrar a versão mais nova do guia?">
<link href="ch-apend.html#s-apend-colaboradores" rel="section" title="47.5 Colaboradores do Guia">
<link href="ch-apend.html#s-apend-mr" rel="section" title="47.6 Marcas Registradas">
<link href="ch-apend.html#s-apend-new" rel="section" title="47.7 Futuras versões">
<link href="ch-apend.html#s-apend-pgp" rel="section" title="47.8 Chave Pública PGP">
<link href="ch-intro.html#s-introducao-linux-carac" rel="subsection" title="1.4.1 Algumas Características do GNU/Linux">
<link href="ch-intro.html#s-introducao-conhecendo-tipo" rel="subsection" title="1.9.1 Tipos de Gabinete">
<link href="ch-intro.html#s-introducao-conhecendo-painel" rel="subsection" title="1.9.2 Painel Frontal">
<link href="ch-intro.html#s-introducao-conhecendo-monitor" rel="subsection" title="1.9.3 Monitor de Vídeo">
<link href="ch-intro.html#s-introducao-placamae-outros" rel="subsection" title="1.10.1 Alguns componentes da placa mãe">
<link href="ch-intro.html#s-introducao-memoria-principal" rel="subsection" title="1.11.1 Memória Principal">
<link href="ch-intro.html#s-introducao-memoria-auxiliar" rel="subsection" title="1.11.2 Memória Auxiliar">
<link href="ch-intro.html#s-introducao-discos-flexiveis" rel="subsection" title="1.12.1 Discos Flexíveis">
<link href="ch-intro.html#s-introducao-discos-rigidos" rel="subsection" title="1.12.2 Disco Rígido">
<link href="ch-intro.html#s-introducao-discos-cd" rel="subsection" title="1.12.3 CD/DVD/BluRay">
<link href="ch-bas.html#s-basico-arquivo-tipos" rel="subsection" title="2.2.1 Extensão de arquivos">
<link href="ch-bas.html#s-basico-arquivo-tamanho" rel="subsection" title="2.2.2 Tamanho de arquivos">
<link href="ch-bas.html#s-basico-arquivo-bintext" rel="subsection" title="2.2.3 Arquivo texto e binário">
<link href="ch-bas.html#s-basico-diretorio-raiz" rel="subsection" title="2.3.1 Diretório Raíz">
<link href="ch-bas.html#s-basico-diretorio-atual" rel="subsection" title="2.3.2 Diretório atual">
<link href="ch-bas.html#s-basico-diretorio-home" rel="subsection" title="2.3.3 Diretório home">
<link href="ch-bas.html#s-basico-diretorio-superior" rel="subsection" title="2.3.4 Diretório Superior">
<link href="ch-bas.html#s-basico-diretorio-anterior" rel="subsection" title="2.3.5 Diretório Anterior">
<link href="ch-bas.html#s-basico-diretorio-caminho" rel="subsection" title="2.3.6 Caminho na estrutura de diretórios">
<link href="ch-bas.html#s-basico-diretorio-exemplo" rel="subsection" title="2.3.7 Exemplo de diretório">
<link href="ch-bas.html#s-basico-diretorio-estrutura" rel="subsection" title="2.3.8 Estrutura básica de diretórios do Sistema Linux">
<link href="ch-bas.html#s-basico-comandos-internos" rel="subsection" title="2.5.1 Comandos Internos">
<link href="ch-hardw.html#s-hardw-cfg-irq" rel="subsection" title="3.3.1 IRQ - Requisição de Interrupção">
<link href="ch-hardw.html#s3.3.1.1" rel="subsection" title="3.3.1.1 Prioridade das Interrupções">
<link href="ch-hardw.html#s-hardw-cfg-dma" rel="subsection" title="3.3.2 DMA - Acesso Direto a Memória">
<link href="ch-hardw.html#s3.3.2.1" rel="subsection" title="3.3.2.1 Conflitos de DMA">
<link href="ch-hardw.html#s-hardw-cfg-io" rel="subsection" title="3.3.3 I/O - Porta de Entrada/Saída">
<link href="ch-hardw.html#s-hardw-metodoscfg-jumpers" rel="subsection" title="3.4.1 Jumpers">
<link href="ch-hardw.html#s-hardw-metodoscfg-dipswitche" rel="subsection" title="3.4.2 Dip-Switches">
<link href="ch-hardw.html#s-hardw-metodoscfg-jumperless" rel="subsection" title="3.4.3 Jumperless (sem jumper)">
<link href="ch-hardw.html#s-hardw-metodoscfg-plug-and-play" rel="subsection" title="3.4.4 Plug-and-Play">
<link href="ch-hardw.html#s-hardw-cfgdisp-rede" rel="subsection" title="3.11.1 Configurando uma placa de rede">
<link href="ch-hardw.html#s-hardw-cfgdisp-som" rel="subsection" title="3.11.2 Configurando uma placa de SOM no Linux">
<link href="ch-hardw.html#s-hardw-cfgdisp-som-oss" rel="subsection" title="3.11.2.1 Configurando uma placa de som usando o padrão OSS">
<link href="ch-hardw.html#s-hardw-cfgdisp-cdwritter" rel="subsection" title="3.11.3 Configurando um gravador de CD/DVD no Linux">
<link href="ch-hardw.html#s-hardw-cfgdisp-cdwritter-ide" rel="subsection" title="3.11.3.1 Configurando o suporte a um gravador IDE">
<link href="ch-hardw.html#s-hardw-cfgdisp-cdwritter-scsi" rel="subsection" title="3.11.3.2 Configurando o suporte a um gravador SCSI">
<link href="ch-hardw.html#s-hardw-cfgdisp-cdwritter-teste" rel="subsection" title="3.11.3.3 Testando o funcionamento">
<link href="ch-hardw.html#s-hardw-cfgdisp-apm" rel="subsection" title="3.11.4 Configurando o gerenciamento de energia usando o APM">
<link href="ch-hardw.html#s-hardw-cfgdisp-acpi" rel="subsection" title="3.11.5 Configurando o gerenciamento de energia usando ACPI">
<link href="ch-hardw.html#s-hardw-cfgdisp-wol" rel="subsection" title="3.11.6 Ativando WakeUP on Lan">
<link href="ch-d-l.html#s4.2.1" rel="subsection" title="4.2.1 Arquivos de configuração">
<link href="ch-disc.html#s-disc-formatando-l" rel="subsection" title="5.2.1 Formatando pen-drives para serem usados no Linux">
<link href="ch-disc.html#s-disc-formatando-d" rel="subsection" title="5.2.2 Formatando pen-drives compatíveis com o Windows">
<link href="ch-disc.html#s-disc-formatando-g" rel="subsection" title="5.2.3 Programas de Formatação Gráficos">
<link href="ch-disc.html#s-disc-fstab" rel="subsection" title="5.5.1 fstab">
<link href="ch-boot.html#s-boot-lilo-cfg" rel="subsection" title="6.1.1 Criando o arquivo de configuração do LILO">
<link href="ch-boot.html#s-boot-lilo-opcoes" rel="subsection" title="6.1.2 Opções usadas no LILO">
<link href="ch-boot.html#s-boot-lilo-exemplo" rel="subsection" title="6.1.3 Um exemplo do arquivo de configuração lilo.conf">
<link href="ch-boot.html#s-boot-grub-part" rel="subsection" title="6.2.1 Como o GRUB trabalha com discos e partições">
<link href="ch-boot.html#s-boot-grub-install" rel="subsection" title="6.2.2 Instalando o GRUB">
<link href="ch-boot.html#s-boot-grub-install-mbr" rel="subsection" title="6.2.2.1 No MBR">
<link href="ch-boot.html#s-boot-grub-install-fd-cmd" rel="subsection" title="6.2.3 No disco flexível (somente linha de comando)">
<link href="ch-boot.html#s-boot-grub-install-fd-menu" rel="subsection" title="6.2.4 No disco flexível (com interface de menu)">
<link href="ch-boot.html#s-boot-grub-opcoescfg" rel="subsection" title="6.2.5 Opções do arquivo de configuração">
<link href="ch-boot.html#s-boot-grub-exemplo" rel="subsection" title="6.2.6 Um exemplo de arquivo de configuração">
<link href="ch-boot.html#s-boot-grub-cmdline" rel="subsection" title="6.2.7 Usando a linha de comandos do GRUB">
<link href="ch-boot.html#s-boot-grub-removendo" rel="subsection" title="6.2.8 Removendo o GRUB do MBR">
<link href="ch-boot.html#s-boot-grub-detalhes" rel="subsection" title="6.2.9 Como obter informações mais detalhadas">
<link href="ch-boot.html#s-boot-loadlin-opcoes" rel="subsection" title="6.4.1 Opções do LOADLIN">
<link href="ch-boot.html#s-boot-loadlin-exemplo" rel="subsection" title="6.4.2 Exemplo de inicialização com o LOADLIN">
<link href="ch-boot.html#s-boot-syslinux-criando" rel="subsection" title="6.5.1 Criando um disquete de inicialização com o syslinux">
<link href="ch-boot.html#s-boot-syslinux-opcoes" rel="subsection" title="6.5.2 O arquivo SYSLINUX.CFG">
<link href="ch-boot.html#s-boot-syslinux-formatacao" rel="subsection" title="6.5.3 Formatação dos arquivos de tela do syslinux">
<link href="ch-run.html#s-run-break" rel="subsection" title="7.7.1 Interrompendo a execução de um processo">
<link href="ch-run.html#s-run-pausa" rel="subsection" title="7.7.2 Parando momentaneamente a execução de um processo">
<link href="ch-run.html#s-run-ver-backgrounds" rel="subsection" title="7.7.3 jobs">
<link href="ch-run.html#s-run-fg" rel="subsection" title="7.7.4 fg">
<link href="ch-run.html#s-run-bg" rel="subsection" title="7.7.5 bg">
<link href="ch-run.html#s-run-kill" rel="subsection" title="7.7.6 kill">
<link href="ch-run.html#s-run-killall" rel="subsection" title="7.7.7 killall">
<link href="ch-run.html#s-run-killall5" rel="subsection" title="7.7.8 killall5">
<link href="ch-run.html#s-run-sinais" rel="subsection" title="7.7.9 Sinais do Sistema">
<link href="ch-perm.html#s-perm-exemplo-a" rel="subsection" title="13.4.1 Exemplo de acesso a um arquivo">
<link href="ch-perm.html#s-perm-exemplo-d" rel="subsection" title="13.4.2 Exemplo de acesso a um diretório">
<link href="ch-rede.html#s-rede-ip-classes" rel="subsection" title="15.3.1 Classes de Rede IP">
<link href="ch-rede.html#s-rede-ip-nova" rel="subsection" title="15.3.2 Para instalar uma máquina usando o Linux em uma rede existente">
<link href="ch-rede.html#s-rede-ip-privada" rel="subsection" title="15.3.3 Endereços reservados para uso em uma rede Privada">
<link href="ch-rede.html#s-rede-interfaces-lo" rel="subsection" title="15.4.1 A interface loopback">
<link href="ch-rede.html#s-rede-interfaces-c" rel="subsection" title="15.4.2 Atribuindo um endereço de rede a uma interface (ifconfig)">
<link href="ch-rede.html#s-rede-rota-c" rel="subsection" title="15.5.1 Configurando uma rota no Linux">
<link href="ch-rede.html#s-rede-dns-oque" rel="subsection" title="15.6.1 O que é um nome?">
<link href="ch-rede.html#s-rede-dns-a" rel="subsection" title="15.6.2 Arquivos de configuração usados na resolução de nomes">
<link href="ch-rede.html#s-rede-dns-a-resolv" rel="subsection" title="15.6.2.1 /etc/resolv.conf">
<link href="ch-rede.html#s-rede-dns-a-hostconf" rel="subsection" title="15.6.2.2 /etc/host.conf">
<link href="ch-rede.html#s-rede-dns-a-hosts" rel="subsection" title="15.6.2.3 /etc/hosts">
<link href="ch-rede.html#s-rede-dns-a-networks" rel="subsection" title="15.6.2.4 /etc/networks">
<link href="ch-rede.html#s-rede-dns-servdns" rel="subsection" title="15.6.3 Executando um servidor de nomes">
<link href="ch-rede.html#s-rede-servicos-daemon" rel="subsection" title="15.7.1 Serviços iniciados como Daemons de rede">
<link href="ch-rede.html#s-rede-servicos-inetd" rel="subsection" title="15.7.2 Serviços iniciados através do inetd">
<link href="ch-rede.html#s-rede-servicos-inetd-c" rel="subsection" title="15.7.2.1 /etc/inetd.conf">
<link href="ch-rede.html#s-rede-seg-ftpusers" rel="subsection" title="15.8.1 /etc/ftpusers">
<link href="ch-rede.html#s-rede-seg-securetty" rel="subsection" title="15.8.2 /etc/securetty">
<link href="ch-rede.html#s-rede-seg-tcpd" rel="subsection" title="15.8.3 O mecanismo de controle de acessos tcpd">
<link href="ch-rede.html#s-rede-seg-tcpd-a" rel="subsection" title="15.8.3.1 /etc/hosts.allow">
<link href="ch-rede.html#s-rede-seg-tcpd-d" rel="subsection" title="15.8.3.2 /etc/hosts.deny">
<link href="ch-rede.html#s-rede-seg-tcpd-e" rel="subsection" title="15.8.3.3 /etc/hosts.equiv e /etc/shosts.equiv">
<link href="ch-rede.html#s-rede-seg-tcpd-v" rel="subsection" title="15.8.3.4 Verificando a segurança do TCPD e a sintaxe dos arquivos">
<link href="ch-rede.html#s-rede-seg-firewall" rel="subsection" title="15.8.4 Firewall">
<link href="ch-rede.html#s-rede-outros-services" rel="subsection" title="15.9.1 /etc/services">
<link href="ch-rede.html#s-rede-outros-protocols" rel="subsection" title="15.9.2 /etc/protocols">
<link href="ch-cfgrede.html#s-cfgs-bridge-req" rel="subsection" title="16.2.1 Requerimentos para a Instalação">
<link href="ch-cfgrede.html#s-cfgs-bridge-cfg" rel="subsection" title="16.2.2 Configuração da bridge">
<link href="ch-cfgrede.html#s-cfgs-bridge-cfgadv" rel="subsection" title="16.2.3 Configurações mais avançadas de bridge">
<link href="ch-cfgrede.html#s-cfgs-bridge-cfgmanual" rel="subsection" title="16.2.4 Configuração manual da bridge">
<link href="ch-cfgrede.html#s-cfgs-bridge-fw" rel="subsection" title="16.2.5 Usando o iptables para construir um firewall na máquina da bridge">
<link href="ch-cfgrede.html#s-cfgs-bridge-filternoip" rel="subsection" title="16.2.6 Filtrando pacotes não IP na bridge">
<link href="ch-cfgrede.html#s-cfgs-plip-cabo" rel="subsection" title="16.3.1 Construindo um cabo LapLink Paralelo">
<link href="ch-cfgrede.html#s-cfgs-slattach-cabo" rel="subsection" title="16.4.1 Construindo um cabo LapLink Serial">
<link href="ch-kern.html#s-kern-arquivos-modules" rel="subsection" title="17.12.1 /etc/modules">
<link href="ch-kern.html#s-kern-arquivos-modulesconf" rel="subsection" title="17.12.2 modules.conf">
<link href="ch-log.html#s-log-syslogd" rel="subsection" title="18.2.1 syslogd">
<link href="ch-log.html#s-log-syslogd-exemplo" rel="subsection" title="18.2.1.1 Arquivo de configuração syslog.conf">
<link href="ch-log.html#s-log-klogd" rel="subsection" title="18.2.2 klogd">
<link href="ch-cpctd.html#s-cpctd-tipos" rel="subsection" title="19.1.1 Tipos de compactação">
<link href="ch-deb.html#s-deb-runlevels-e" rel="subsection" title="20.4.1 Entendendo o funcionamento dos níveis de execução do sistema (runlevels)">
<link href="ch-dpkg.html#s-dpkg-pacotes" rel="subsection" title="21.1.1 Pacotes">
<link href="ch-dpkg.html#s-dpkg-instalar" rel="subsection" title="21.1.2 Instalar pacotes">
<link href="ch-dpkg.html#s-dpkg-dependencias" rel="subsection" title="21.1.3 Dependências">
<link href="ch-dpkg.html#s-dpkg-l" rel="subsection" title="21.1.4 Listar pacotes existentes no sistema">
<link href="ch-dpkg.html#s-dpkg-r" rel="subsection" title="21.1.5 Removendo pacotes do sistema">
<link href="ch-dpkg.html#s-dpkg-purge" rel="subsection" title="21.1.6 Removendo completamente um pacote">
<link href="ch-dpkg.html#s-dpkg-I" rel="subsection" title="21.1.7 Mostrar descrição do pacote">
<link href="ch-dpkg.html#s-dpkg-S" rel="subsection" title="21.1.8 Procura de pacotes através do nome de um arquivo">
<link href="ch-dpkg.html#s-dpkg-s" rel="subsection" title="21.1.9 Status do pacote">
<link href="ch-dpkg.html#s-dpkg-C" rel="subsection" title="21.1.10 Procurando pacotes com problemas de instalação">
<link href="ch-dpkg.html#s-dpkg-get-selections" rel="subsection" title="21.1.11 Mostrando a lista de pacotes do sistema">
<link href="ch-dpkg.html#s-dpkg-set-selections" rel="subsection" title="21.1.12 Obtendo uma lista de pacotes para instalar no sistema">
<link href="ch-dpkg.html#s-dpkg-configure" rel="subsection" title="21.1.13 Configurando pacotes desconfigurados">
<link href="ch-dpkg.html#s-dpkg-c" rel="subsection" title="21.1.14 Listando arquivos de um pacote">
<link href="ch-dpkg.html#s21.2.1" rel="subsection" title="21.2.1 O arquivo /etc/apt/sources.list">
<link href="ch-dpkg.html#s21.2.1.1" rel="subsection" title="21.2.1.1 Endereços de servidores e mirrors nacionais da Debian">
<link href="ch-dpkg.html#s21.2.1.2" rel="subsection" title="21.2.1.2 Um modelo de arquivo sources.list">
<link href="ch-dpkg.html#s21.2.2" rel="subsection" title="21.2.2 O arquivo /etc/apt/apt.conf">
<link href="ch-dpkg.html#s21.2.3" rel="subsection" title="21.2.3 Copiando a lista de pacotes disponíveis">
<link href="ch-dpkg.html#s21.2.4" rel="subsection" title="21.2.4 Utilizando CDs oficiais/não-oficiais/terceiros com o apt">
<link href="ch-dpkg.html#s21.2.5" rel="subsection" title="21.2.5 Instalando novos pacotes">
<link href="ch-dpkg.html#s21.2.6" rel="subsection" title="21.2.6 Removendo pacotes instalado">
<link href="ch-dpkg.html#s21.2.7" rel="subsection" title="21.2.7 Atualizando sua distribuição">
<link href="ch-dpkg.html#s21.2.8" rel="subsection" title="21.2.8 Removendo pacotes baixados pelo apt">
<link href="ch-dpkg.html#s21.2.9" rel="subsection" title="21.2.9 Procurando por pacotes através da descrição">
<link href="ch-dpkg.html#s21.2.10" rel="subsection" title="21.2.10 Procurando um pacote que contém determinado arquivo">
<link href="ch-dpkg.html#s21.2.11" rel="subsection" title="21.2.11 Modos eficazes de compilação do código fonte para a Debian">
<link href="ch-dpkg.html#s21.2.12" rel="subsection" title="21.2.12 Verificando pacotes corrompidos">
<link href="ch-dpkg.html#s21.2.13" rel="subsection" title="21.2.13 Corrigindo problemas de dependências e outros erros">
<link href="ch-impr.html#s-impr-ghostscript" rel="subsection" title="23.4.1 Ghost Script">
<link href="ch-impr.html#s-impr-magicfilter-i" rel="subsection" title="23.5.1 Instalação e configuração do Magic Filter">
<link href="ch-impr.html#s-impr-magicfilter-c" rel="subsection" title="23.5.2 Outros detalhes técnicos sobre o Magic Filter">
<link href="ch-cfg.html#s-cfg-acentuacao-t" rel="subsection" title="24.1.1 Acentuação em modo Texto">
<link href="ch-cfg.html#s-cfg-acentuacao-g" rel="subsection" title="24.1.2 Acentuação em modo gráfico">
<link href="ch-tasks.html#s-tasks-cdwriting-data" rel="subsection" title="25.1.1 Gravando CDs / DVDs de dados">
<link href="ch-tasks.html#s-tasks-cdwriting-audio" rel="subsection" title="25.1.2 Gravando um CD de audio">
<link href="ch-tasks.html#s-tasks-cdwriting-cdcd" rel="subsection" title="25.1.3 Cópia de CD para CD no mesmo gravador">
<link href="ch-tasks.html#s-tasks-cdwriting-massivewrite" rel="subsection" title="25.1.4 Gravação massiva de CDs">
<link href="ch-tasks.html#s-tasks-cdwriting-cdfrommp3" rel="subsection" title="25.1.5 Gravação de CDs diretamente através de arquivos mp3 ou Ogg">
<link href="ch-tasks.html#s-tasks-cdwriting-backupcd" rel="subsection" title="25.1.6 Backup de dados para 1 ou mais CDs">
<link href="ch-tasks.html#s-tasks-cdwriting-graphicapps" rel="subsection" title="25.1.7 Aplicações gráficas para gravação de CDs">
<link href="ch-tasks.html#s-tasks-cdwriting-cover" rel="subsection" title="25.1.8 Criar a capa de frente e verso do CD/DVD">
<link href="ch-manut.html#s-manut-checagem-ext2" rel="subsection" title="27.1.1 fsck.ext2">
<link href="ch-manut.html#s-manut-cron-formato" rel="subsection" title="27.11.1 O formato de um arquivo crontab">
<link href="ch-inter.html#s-inter-conectando-adsl" rel="subsection" title="29.1.1 Conectando através de ADSL">
<link href="ch-inter.html#s-inter-conectando-ppp" rel="subsection" title="29.1.2 Conectando através de Internet Discada">
<link href="ch-inter.html#s-inter-procmail" rel="subsection" title="29.3.1 Processamento de mensagens através do procmail">
<link href="ch-fw-iptables.html#s-fw-iptables-versao" rel="subsection" title="31.1.1 Versão">
<link href="ch-fw-iptables.html#s-fw-iptables-historia" rel="subsection" title="31.1.2 Um resumo da história do iptables">
<link href="ch-fw-iptables.html#s-fw-iptables-caracteristicas" rel="subsection" title="31.1.3 Características do firewall iptables">
<link href="ch-fw-iptables.html#s-fw-iptables-ficha" rel="subsection" title="31.1.4 Ficha técnica">
<link href="ch-fw-iptables.html#s-fw-iptables-hwreq" rel="subsection" title="31.1.5 Requerimentos">
<link href="ch-fw-iptables.html#s-fw-iptables-logs" rel="subsection" title="31.1.6 Arquivos de logs criados pelo iptables">
<link href="ch-fw-iptables.html#s-fw-iptables-install" rel="subsection" title="31.1.7 Instalação">
<link href="ch-fw-iptables.html#s-fw-iptables-contribuindo" rel="subsection" title="31.1.8 Enviando Correções/Contribuindo com o projeto">
<link href="ch-fw-iptables.html#s-fw-iptables-oldfw" rel="subsection" title="31.1.9 O que aconteceu com o ipchains e ipfwadm?">
<link href="ch-fw-iptables.html#s-fw-iptables-tiposfw" rel="subsection" title="31.1.10 Tipos de firewalls">
<link href="ch-fw-iptables.html#s-fw-iptables-proteger-oque" rel="subsection" title="31.1.11 O que proteger?">
<link href="ch-fw-iptables.html#s-fw-iptables-regras-oque" rel="subsection" title="31.1.12 O que são regras?">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-oque" rel="subsection" title="31.1.13 O que são chains?">
<link href="ch-fw-iptables.html#s-fw-iptables-tabelas" rel="subsection" title="31.1.14 O que são tabelas?">
<link href="ch-fw-iptables.html#s-fw-iptables-supkernel" rel="subsection" title="31.1.15 Habilitando o suporte ao iptables no kernel">
<link href="ch-fw-iptables.html#s-fw-iptables-proxy" rel="subsection" title="31.1.16 Ligando sua rede interna a Internet">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-A" rel="subsection" title="31.2.1 Adicionando regras - A">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-L" rel="subsection" title="31.2.2 Listando regras - L">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-D" rel="subsection" title="31.2.3 Apagando uma regra - D">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-I" rel="subsection" title="31.2.4 Inserindo uma regra - I">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-R" rel="subsection" title="31.2.5 Substituindo uma regra - R">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-N" rel="subsection" title="31.2.6 Criando um novo chain - N">
<link href="ch-fw-iptables.html#s31.2.7" rel="subsection" title="31.2.7 Renomeando um chain criado pelo usuário - E">
<link href="ch-fw-iptables.html#s31.2.8" rel="subsection" title="31.2.8 Listando os nomes de todas as tabelas atuais">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-F" rel="subsection" title="31.2.9 Limpando as regras de um chain - F">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-X" rel="subsection" title="31.2.10 Apagando um chain criado pelo usuário - X">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-Z" rel="subsection" title="31.2.11 Zerando contador de bytes dos chains - Z">
<link href="ch-fw-iptables.html#s-fw-iptables-chains-P" rel="subsection" title="31.2.12 Especificando a política padrão de um chain - P">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-endOD" rel="subsection" title="31.3.1 Especificando um endereço de origem/destino">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-iface" rel="subsection" title="31.3.2 Especificando a interface de origem/destino">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-proto" rel="subsection" title="31.3.3 Especificando um protocolo">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-proto-p" rel="subsection" title="31.3.3.1 Especificando portas de origem/destino">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-proto-micmp" rel="subsection" title="31.3.3.2 Especificando mensagens do protocolo ICMP">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-proto-syn" rel="subsection" title="31.3.3.3 Especificando pacotes syn">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-fragmentos" rel="subsection" title="31.3.4 Especificando fragmentos">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-excessoes" rel="subsection" title="31.3.5 Especificando uma exceção">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-alvo" rel="subsection" title="31.3.6 Especificando um alvo">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-alvo-REJECT" rel="subsection" title="31.3.6.1 Alvo REJECT">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-alvo-LOG" rel="subsection" title="31.3.6.2 Especificando LOG como alvo">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-alvo-RETURN" rel="subsection" title="31.3.6.3 Especificando RETURN como alvo">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-save-restore" rel="subsection" title="31.3.7 Salvando e Restaurando regras">
<link href="ch-fw-iptables.html#s-fw-iptables-nat-N" rel="subsection" title="31.4.1 Criando um novo chain na tabela NAT">
<link href="ch-fw-iptables.html#s-fw-iptables-nat-fastmasquerade" rel="subsection" title="31.4.2 Fazendo IP masquerading (para os apressados)">
<link href="ch-fw-iptables.html#s-fw-iptables-nat-snat" rel="subsection" title="31.4.3 Fazendo SNAT">
<link href="ch-fw-iptables.html#s-fw-iptables-nat-snat-masquerade" rel="subsection" title="31.4.3.1 Fazendo IP Masquerading">
<link href="ch-fw-iptables.html#s-fw-iptables-nat-dnat" rel="subsection" title="31.4.4 Fazendo DNAT">
<link href="ch-fw-iptables.html#s-fw-iptables-nat-dnat-redir" rel="subsection" title="31.4.4.1 Redirecionamento de portas">
<link href="ch-fw-iptables.html#s-fw-iptables-nat-monitorando" rel="subsection" title="31.4.5 Monitorando conexões feitas na tabela nat">
<link href="ch-fw-iptables.html#s-fw-iptables-mangle-TOS" rel="subsection" title="31.5.1 Especificando o tipo de serviço">
<link href="ch-fw-iptables.html#s-fw-iptables-mangle-TOS-out" rel="subsection" title="31.5.1.1 Especificando o TOS para tráfego de saída">
<link href="ch-fw-iptables.html#s-fw-iptables-mangle-TOS-in" rel="subsection" title="31.5.1.2 Especificando o TOS para o tráfego de entrada">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-state" rel="subsection" title="31.6.1 Conferindo de acordo com o estado da conexão">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-limit" rel="subsection" title="31.6.2 Limitando o número de vezes que a regra confere">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-limit-ping" rel="subsection" title="31.6.3 Proteção contra ping da morte">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-limit-synflood" rel="subsection" title="31.6.4 Proteção contra syn flood">
<link href="ch-fw-iptables.html#s-fw-iptables-outras-ipspoof" rel="subsection" title="31.6.5 Proteção contra IP spoofing">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-multiport" rel="subsection" title="31.6.6 Especificando múltiplas portas de origem/destino">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-mac" rel="subsection" title="31.6.7 Especificando o endereço MAC da interface">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-owner" rel="subsection" title="31.6.8 Conferindo com quem criou o pacote">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-string" rel="subsection" title="31.6.9 Conferindo com o conteúdo do pacote">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-ttl" rel="subsection" title="31.6.10 Conferindo com o tempo de vida do pacote">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-rpc" rel="subsection" title="31.6.11 Conferindo com números RPC">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-pkttype" rel="subsection" title="31.6.12 Conferindo com tipo de pacote">
<link href="ch-fw-iptables.html#s-fw-iptables-mod-length" rel="subsection" title="31.6.13 Conferindo com o tamanho do pacote">
<link href="ch-fw-iptables.html#s-fw-iptables-path-PingICMPLocal-Local" rel="subsection" title="31.7.1 Ping de 192.168.1.1 para 192.168.1.1">
<link href="ch-fw-iptables.html#s-fw-iptables-path-FtpTCPLocal-Local" rel="subsection" title="31.7.2 Conexão FTP de 192.168.1.1 para 192.168.1.1">
<link href="ch-fw-iptables.html#s-fw-iptables-path-FtpTCPLocal-LocalNet" rel="subsection" title="31.7.3 Conexão FTP de 192.168.1.1 para 192.168.1.4">
<link href="ch-fw-iptables.html#s-fw-iptables-path-FtpTCPLocal-RemoteNet" rel="subsection" title="31.7.4 Conexão FTP de 200.217.29.67 para a máquina ftp.debian.org.br">
<link href="ch-fw-iptables.html#s-fw-iptables-path-PingICMPLocalNet-Local" rel="subsection" title="31.7.5 Ping de 192.168.1.4 para 192.168.1.1">
<link href="ch-fw-iptables.html#s-fw-iptables-path-FtpTCPLocalNet-Local" rel="subsection" title="31.7.6 Conexão FTP de 192.168.1.4 para 192.168.1.1">
<link href="ch-fw-iptables.html#s-fw-iptables-path-FtpTCPLocalNet-RemoteNet" rel="subsection" title="31.7.7 Conexão FTP de 192.168.1.4 para ftp.debian.org.br">
<link href="ch-fw-iptables.html#s-fw-iptables-path-FtpTCPRemoteNet-Local" rel="subsection" title="31.7.8 Conexão FTP de 200.198.129.162 para 200.217.29.167">
<link href="ch-fw-iptables.html#s-fw-iptables-path-grafico" rel="subsection" title="31.7.9 Gráfico geral da passagem dos pacotes">
<link href="ch-fw-iptables.html#s-fw-iptables-exemplo-bloqueio" rel="subsection" title="31.8.1 Bloqueando conexões de fora para sua máquina">
<link href="ch-fw-iptables.html#s-fw-iptables-exemplo-trojans" rel="subsection" title="31.8.2 Monitorando tentativa de conexão de trojans em sua máquina">
<link href="ch-fw-iptables.html#s-fw-iptables-exemplo-snat" rel="subsection" title="31.8.3 Conectando sua rede interna a Internet">
<link href="ch-fw-iptables.html#s-fw-iptables-exemplo-fw" rel="subsection" title="31.8.4 Um exemplo de firewall simples">
<link href="ch-d-contas.html#s-d-contas-cms-padroes" rel="subsection" title="32.2.1 Definindo valores padrões de restrição">
<link href="ch-d-contas.html#s-d-contas-cms-senhas" rel="subsection" title="32.2.2 Senhas fáceis de adivinhar e escolha de boas senhas">
<link href="ch-d-contas.html#s-d-contas-cms-multipasswd" rel="subsection" title="32.2.3 Atualização de senhas de múltiplas contas">
<link href="ch-d-contas.html#s-d-contas-cms-senharoot" rel="subsection" title="32.2.4 A senha do usuário root">
<link href="ch-d-contas.html#s-d-contas-ataques-deducao" rel="subsection" title="32.3.1 Dedução">
<link href="ch-d-contas.html#s-d-contas-ataques-engsocial" rel="subsection" title="32.3.2 Engenharia Social">
<link href="ch-d-contas.html#s-d-contas-ataques-dicionario" rel="subsection" title="32.3.3 Ataques por dicionário">
<link href="ch-d-contas.html#s-d-contas-ataques-bruteforce" rel="subsection" title="32.3.4 Brute Force">
<link href="ch-d-contas.html#s-d-contas-ataques-monteclad" rel="subsection" title="32.3.5 Monitoramento de toques do teclado">
<link href="ch-d-contas.html#s-d-contas-ataques-loginfalso" rel="subsection" title="32.3.6 Login falso">
<link href="ch-d-contas.html#s-d-contas-segsenhas-shadow" rel="subsection" title="32.4.1 Shadow Passwords">
<link href="ch-d-contas.html#s-d-contas-segsenhas-md5" rel="subsection" title="32.4.2 Senhas MD5">
<link href="ch-s-apache.html#s-s-apache-versao" rel="subsection" title="33.1.1 Versão">
<link href="ch-s-apache.html#s-s-apache-historia" rel="subsection" title="33.1.2 Um resumo da História do Apache">
<link href="ch-s-apache.html#s-s-apache-contribuindo" rel="subsection" title="33.1.3 Enviando Correções/Contribuindo com o projeto">
<link href="ch-s-apache.html#s-s-apache-caracteristicas" rel="subsection" title="33.1.4 Características do Apache">
<link href="ch-s-apache.html#s-s-apache-ficha" rel="subsection" title="33.1.5 Ficha técnica">
<link href="ch-s-apache.html#s-s-apache-hwreq" rel="subsection" title="33.1.6 Requerimentos">
<link href="ch-s-apache.html#s-s-apache-logs" rel="subsection" title="33.1.7 Arquivos de log criados pelo Apache">
<link href="ch-s-apache.html#s-s-apache-install" rel="subsection" title="33.1.8 Instalação">
<link href="ch-s-apache.html#s-s-apache-rodando" rel="subsection" title="33.1.9 Iniciando o servidor/reiniciando/recarregando a configuração">
<link href="ch-s-apache.html#s-s-apache-opcoescmd" rel="subsection" title="33.1.10 Opções de linha de comando">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-autor" rel="subsection" title="33.7.1 Autorização">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-auth" rel="subsection" title="33.7.2 Autenticação">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-auth-arqsenha" rel="subsection" title="33.7.2.1 Criando um arquivo de Senhas">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-auth-arqsenha-htpasswd" rel="subsection" title="33.7.2.1.1 htpasswd">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-auth-arqsenha-htdigest" rel="subsection" title="33.7.2.1.2 htdigest e dbmmanage">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-auth-usuarios" rel="subsection" title="33.7.2.2 Autenticação através de usuários">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-auth-grupos" rel="subsection" title="33.7.2.3 Autenticação usando grupos">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-autor+auth" rel="subsection" title="33.7.3 Usando autorização e autenticação juntos">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-autor+auth-diferenciado" rel="subsection" title="33.7.3.1 Acesso diferenciado em uma mesma diretiva">
<link href="ch-s-apache.html#s-s-apache-acesso-restr-htaccess" rel="subsection" title="33.7.4 O arquivo .htaccess">
<link href="ch-s-apache.html#s-s-apache-acesso-setenvif" rel="subsection" title="33.7.5 Usando a diretiva SetEnvIf com Allow e Deny">
<link href="ch-s-apache.html#s-s-apache-acesso-limit" rel="subsection" title="33.7.6 A diretiva &lt;Limit&gt;">
<link href="ch-s-apache.html#s-s-apache-acesso-limitexcept" rel="subsection" title="33.7.7 Diretiva &lt;LimitExcept&gt;">
<link href="ch-s-apache.html#s-s-apache-log-agentlog" rel="subsection" title="33.10.1 AgentLog">
<link href="ch-s-apache.html#s-s-apache-log-errorlog" rel="subsection" title="33.10.2 ErrorLog">
<link href="ch-s-apache.html#s-s-apache-log-customlog" rel="subsection" title="33.10.3 CustomLog">
<link href="ch-s-apache.html#s-s-apache-log-refererlog" rel="subsection" title="33.10.4 RefererLog">
<link href="ch-s-apache.html#s-s-apache-log-rewritelog" rel="subsection" title="33.10.5 RewriteLog">
<link href="ch-s-apache.html#s-s-apache-log-rewriteloglevel" rel="subsection" title="33.10.6 RewriteLogLevel">
<link href="ch-s-apache.html#s-s-apache-log-scriptlog" rel="subsection" title="33.10.7 ScriptLog">
<link href="ch-s-apache.html#s-s-apache-log-scriptlogbuffer" rel="subsection" title="33.10.8 ScriptLogBuffer">
<link href="ch-s-apache.html#s-s-apache-log-scriptloglength" rel="subsection" title="33.10.9 ScriptLogLength">
<link href="ch-s-apache.html#s-s-apache-log-logformat" rel="subsection" title="33.10.10 LogFormat">
<link href="ch-s-apache.html#s-s-apache-log-transferlog" rel="subsection" title="33.10.11 TransferLog">
<link href="ch-s-apache.html#s-s-apache-log-loglevel" rel="subsection" title="33.10.12 LogLevel">
<link href="ch-s-apache.html#s-s-apache-log-anonylogmail" rel="subsection" title="33.10.13 Anonymous_LogEmail">
<link href="ch-s-apache.html#s-s-apache-log-cookielog" rel="subsection" title="33.10.14 CookieLog">
<link href="ch-s-apache.html#s-s-apache-log-webalizer" rel="subsection" title="33.10.15 Relatório gráfico de acesso ao sistema">
<link href="ch-s-apache.html#s-s-apache-proxy-access" rel="subsection" title="33.11.1 Controlando o acesso ao servidor proxy">
<link href="ch-s-apache.html#s-s-apache-proxy-redir" rel="subsection" title="33.11.2 Redirecionamento de conexões no Apache">
<link href="ch-s-apache.html#s-s-apache-vhosts-ip" rel="subsection" title="33.12.1 Virtual hosts baseados em IP">
<link href="ch-s-apache.html#s-s-apache-vhosts-nome" rel="subsection" title="33.12.2 Virtual hosts baseados em nome">
<link href="ch-s-apache.html#s-s-apache-vhosts-dnssec" rel="subsection" title="33.12.3 Segurança no uso de IP's em Virtual Hosts">
<link href="ch-s-apache.html#s-s-apache-ssl-s" rel="subsection" title="33.13.1 Servidor apache com suporte a ssl">
<link href="ch-s-apache.html#s-s-apache-ssl-instal" rel="subsection" title="33.13.2 Instalando o suporte a módulo SSL no Apache">
<link href="ch-s-apache.html#s-s-apache-ssl-mkcert" rel="subsection" title="33.13.3 Gerando um certificado digital">
<link href="ch-s-apache.html#s-s-apache-ssl-exemplo" rel="subsection" title="33.13.4 Exemplo de configuração do módulo mod-ssl">
<link href="ch-s-apache.html#s-s-apache-ssl-sslreq" rel="subsection" title="33.13.5 Autorizando acesso somente a conexões SSL">
<link href="ch-s-apache.html#s-s-apache-ssl-inic" rel="subsection" title="33.13.6 Iniciando o servidor Web com suporte a SSL">
<link href="ch-s-apache.html#s-s-apache-exemplo-httpd" rel="subsection" title="33.14.1 httpd.conf">
<link href="ch-s-apache.html#s-s-apache-exemplo-srm" rel="subsection" title="33.14.2 srm.conf">
<link href="ch-s-apache.html#s-s-apache-exemplo-access" rel="subsection" title="33.14.3 access.conf">
<link href="ch-s-ident.html#s-s-ident-versao" rel="subsection" title="34.1.1 Versão">
<link href="ch-s-ident.html#s-s-ident-contribuindo" rel="subsection" title="34.1.2 Contribuindo">
<link href="ch-s-ident.html#s-s-ident-caracteristicas" rel="subsection" title="34.1.3 Características">
<link href="ch-s-ident.html#s-s-ident-ficha" rel="subsection" title="34.1.4 Ficha técnica">
<link href="ch-s-ident.html#s-s-ident-hwreq" rel="subsection" title="34.1.5 Requerimentos de Hardware">
<link href="ch-s-ident.html#s-s-ident-logs" rel="subsection" title="34.1.6 Arquivos de log criados pelo Ident">
<link href="ch-s-ident.html#s-s-ident-install" rel="subsection" title="34.1.7 Instalação">
<link href="ch-s-ident.html#s-s-ident-install-inetd" rel="subsection" title="34.1.8 Instalação via Inetd">
<link href="ch-s-ident.html#s-s-ident-tcpwrappers" rel="subsection" title="34.1.9 Usando tcpwrappers com oidentd">
<link href="ch-s-ident.html#s-s-ident-rodando" rel="subsection" title="34.1.10 Iniciando o servidor/reiniciando/recarregando a configuração">
<link href="ch-s-ident.html#s-s-ident-opcoescmd" rel="subsection" title="34.1.11 Opções de linha de comando">
<link href="ch-s-ident.html#s-s-ident-exemplo" rel="subsection" title="34.1.12 Exemplos">
<link href="ch-s-telnet.html#s-s-telnet-versao" rel="subsection" title="35.1.1 Versão">
<link href="ch-s-telnet.html#s-s-telnet-caracteristicas" rel="subsection" title="35.1.2 Características">
<link href="ch-s-telnet.html#s-s-telnet-ficha" rel="subsection" title="35.1.3 Ficha técnica">
<link href="ch-s-telnet.html#s-s-telnet-hwreq" rel="subsection" title="35.1.4 Requerimentos de Hardware">
<link href="ch-s-telnet.html#s-s-telnet-logs" rel="subsection" title="35.1.5 Arquivos de log criados pelo servidor telnet">
<link href="ch-s-telnet.html#s-s-telnet-install" rel="subsection" title="35.1.6 Instalação">
<link href="ch-s-telnet.html#s-s-telnet-rodando" rel="subsection" title="35.1.7 Iniciando o servidor/reiniciando/recarregando a configuração">
<link href="ch-s-telnet.html#s-s-telnet-opcoescmd" rel="subsection" title="35.1.8 Opções de linha de comando">
<link href="ch-s-ssh.html#s-s-ssh-versao" rel="subsection" title="36.1.1 Versão">
<link href="ch-s-ssh.html#s-s-ssh-historia" rel="subsection" title="36.1.2 História">
<link href="ch-s-ssh.html#s-s-ssh-contribuindo" rel="subsection" title="36.1.3 Contribuindo">
<link href="ch-s-ssh.html#s-s-ssh-caracteristicas" rel="subsection" title="36.1.4 Características">
<link href="ch-s-ssh.html#s-s-ssh-ficha" rel="subsection" title="36.1.5 Ficha técnica">
<link href="ch-s-ssh.html#s-s-ssh-hwreq" rel="subsection" title="36.1.6 Requerimentos de Hardware">
<link href="ch-s-ssh.html#s-s-ssh-logs" rel="subsection" title="36.1.7 Arquivos de log criados pelo servidor ssh">
<link href="ch-s-ssh.html#s-s-ssh-install" rel="subsection" title="36.1.8 Instalação do servidor openSSH">
<link href="ch-s-ssh.html#s-s-ssh-rodando" rel="subsection" title="36.1.9 Iniciando o servidor/reiniciando/recarregando a configuração">
<link href="ch-s-ssh.html#s-s-ssh-opcoescmd" rel="subsection" title="36.1.10 Opções de linha de comando">
<link href="ch-s-ssh.html#s-s-ssh-cliente-ssh" rel="subsection" title="36.2.1 ssh">
<link href="ch-s-ssh.html#s-s-ssh-cliente-ssh-Xforward" rel="subsection" title="36.2.1.1 Redirecionamento de conexões do X">
<link href="ch-s-ssh.html#s-s-ssh-cliente-ssh-win" rel="subsection" title="36.2.1.2 Cliente ssh para Windows">
<link href="ch-s-ssh.html#s-s-ssh-cliente-scp" rel="subsection" title="36.2.2 scp">
<link href="ch-s-ssh.html#s-s-ssh-cliente-scp-win" rel="subsection" title="36.2.2.1 Cliente scp para Windows">
<link href="ch-s-ssh.html#s-s-ssh-cliente-sftp" rel="subsection" title="36.2.3 sftp">
<link href="ch-s-ssh.html#s-s-ssh-server-sshd" rel="subsection" title="36.3.1 sshd">
<link href="ch-s-ssh.html#s-s-ssh-acesso" rel="subsection" title="36.3.2 Controle de acesso">
<link href="ch-s-ssh.html#s-s-ssh-server-rsaauth" rel="subsection" title="36.3.3 Usando autenticação RSA/DSA - chave pública/privada">
<link href="ch-s-ssh.html#s-s-ssh-server-cmdkey" rel="subsection" title="36.3.4 Execução de comandos específicos usando chaves">
<link href="ch-s-ssh.html#s-s-ssh-server-gatewayssh" rel="subsection" title="36.3.5 Criando um gateway ssh">
<link href="ch-s-ssh.html#s-s-ssh-server-proxy" rel="subsection" title="36.3.6 Criando um tunel proxy">
<link href="ch-s-ssh.html#s-s-ssh-server-protodiff" rel="subsection" title="36.3.7 Diferenças nas versões do protocolo">
<link href="ch-s-ssh.html#s-s-ssh-server-sshd_config" rel="subsection" title="36.3.8 Exemplo de sshd_config com explicações das diretivas">
<link href="ch-s-pop3.html#s-s-pop3-versao" rel="subsection" title="37.1.1 Versão">
<link href="ch-s-pop3.html#s-s-pop3-contribuindo" rel="subsection" title="37.1.2 Contribuindo">
<link href="ch-s-pop3.html#s-s-pop3-caracteristicas" rel="subsection" title="37.1.3 Características">
<link href="ch-s-pop3.html#s-s-pop3-ficha" rel="subsection" title="37.1.4 Ficha técnica">
<link href="ch-s-pop3.html#s-s-pop3-hwreq" rel="subsection" title="37.1.5 Requerimentos de Hardware">
<link href="ch-s-pop3.html#s-s-pop3-logs" rel="subsection" title="37.1.6 Arquivos de log criados pelo qpopper">
<link href="ch-s-pop3.html#s-s-pop3-install" rel="subsection" title="37.1.7 Instalação">
<link href="ch-s-pop3.html#s-s-pop3-rodando" rel="subsection" title="37.1.8 Iniciando o servidor/reiniciando/recarregando a configuração">
<link href="ch-s-pop3.html#s-s-pop3-testando" rel="subsection" title="37.1.9 Teste de acesso no pop3">
<link href="ch-s-pop3.html#s-s-pop3-opcoescmd" rel="subsection" title="37.1.10 Opções de linha de comando">
<link href="ch-s-pop3.html#s-s-pop3-boletins" rel="subsection" title="37.1.11 Enviando boletins de mensagens">
<link href="ch-s-pop3.html#s-s-pop3-quotas" rel="subsection" title="37.1.12 Especificando quotas para as caixas de correio">
<link href="ch-s-pop3.html#s-s-pop3-restricao" rel="subsection" title="37.1.13 Restringindo acesso ao servidor pop3">
<link href="ch-s-cvs.html#s-s-cvs-versao" rel="subsection" title="38.1.1 Versão">
<link href="ch-s-cvs.html#s-s-cvs-historia" rel="subsection" title="38.1.2 História">
<link href="ch-s-cvs.html#s-s-cvs-contribuindo" rel="subsection" title="38.1.3 Contribuindo com o CVS">
<link href="ch-s-cvs.html#s-s-cvs-caracteristicas" rel="subsection" title="38.1.4 Características">
<link href="ch-s-cvs.html#s-s-cvs-ficha" rel="subsection" title="38.1.5 Ficha técnica">
<link href="ch-s-cvs.html#s-s-cvs-hwreq" rel="subsection" title="38.1.6 Requerimentos de Hardware">
<link href="ch-s-cvs.html#s-s-cvs-logs" rel="subsection" title="38.1.7 Arquivos de log criados pelo CVS">
<link href="ch-s-cvs.html#s-s-cvs-install" rel="subsection" title="38.1.8 Instalação">
<link href="ch-s-cvs.html#s-s-cvs-rodando" rel="subsection" title="38.1.9 Iniciando o servidor/reiniciando/recarregando a configuração">
<link href="ch-s-cvs.html#s-s-cvs-opcoescmd" rel="subsection" title="38.1.10 Opções de linha de comando">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-local" rel="subsection" title="38.2.1 local">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-local-c" rel="subsection" title="38.2.1.1 Configurando o método local">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-fork" rel="subsection" title="38.2.2 fork">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-fork-c" rel="subsection" title="38.2.2.1 Configurando o método fork">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-ext" rel="subsection" title="38.2.3 ext">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-ext-c" rel="subsection" title="38.2.3.1 Configurando o método ext">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-pserver" rel="subsection" title="38.2.4 pserver (password server)">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-pserver-c" rel="subsection" title="38.2.5 Configurando um servidor pserver">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-pserver-c-pserver" rel="subsection" title="38.2.5.1 Ativando o servidor pserver">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-pserver-c-system" rel="subsection" title="38.2.5.2 Servidor pserver usando autenticação do sistema">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-pserver-c-pwrepos" rel="subsection" title="38.2.5.3 Servidor pserver com autenticação própria">
<link href="ch-s-cvs.html#s-s-cvs-d-metodos-gssapi" rel="subsection" title="38.2.6 gssapi">
<link href="ch-s-cvs.html#s-s-cvs-p-repos" rel="subsection" title="38.3.1 Repositório">
<link href="ch-s-cvs.html#s-s-cvs-p-mkrepos" rel="subsection" title="38.3.2 Criando um repositório">
<link href="ch-s-cvs.html#s-s-cvs-p-login" rel="subsection" title="38.3.3 Logando no servidor de CVS via pserver">
<link href="ch-s-cvs.html#s-s-cvs-p-logout" rel="subsection" title="38.3.4 Encerrando uma seção de CVS">
<link href="ch-s-cvs.html#s-s-cvs-p-checkout" rel="subsection" title="38.3.5 Baixando arquivos">
<link href="ch-s-cvs.html#s-s-cvs-p-import" rel="subsection" title="38.3.6 Adicionando um novo projeto">
<link href="ch-s-cvs.html#s-s-cvs-p-update" rel="subsection" title="38.3.7 Sincronizando a cópia remota com a cópia local">
<link href="ch-s-cvs.html#s-s-cvs-p-commit" rel="subsection" title="38.3.8 Enviando as mudanças para o servidor remoto">
<link href="ch-s-cvs.html#s-s-cvs-p-add" rel="subsection" title="38.3.9 Adicionando um arquivo ao módulo CVS do servidor">
<link href="ch-s-cvs.html#s-s-cvs-p-add-dir" rel="subsection" title="38.3.10 Adicionando um diretório ao módulo CVS do servidor">
<link href="ch-s-cvs.html#s-s-cvs-p-remove" rel="subsection" title="38.3.11 Removendo um arquivo do módulo CVS remoto">
<link href="ch-s-cvs.html#s-s-cvs-p-removed" rel="subsection" title="38.3.12 Removendo um diretório do módulo CVS remoto">
<link href="ch-s-cvs.html#s-s-cvs-p-release" rel="subsection" title="38.3.13 Dizendo que o módulo atual não está mais em uso">
<link href="ch-s-cvs.html#s-s-cvs-p-diff" rel="subsection" title="38.3.14 Visualizando diferenças entre versões de um arquivo">
<link href="ch-s-cvs.html#s-s-cvs-p-status" rel="subsection" title="38.3.15 Visualizando o status de versão de arquivos">
<link href="ch-s-cvs.html#s-s-cvs-p-utils" rel="subsection" title="38.3.16 Outros utilitários para trabalho no repositório">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-config" rel="subsection" title="38.4.1 config">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-modules" rel="subsection" title="38.4.2 modules">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-cvswrappers" rel="subsection" title="38.4.3 cvswrappers">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-commitinfo" rel="subsection" title="38.4.4 commitinfo">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-verifymsg" rel="subsection" title="38.4.5 verifymsg">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-loginfo" rel="subsection" title="38.4.6 loginfo">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-cvsignore" rel="subsection" title="38.4.7 cvsignore">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-checkoutlist" rel="subsection" title="38.4.8 checkoutlist">
<link href="ch-s-cvs.html#s-s-cvs-cvsroot-history" rel="subsection" title="38.4.9 history">
<link href="ch-s-cvs.html#s-s-cvs-c-cvs" rel="subsection" title="38.5.1 cvs">
<link href="ch-s-cvs.html#s-s-cvs-c-gcvs" rel="subsection" title="38.5.2 gcvs - Linux">
<link href="ch-s-cvs.html#s-s-cvs-c-wincvs" rel="subsection" title="38.5.3 WinCVS - Windows">
<link href="ch-s-cvs.html#s-s-cvs-c-maccvs" rel="subsection" title="38.5.4 MacCVS - Macintosh (PPC)">
<link href="ch-s-cvs.html#s-s-cvs-c-viewcvs" rel="subsection" title="38.5.5 viewcvs">
<link href="ch-s-samba.html#s-s-samba-versao" rel="subsection" title="39.1.1 Versão documentada">
<link href="ch-s-samba.html#s-s-samba-historia" rel="subsection" title="39.1.2 História">
<link href="ch-s-samba.html#s-s-samba-contribuindo" rel="subsection" title="39.1.3 Contribuindo">
<link href="ch-s-samba.html#s-s-samba-caracteristicas" rel="subsection" title="39.1.4 Características">
<link href="ch-s-samba.html#s-s-samba-ficha" rel="subsection" title="39.1.5 Ficha técnica">
<link href="ch-s-samba.html#s-s-samba-hwreq" rel="subsection" title="39.1.6 Requerimentos de Hardware">
<link href="ch-s-samba.html#s-s-samba-logs" rel="subsection" title="39.1.7 Arquivos de log criados">
<link href="ch-s-samba.html#s-s-samba-install" rel="subsection" title="39.1.8 Instalação">
<link href="ch-s-samba.html#s-s-samba-rodando" rel="subsection" title="39.1.9 Iniciando o servidor/reiniciando/recarregando a configuração">
<link href="ch-s-samba.html#s-s-samba-opcoescmd" rel="subsection" title="39.1.10 Opções de linha de comando">
<link href="ch-s-samba.html#s-s-samba-nome" rel="subsection" title="39.2.1 Nome de máquina (nome NetBios)">
<link href="ch-s-samba.html#s-s-samba-workgroup" rel="subsection" title="39.2.2 Grupo de trabalho">
<link href="ch-s-samba.html#s-s-samba-dominio" rel="subsection" title="39.2.3 Domínio">
<link href="ch-s-samba.html#s-s-samba-compart" rel="subsection" title="39.2.4 Compartilhamento">
<link href="ch-s-samba.html#s-s-samba-mapeamento" rel="subsection" title="39.2.5 Mapeamento">
<link href="ch-s-samba.html#s-s-samba-nmbd" rel="subsection" title="39.2.6 Navegação na Rede e controle de domínio">
<link href="ch-s-samba.html#s-s-samba-arquivocfg" rel="subsection" title="39.2.7 Arquivo de configuração do samba">
<link href="ch-s-samba.html#s-s-samba-s-global" rel="subsection" title="39.2.8 Seção [global]">
<link href="ch-s-samba.html#s-s-samba-s-global-nome" rel="subsection" title="39.2.8.1 Nomes e grupos de trabalho">
<link href="ch-s-samba.html#s-s-samba-s-global-carac" rel="subsection" title="39.2.8.2 Caracteres e página de código">
<link href="ch-s-samba.html#s-s-samba-s-global-restrusu" rel="subsection" title="39.2.8.3 Restrições de acesso/mapeamento de usuários">
<link href="ch-s-samba.html#s-s-samba-s-global-nivelauth" rel="subsection" title="39.2.8.4 Níveis de autenticação">
<link href="ch-s-samba.html#s-s-samba-s-global-log" rel="subsection" title="39.2.8.5 Log de acessos/serviços">
<link href="ch-s-samba.html#s-s-samba-s-global-browsing" rel="subsection" title="39.2.8.6 Navegação no servidor/tipo de servidor">
<link href="ch-s-samba.html#s-s-samba-s-global-outras" rel="subsection" title="39.2.8.7 Outros parâmetros de configuração">
<link href="ch-s-samba.html#s-s-samba-s-homes" rel="subsection" title="39.2.9 Seção [homes]">
<link href="ch-s-samba.html#s-s-samba-s-printers" rel="subsection" title="39.2.10 Seção [printers]">
<link href="ch-s-samba.html#s-s-samba-s-testparm" rel="subsection" title="39.2.11 Buscando problemas na configuração">
<link href="ch-s-samba.html#s-s-samba-s-oslevel" rel="subsection" title="39.2.12 Níveis de sistema para eleição de rede">
<link href="ch-s-samba.html#s-s-samba-s-varsubst" rel="subsection" title="39.2.13 Variáveis de substituição">
<link href="ch-s-samba.html#s-s-samba-s-a-param" rel="subsection" title="39.3.1 Descrição de parâmetros usados em compartilhamento">
<link href="ch-s-samba.html#s-s-samba-s-nameresolv-lmhosts" rel="subsection" title="39.5.1 Arquivo /etc/samba/lmhosts">
<link href="ch-s-samba.html#s-s-samba-s-nameresolv-lmhosts-unix-ex" rel="subsection" title="39.5.1.1 Exemplo de lmhosts do UNIX">
<link href="ch-s-samba.html#s-s-samba-s-nameresolve-lmhosts-windows-ex" rel="subsection" title="39.5.1.2 Exemplo de lmhosts do Windows">
<link href="ch-s-samba.html#s-s-samba-s-nameresolv-wins" rel="subsection" title="39.5.2 WINS">
<link href="ch-s-samba.html#s-s-samba-s-nameresolv-wins-s" rel="subsection" title="39.5.2.1 Configurando o servidor WINS">
<link href="ch-s-samba.html#s-s-samba-s-nameresolv-wins-c" rel="subsection" title="39.5.2.2 Configurando o Cliente WINS">
<link href="ch-s-samba.html#s-s-samba-s-timeserver-s" rel="subsection" title="39.6.1 Configuração do serviço de data/hora no SAMBA">
<link href="ch-s-samba.html#s-s-samba-s-timeserver-c" rel="subsection" title="39.6.2 Sincronizando a data/hora no Cliente">
<link href="ch-s-samba.html#s-s-samba-dom-intro" rel="subsection" title="39.7.1 Uma breve introdução a um Domínio de rede">
<link href="ch-s-samba.html#s-s-samba-dom-lmbrowser" rel="subsection" title="39.7.2 Local Master Browser">
<link href="ch-s-samba.html#s-s-samba-dom-dmbrowser" rel="subsection" title="39.7.3 Domain Master Browser">
<link href="ch-s-samba.html#s-s-samba-dom-config" rel="subsection" title="39.7.4 Configurando um servidor PDC no SAMBA">
<link href="ch-s-samba.html#s-s-samba-dom-contasmac" rel="subsection" title="39.7.5 Contas de máquinas de domínio">
<link href="ch-s-samba.html#s-s-samba-dom-contasmac-dom-m" rel="subsection" title="39.7.5.1 Criando contas de máquinas manualmente">
<link href="ch-s-samba.html#s-s-samba-dom-contasmac-dom-a" rel="subsection" title="39.7.5.2 Criando contas de máquinas automaticamente">
<link href="ch-s-samba.html#s-s-samba-dom-admin" rel="subsection" title="39.7.6 Criando uma conta de administrador de domínio">
<link href="ch-s-samba.html#s-s-samba-dom-logonscripts" rel="subsection" title="39.7.7 Criando Scripts de logon">
<link href="ch-s-samba.html#s-s-samba-dom-profiles" rel="subsection" title="39.7.8 Configurando perfis de usuários">
<link href="ch-s-samba.html#s-s-samba-dom-perm-clientes" rel="subsection" title="39.7.9 Modificações de permissões de acesso pelos clientes do domínio">
<link href="ch-s-samba.html#s-s-samba-senhas-crypto-migrando" rel="subsection" title="39.8.1 Migrando de senhas texto plano para criptografadas">
<link href="ch-s-samba.html#s-s-samba-senhas-crypto-criando" rel="subsection" title="39.8.2 Adicionando usuários no smbpasswd">
<link href="ch-s-samba.html#s-s-samba-senhas-crypto-removendo" rel="subsection" title="39.8.3 Removendo usuários do smbpasswd">
<link href="ch-s-samba.html#s-s-samba-senhas-crypto-desabilitando" rel="subsection" title="39.8.4 Desabilitando uma conta no smbpasswd">
<link href="ch-s-samba.html#s-s-samba-senhas-crypto-habilitando" rel="subsection" title="39.8.5 Habilitando uma conta no smbpasswd">
<link href="ch-s-samba.html#s-s-samba-senhas-crypto-chpasswd" rel="subsection" title="39.8.6 Alterando a senha de um usuário">
<link href="ch-s-samba.html#s-s-samba-senhas-crypto-nopasswd" rel="subsection" title="39.8.7 Definindo acesso sem senha para o usuário">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c" rel="subsection" title="39.9.1 Configurando o acesso de clientes para uso de senhas em texto plano">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-lanmanager" rel="subsection" title="39.9.1.1 Lan Manager">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-wfw" rel="subsection" title="39.9.1.2 Windows for Workgroups">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-win95a" rel="subsection" title="39.9.1.3 Windows 95 / Windows 95A">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-win95b" rel="subsection" title="39.9.1.4 Windows 95B">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-win98" rel="subsection" title="39.9.1.5 Windows 98/98SE">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-winME" rel="subsection" title="39.9.1.6 Windows ME">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-winNT" rel="subsection" title="39.9.1.7 Windows NT Server/WorkStation">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-win2000" rel="subsection" title="39.9.1.8 Windows 2000">
<link href="ch-s-samba.html#s-s-samba-senhas-plano-c-linux" rel="subsection" title="39.9.1.9 Linux">
<link href="ch-s-samba.html#s-s-samba-usermap-w" rel="subsection" title="39.10.1 Mapeamento de usuários/grupos domínio em Windows">
<link href="ch-s-samba.html#s-s-samba-usermap-l" rel="subsection" title="39.10.2 Mapeamento de usuários/grupos domínio em Linux">
<link href="ch-s-samba.html#s-s-samba-i-win-linux" rel="subsection" title="39.11.1 Configurando o Linux como um servidor de impressão Windows">
<link href="ch-s-samba.html#s-s-samba-a-compart" rel="subsection" title="39.12.1 Nível de acesso de usuários conectados ao SAMBA">
<link href="ch-s-samba.html#s-s-samba-a-restrip" rel="subsection" title="39.12.2 Restringindo o acesso por IP/rede">
<link href="ch-s-samba.html#s-s-samba-a-restrip-test" rel="subsection" title="39.12.2.1 Testando a restrição de Acesso por IP/Redes">
<link href="ch-s-samba.html#s-s-samba-a-restrif" rel="subsection" title="39.12.3 Restringindo o acesso por interface de rede">
<link href="ch-s-samba.html#s-s-samba-a-restrusu" rel="subsection" title="39.12.4 Restringindo o acesso por usuários">
<link href="ch-s-samba.html#s-s-samba-a-hostsequiv" rel="subsection" title="39.12.5 Evite o uso do parâmetro hosts equiv!">
<link href="ch-s-samba.html#s-s-asmba-a-nullpasswd" rel="subsection" title="39.12.6 Evite o uso de senhas em branco!">
<link href="ch-s-samba.html#s-s-samba-a-publico" rel="subsection" title="39.12.7 Criando um compartilhamento para acesso sem senha">
<link href="ch-s-samba.html#s-s-samba-a-ro" rel="subsection" title="39.12.8 Criando um compartilhamento com acesso somente leitura">
<link href="ch-s-samba.html#s-s-samba-a-rw" rel="subsection" title="39.12.9 Criando um compartilhamento com acesso leitura/gravação">
<link href="ch-s-samba.html#s-s-samba-a-restr" rel="subsection" title="39.12.10 Excessão de acesso na permissão padrão de compartilhamento">
<link href="ch-s-samba.html#s-s-samba-a-ipc-admin" rel="subsection" title="39.12.11 Restringindo o IPC$ e ADMIN$">
<link href="ch-s-samba.html#s-s-samba-a-invisivel" rel="subsection" title="39.12.12 Criando um compartilhamento invisível">
<link href="ch-s-samba.html#s-s-samba-a-comandos" rel="subsection" title="39.12.13 Executando comandos antes e após o acesso ao compartilhamento">
<link href="ch-s-samba.html#s-s-samba-a-public-access" rel="subsection" title="39.12.14 Considerações de segurança com o uso do parâmetro &quot;public = yes&quot;">
<link href="ch-s-samba.html#s-s-samba-a-passwords" rel="subsection" title="39.12.15 Senhas criptografadas ou em texto puro?">
<link href="ch-s-samba.html#s-s-samba-a-usernamemap" rel="subsection" title="39.12.16 Mapeamento de nomes de usuários">
<link href="ch-s-samba.html#s-s-samba-c-wfw-lman" rel="subsection" title="39.14.1 Considerações sobre o Windows for Workgroups e LanManager">
<link href="ch-s-samba.html#s-s-samba-c-workgroup" rel="subsection" title="39.14.2 Configurando clientes em Grupo de Trabalho">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-w9x" rel="subsection" title="39.14.2.1 Windows 9X">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-wXPHome" rel="subsection" title="39.14.2.2 Windows XP Home Edition">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-wXPprofessional" rel="subsection" title="39.14.2.3 Windows XP Professional Edition">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-wXPServer" rel="subsection" title="39.14.2.4 Windows XP Server Edition">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-NTWorkstation" rel="subsection" title="39.14.2.5 Windows NT WorkStation">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-NTServer" rel="subsection" title="39.14.2.6 Windows NT Server">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-w2kProfessional" rel="subsection" title="39.14.2.7 Windows 2000 Professional">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-w2kServer" rel="subsection" title="39.14.2.8 Windows 2000 Server">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-linux" rel="subsection" title="39.14.2.9 Linux">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-linux-smbmount" rel="subsection" title="39.14.2.9.1 smbmount">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-linux-smbclient" rel="subsection" title="39.14.2.9.2 smbclient">
<link href="ch-s-samba.html#s-s-samba-c-workgroup-linux-nmblookup" rel="subsection" title="39.14.2.9.3 nmblookup">
<link href="ch-s-samba.html#s-s-samba-c-dominio" rel="subsection" title="39.14.3 Configurando clientes em Domínio">
<link href="ch-s-samba.html#s-s-samba-c-dominio-w9x" rel="subsection" title="39.14.3.1 Windows 9X">
<link href="ch-s-samba.html#s-s-samba-c-dominio-wXPHome" rel="subsection" title="39.14.3.2 Windows XP Home Edition">
<link href="ch-s-samba.html#s-s-samba-c-dominio-wXPprofessional" rel="subsection" title="39.14.3.3 Windows XP Professional Edition">
<link href="ch-s-samba.html#s-s-samba-c-dominio-wXPServer" rel="subsection" title="39.14.3.4 Windows XP Server Edition">
<link href="ch-s-samba.html#s-s-samba-c-dominio-NTWorkstation" rel="subsection" title="39.14.3.5 Windows NT WorkStation">
<link href="ch-s-samba.html#s-s-samba-c-dominio-NTServer" rel="subsection" title="39.14.3.6 Windows NT Server">
<link href="ch-s-samba.html#s-s-samba-c-dominio-w2kProfessional" rel="subsection" title="39.14.3.7 Windows 2000 Professional">
<link href="ch-s-samba.html#s-s-samba-c-dominio-w2kServer" rel="subsection" title="39.14.3.8 Windows 2000 Server">
<link href="ch-s-samba.html#s-s-samba-c-dominio-linux" rel="subsection" title="39.14.3.9 Linux">
<link href="ch-s-samba.html#s-s-samba-c-dominio-erros" rel="subsection" title="39.14.4 Erros conhecidos durante o logon do cliente">
<link href="ch-s-samba.html#s-s-samba-c-graficos" rel="subsection" title="39.14.5 Programas de navegação gráficos">
<link href="ch-s-samba.html#s-s-samba-c-graficos-linneighborhood" rel="subsection" title="39.14.5.1 linneighborhood">
<link href="ch-s-samba.html#s-s-samba-c-graficos-tksmb" rel="subsection" title="39.14.5.2 TkSmb">
<link href="ch-s-samba.html#s-s-samba-c-conf" rel="subsection" title="39.14.6 Cliente de configuração gráficos">
<link href="ch-s-samba.html#s-s-samba-c-conf-gnosamba" rel="subsection" title="39.14.6.1 gnosamba">
<link href="ch-s-samba.html#s-s-samba-c-conf-swat" rel="subsection" title="39.14.6.2 swat">
<link href="ch-s-samba.html#s-s-samba-exemplos-workgroup-p" rel="subsection" title="39.15.1 Grupo de Trabalho com acesso público">
<link href="ch-s-samba.html#s-s-samba-exemplos-workgroup-u" rel="subsection" title="39.15.2 Grupo de Trabalho com acesso por usuário">
<link href="ch-s-samba.html#s-s-samba-exemplos-dominio" rel="subsection" title="39.15.3 Domínio">
<link href="ch-d-restr.html#s-d-restr-bash-readonly" rel="subsection" title="40.1.1 Uso do comando readonly para exportar variáveis">
<link href="ch-d-restr.html#s-d-restr-homedir" rel="subsection" title="40.1.2 Restrições nos diretórios de usuários e root">
<link href="ch-d-restr.html#s-d-restr-bash-restricted" rel="subsection" title="40.1.3 Restrições básicas do shell bash com bash -r/--restricted, rbash">
<link href="ch-d-restr.html#s-d-restr-bash-logoutocioso" rel="subsection" title="40.1.4 Finalizando consoles inativos">
<link href="ch-d-restr.html#s-d-restr-bash-logging" rel="subsection" title="40.1.5 Desabilitando o registro de comandos digitados">
<link href="ch-d-restr.html#s-d-restr-bash-desshell" rel="subsection" title="40.1.6 Desabilitando serviços de shell para usuários">
<link href="ch-d-restr.html#s-d-restr-pam-suporte" rel="subsection" title="40.2.1 Descobrindo se um determinado programa tem suporte a PAM">
<link href="ch-d-restr.html#s-d-restr-pam-policy" rel="subsection" title="40.2.2 Definindo uma política padrão restritiva">
<link href="ch-d-restr.html#s-d-restr-pam-login" rel="subsection" title="40.2.3 Restringindo/Bloqueando o login">
<link href="ch-d-restr.html#s-d-restr-pam-root" rel="subsection" title="40.2.4 Restringindo o acesso a root no su">
<link href="ch-d-restr.html#s-d-restr-pam-time" rel="subsection" title="40.2.5 Restrições de serviços PAM baseados em dia/hora">
<link href="ch-d-restr.html#s-d-restr-pam-group" rel="subsection" title="40.2.6 Permitindo acesso a grupos extras">
<link href="ch-d-restr.html#s-d-restr-pam-limits" rel="subsection" title="40.2.7 Limitação de recursos do shell">
<link href="ch-d-restr.html#s-d-restr-quotas-install" rel="subsection" title="40.12.1 Instalando o sistema de quotas">
<link href="ch-d-restr.html#s-d-restr-quotas-editando" rel="subsection" title="40.12.2 Editando quotas de usuários/grupos">
<link href="ch-d-restr.html#s-d-restr-quotas-mudtodos" rel="subsection" title="40.12.3 Modificando a quota de todos os usuários de uma vez">
<link href="ch-d-restr.html#s-d-restr-quotas-checando" rel="subsection" title="40.12.4 Verificando a quota disponível ao usuário">
<link href="ch-d-restr.html#s-d-restr-quotas-todas" rel="subsection" title="40.12.5 Verificando a quota de todos os usuários/grupos do sistema">
<link href="ch-d-restr.html#s-d-restr-quotas-warn" rel="subsection" title="40.12.6 Avisando usuários sobre o estouro de quota">
<link href="ch-d-restr.html#s-d-restr-hardware-bios" rel="subsection" title="40.15.1 BIOS do sistema">
<link href="ch-d-restr.html#s-d-restr-hardware-floppy" rel="subsection" title="40.15.2 Retirada da unidade de disquetes">
<link href="ch-d-restr.html#s-d-restr-hardware-netboot" rel="subsection" title="40.15.3 Placas de rede com eprom de boot">
<link href="ch-d-restr.html#s-d-restr-hardware-lilo" rel="subsection" title="40.15.4 Protegendo o LILO">
<link href="ch-d-restr.html#s-d-restr-hardware-harddisk" rel="subsection" title="40.15.5 Disco rígido">
<link href="ch-d-cripto.html#s-d-cripto-sniffer-detect" rel="subsection" title="41.2.1 Detectando a presença de sniffers">
<link href="ch-d-cripto.html#s-d-cripto-http" rel="subsection" title="41.3.1 http">
<link href="ch-d-cripto.html#s-d-cripto-emails" rel="subsection" title="41.3.2 Transmissão segura de e-mails">
<link href="ch-d-cripto.html#s-d-cripto-pop3" rel="subsection" title="41.3.3 Servidor pop3">
<link href="ch-d-cripto.html#s-d-cripto-ftp" rel="subsection" title="41.3.4 Transferência de arquivos">
<link href="ch-d-cripto.html#s-d-cripto-rlogin" rel="subsection" title="41.3.5 login remoto">
<link href="ch-d-cripto.html#s-d-cripto-irc" rel="subsection" title="41.3.6 Bate papo via IRC">
<link href="ch-d-cripto.html#s-d-cripto-icq" rel="subsection" title="41.3.7 Transmissão de mensagens via ICQ">
<link href="ch-d-cripto.html#s-d-cripto-gpg-pacote" rel="subsection" title="41.5.1 Instalando o PGP">
<link href="ch-d-cripto.html#s-d-cripto-gpg-criando" rel="subsection" title="41.5.2 Criando um par de chaves pública/privada">
<link href="ch-d-cripto.html#s-d-cripto-gpg-e" rel="subsection" title="41.5.3 Encriptando dados">
<link href="ch-d-cripto.html#s-d-cripto-gpg-d" rel="subsection" title="41.5.4 Decriptando dados com o gpg">
<link href="ch-d-cripto.html#s-d-cripto-gpg-a" rel="subsection" title="41.5.5 Assinando arquivos">
<link href="ch-d-cripto.html#s-d-cripto-gpg-a-c" rel="subsection" title="41.5.6 Checando assinaturas">
<link href="ch-d-cripto.html#s-d-cripto-gpg-c-e" rel="subsection" title="41.5.7 Extraindo sua chave pública do chaveiro">
<link href="ch-d-cripto.html#s-d-cripto-gpg-c-a" rel="subsection" title="41.5.8 Adicionando chaves públicas ao seu chaveiro pessoal">
<link href="ch-d-cripto.html#s-d-cripto-gpg-c-l" rel="subsection" title="41.5.9 Listando chaves de seu chaveiro">
<link href="ch-d-cripto.html#s-d-cripto-gpg-c-d" rel="subsection" title="41.5.10 Apagando chaves de seu chaveiro">
<link href="ch-d-cripto.html#s-d-cripto-gpg-chpasswd" rel="subsection" title="41.5.11 Mudando sua FraseSenha">
<link href="ch-d-cripto.html#s-d-cripto-gpg-sign" rel="subsection" title="41.5.12 Assinando uma chave digital">
<link href="ch-d-cripto.html#s-d-cripto-gpg-c-sign-l" rel="subsection" title="41.5.13 Listando assinaturas digitais">
<link href="ch-d-cripto.html#s-d-cripto-gpg-c-sign-guia" rel="subsection" title="41.5.14 Recomendações para a assinatura de chaves gpg">
<link href="ch-aplic.html#s-aplic-b-editores" rel="subsection" title="42.1.1 Editores de Texto">
<link href="ch-aplic.html#s-aplic-b-escritorio" rel="subsection" title="42.1.2 Aplicativos para Escritório">
<link href="ch-aplic.html#s-aplic-b-internet" rel="subsection" title="42.1.3 Internet">
<link href="ch-aplic.html#s-aplic-b-emuladores" rel="subsection" title="42.1.4 Emuladores">
<link href="ch-aplic.html#s-aplic-b-utils" rel="subsection" title="42.1.5 Utilitários">
<link href="ch-aplic.html#s-aplic-b-admin" rel="subsection" title="42.1.6 Administração do Sistema">
<link href="ch-aplic.html#s-aplic-l-perifericos" rel="subsection" title="42.2.1 Periféricos / Gerenciamento de Hardware">
<link href="ch-aplic.html#s-aplic-l-internet" rel="subsection" title="42.2.2 Internet">
<link href="ch-aplic.html#s-aplic-l-conferencia" rel="subsection" title="42.2.3 Conferência de audio/vídeo via Internet/Intranet">
<link href="ch-aplic.html#s-aplic-l-webhtml" rel="subsection" title="42.2.4 Gerenciamento de WebSites / Linguagem HTML">
<link href="ch-aplic.html#s-aplic-l-multimidia" rel="subsection" title="42.2.5 Multimídia">
<link href="ch-aplic.html#s-aplic-l-som" rel="subsection" title="42.2.6 Som">
<link href="ch-aplic.html#s-aplic-l-comm" rel="subsection" title="42.2.7 Comunicação/Fax">
<link href="ch-aplic.html#s-aplic-l-x11" rel="subsection" title="42.2.8 X Window">
<link href="ch-aplic.html#s-aplic-l-edicao" rel="subsection" title="42.2.9 Editoração Gráfica/Visualizadores">
<link href="ch-aplic.html#s-aplic-l-emul" rel="subsection" title="42.2.10 Emuladores/Ferramentas p/ Interação com outros SO">
<link href="ch-aplic.html#s-aplic-l-prog" rel="subsection" title="42.2.11 Programação / Bancos de Dados / Acesso a Dados">
<link href="ch-aplic.html#s-aplic-l-impressao" rel="subsection" title="42.2.12 Impressão">
<link href="ch-aplic.html#s-aplic-l-texto" rel="subsection" title="42.2.13 Texto">
<link href="ch-aplic.html#s-aplic-l-kernel" rel="subsection" title="42.2.14 Kernel">
<link href="ch-aplic.html#s-aplic-l-notebooks" rel="subsection" title="42.2.15 Notebooks">
<link href="ch-aplic.html#s-aplic-l-cdrec" rel="subsection" title="42.2.16 Gravação de CD/DVD">
<link href="ch-aplic.html#s-aplic-l-cluster" rel="subsection" title="42.2.17 Computação Paralela/Clusters">
<link href="ch-aplic.html#s-aplic-l-handhelds" rel="subsection" title="42.2.18 PalmTop / Palm Pilot / Computadores de Mão">
<link href="ch-aplic.html#s-aplic-l-backup" rel="subsection" title="42.2.19 Backup">
<link href="ch-aplic.html#s-aplic-l-uteis" rel="subsection" title="42.2.20 Utilitários">
<link href="ch-aplic.html#s-aplic-l-compactadores" rel="subsection" title="42.2.21 Compactadores/Descompactadores/Arquivadores">
<link href="ch-aplic.html#s-aplic-l-x10" rel="subsection" title="42.2.22 Dispositivos X-10 (Controle de eletrodomésticos e aparelhos via PC)">
<link href="ch-aplic.html#s-aplic-l-outros" rel="subsection" title="42.2.23 Outros">
<link href="ch-ajuda.html#s-ajuda-paginas" rel="subsection" title="43.11.1 Páginas Internet de Referência">
<link href="ch-ajuda.html#s-ajuda-redes-sociais" rel="subsection" title="43.11.2 Redes sociais">
<link href="ch-ajuda.html#s-ajuda-listas" rel="subsection" title="43.11.3 Listas de discussão">
<link href="ch-ajuda.html#s-ajuda-netiqueta-geral" rel="subsection" title="43.12.1 Recomendações Gerais sobre a Comunicação Eletrônica">
<link href="ch-ajuda.html#s-ajuda-netiqueta-email" rel="subsection" title="43.12.2 Email">
<link href="ch-ajuda.html#s-ajuda-netiqueta-icq" rel="subsection" title="43.12.3 ICQ/Google Hangout/FaceBook Messenger/WhatsApp/Telegram/Jabber/Skype">
<link href="ch-ajuda.html#s-ajuda-netiqueta-talk" rel="subsection" title="43.12.4 Talk">
<link href="ch-ajuda.html#s-ajuda-netiqueta-listas" rel="subsection" title="43.12.5 Listas de Discussão via Email">
<link href="ch-systemd.html#s-s-systemd-sysvinit" rel="subsection" title="44.1.1 sysvinit">
<link href="ch-systemd.html#s-s-systemd-upstart" rel="subsection" title="44.1.2 upstart">
<link href="ch-systemd.html#s-s-systemd-systemd" rel="subsection" title="44.1.3 systemd">
<link href="ch-systemd.html#s-s-systemd-polemicas" rel="subsection" title="44.1.4 As polêmicas em torno do systemd">
<link href="ch-systemd.html#s-s-systemd-systemctl" rel="subsection" title="44.2.1 systemctl">
<link href="ch-systemd.html#s-s-systemd-journalctl" rel="subsection" title="44.2.2 journalctl">
<link href="ch-systemd.html#s-s-systemd-runlevel" rel="subsection" title="44.2.3 Mudando o runlevel com systemd (ou como dar boot em &quot;single mode&quot;)">
<link href="ch-virt-intro.html#s-virt-lxc-creation" rel="subsection" title="46.4.1 Criando um convidado LXC">

</head>

<body>

<p><a name="ch-s-apache"></a></p>
<hr>

<p>
[ <a href="ch-d-contas.html">anterior</a> ]
[ <a href="index.html#contents">Conteúdo</a> ]
[ <a href="ch-intro.html">1</a> ]
[ <a href="ch-bas.html">2</a> ]
[ <a href="ch-hardw.html">3</a> ]
[ <a href="ch-d-l.html">4</a> ]
[ <a href="ch-disc.html">5</a> ]
[ <a href="ch-boot.html">6</a> ]
[ <a href="ch-run.html">7</a> ]
[ <a href="ch-cmdd.html">8</a> ]
[ <a href="ch-cmd.html">9</a> ]
[ <a href="ch-cmdv.html">10</a> ]
[ <a href="ch-cmdn.html">11</a> ]
[ <a href="ch-cmdc.html">12</a> ]
[ <a href="ch-perm.html">13</a> ]
[ <a href="ch-redir.html">14</a> ]
[ <a href="ch-rede.html">15</a> ]
[ <a href="ch-cfgrede.html">16</a> ]
[ <a href="ch-kern.html">17</a> ]
[ <a href="ch-log.html">18</a> ]
[ <a href="ch-cpctd.html">19</a> ]
[ <a href="ch-deb.html">20</a> ]
[ <a href="ch-dpkg.html">21</a> ]
[ <a href="ch-pers.html">22</a> ]
[ <a href="ch-impr.html">23</a> ]
[ <a href="ch-cfg.html">24</a> ]
[ <a href="ch-tasks.html">25</a> ]
[ <a href="ch-compil.html">26</a> ]
[ <a href="ch-manut.html">27</a> ]
[ <a href="ch-etc.html">28</a> ]
[ <a href="ch-inter.html">29</a> ]
[ <a href="ch-x11.html">30</a> ]
[ <a href="ch-fw-iptables.html">31</a> ]
[ <a href="ch-d-contas.html">32</a> ]
[ 33 ]
[ <a href="ch-s-ident.html">34</a> ]
[ <a href="ch-s-telnet.html">35</a> ]
[ <a href="ch-s-ssh.html">36</a> ]
[ <a href="ch-s-pop3.html">37</a> ]
[ <a href="ch-s-cvs.html">38</a> ]
[ <a href="ch-s-samba.html">39</a> ]
[ <a href="ch-d-restr.html">40</a> ]
[ <a href="ch-d-cripto.html">41</a> ]
[ <a href="ch-aplic.html">42</a> ]
[ <a href="ch-ajuda.html">43</a> ]
[ <a href="ch-systemd.html">44</a> ]
[ <a href="ch-git.html">45</a> ]
[ <a href="ch-virt-intro.html">46</a> ]
[ <a href="ch-apend.html">47</a> ]
[ <a href="ch-s-ident.html">próximo</a> ]
</p>

<hr>

<h1>
Guia Foca GNU/Linux
<br>Capítulo 33 - Apache
</h1>

<hr>

<p>
Esta capítulo documenta a configuração, personalização, introdução aos
mecanismos de autenticação e controle de acesso do <code>Apache</code>,
sistema proxy, virtual hosting, e exemplos de configuração do servidor
<code>httpd</code>.  Ele não tem como objetivo ser uma referência completa de
configuração, mas sim abordar didaticamente o assunto.
</p>

<hr>

<h2 id="s-s-apache-intro">33.1 Introdução</h2>

<p>
O servidor web é um programa responsável por disponibilizar páginas, fotos,
ou qualquer outro tipo de objeto ao navegador do cliente.  Ele também pode
operar recebendo dados do cliente, processando e enviando o resultado para que
o cliente possa tomar a ação desejada (como em aplicações CGI's, banco de
dados web, preenchimento de formulários, etc).
</p>

<p>
O <code>Apache</code> é um servidor Web extremamente configurável, robusto e
de alta performance desenvolvido por uma equipe de voluntários (conhecida como
<samp>Apache Group</samp>) buscando criar um servidor web com muitas
características e com código fonte disponível gratuitamente via Internet.
Segundo a Netcraft (<code><a
href="http://www.netcraft.com/">http://www.netcraft.com/</a></code>), o
<code>Apache</code> é mais usado que todos os outros servidores web do mundo
juntos.
</p>

<p>
Este capítulo não tenta ser um guia completo ao <code>Apache</code>, mas
tentará mostrar como sua estrutura é organizada, as diretivas principais de
configuração, diretivas de segurança, virtual hosting, proxy, o uso de
utilitários de gerenciamento do servidor, como personalizar algumas partes do
servidor e programas úteis de terceiros para análise e diagnóstico do
servidor web.  Não deixe também de ver <a href="#s-s-apache-exemplo">Exemplo
comentado de um arquivo de configuração do Apache, Seção 33.14</a> pois
contém diretivas básicas de configuração comentadas e explicações
interessante e faz parte do aprendizado.
</p>

<hr>

<h3 id="s-s-apache-versao">33.1.1 Versão</h3>

<p>
É assumido que esteja usando a versão 1.3.22 do <code>apache</code>.  As
explicações contidas aqui podem funcionar para versões posteriores, mas é
recomendável que leia a documentação sobre modificações no programa
(changelog) em busca de mudanças que alterem o sentido das explicações
fornecidas aqui.
</p>

<hr>

<h3 id="s-s-apache-historia">33.1.2 Um resumo da História do Apache</h3>

<p>
O <code>Apache</code> tem como base o servidor web <code>NCSA 1.3</code>
(<em>National Center of Supercomputing Applications</em>), que foi desenvolvido
por Rob McCool.  Quando Rob deixou o NCSA, o desenvolvimento foi interrompido,
assim muitos desenvolvedores buscaram personalizar sua própria versão do NCSA
ou adicionar mais características para atender as suas necessidades.  Neste
momento começa a história do <code>Apache</code> com <em>Brian
Behlendorf</em> e <em>Cliff Skolnick</em> abrindo uma lista de discussão para
interessados no desenvolvimento, conseguindo espaço em um servidor doado pela
<em>HotWired</em> e trocando patches corrigindo problemas, adicionando recursos
e discutindo idéias com outros desenvolvedores e hackers interessados neste
projeto.
</p>

<p>
A primeira versão oficial do <code>Apache</code> foi a 0.6.2, lançada em
Abril de 1995 (neste período a NCSA retomava o desenvolvimento de seu servidor
web, tendo como desenvolvedores <em>Brandon Long</em> e <em>Beth Frank</em> que
também se tornaram membros especiais do grupo <code>Apache</code>,
compartilhando idéias sobre seus projetos).
</p>

<p>
Nas versões 2.x do Apache, a escalabilidade do servidor foi ampliada
suportando as plataformas <code>Win32</code> (não obtendo o mesmo desempenho
que em plataformas UNIX mas sendo melhorado gradativamente).
</p>

<hr>

<h3 id="s-s-apache-contribuindo">33.1.3 Enviando Correções/Contribuindo com o projeto</h3>

<p>
Um formulário está disponível na Web para o envio de correções/sugestões
em <samp><code><a
href="http://www.apache.org/bug_report.html/">http://www.apache.org/bug_report.html/</a></code></samp>.
Uma lista de anuncio sobre o <code>Apache</code> está disponível em <code><a
href="mailto:apache-announce@apache.org">mailto:apache-announce@apache.org</a></code>
que divulgam correções, novas versões e realização de eventos.
</p>

<p>
Mais detalhes sobre o desenvolvimento do Apache podem ser visualizadas na URL
<samp><code><a
href="http://dev.apache.org/">http://dev.apache.org/</a></code></samp>.
</p>

<hr>

<h3 id="s-s-apache-caracteristicas">33.1.4 Características do Apache</h3>

<p>
Abaixo estão algumas características que fazem esse servidor web o preferido
entre os administradores de sistemas:
</p>
<ul>
<li>
<p>
Possui suporte a scripts cgi usando linguagens como <em>Perl, PHP, Shell
Script, ASP, etc</em>.
</p>
</li>
<li>
<p>
Suporte a autorização de acesso podendo ser especificadas restrições de
acesso separadamente para cada endereço/arquivo/diretório acessado no
servidor.
</p>
</li>
<li>
<p>
Autenticação requerendo um nome de usuário e senha válidos para acesso a
alguma página/sub-diretório/arquivo (suportando criptografia via Crypto e
MD5).
</p>
</li>
<li>
<p>
Negociação de conteúdo, permitindo a exibição da página Web no idioma
requisitado pelo Cliente Navegador.
</p>
</li>
<li>
<p>
Suporte a tipos mime.
</p>
</li>
<li>
<p>
Personalização de logs.
</p>
</li>
<li>
<p>
Mensagens de erro.
</p>
</li>
<li>
<p>
Suporte a virtual hosting (é possível servir 2 ou mais páginas com
endereços/ portas diferentes através do mesmo processo ou usar mais de um
processo para controlar mais de um endereço).
</p>
</li>
<li>
<p>
Suporte a IP virtual hosting.
</p>
</li>
<li>
<p>
Suporte a name virtual hosting.
</p>
</li>
<li>
<p>
Suporte a servidor Proxy ftp e http, com limite de acesso, caching (todas
flexivelmente configuráveis).
</p>
</li>
<li>
<p>
Suporte a proxy e redirecionamentos baseados em URLs para endereços Internos.
</p>
</li>
<li>
<p>
Suporte a criptografia via SSL,Certificados digitais
</p>
</li>
<li>
<p>
Módulos DSO (Dynamic Shared Objects) permitem adicionar/remover
funcionalidades e recursos sem necessidade de recompilação do programa.
</p>
</li>
</ul>

<hr>

<h3 id="s-s-apache-ficha">33.1.5 Ficha técnica</h3>

<p>
Pacote: <code>apache</code>
</p>

<p>
Utilitários:
</p>
<ul>
<li>
<p>
<samp>apache</samp> - Servidor Web Principal
</p>
</li>
<li>
<p>
<samp>apachectl</samp> - Shell script que faz interface com o
<code>apache</code> de forma mais amigável
</p>
</li>
<li>
<p>
<samp>apacheconfig</samp> - Script em Perl para configuração interativa
básica do <code>Apache</code>
</p>
</li>
<li>
<p>
<samp>htpasswd</samp> - Cria/Gerencia senhas criptografadas Crypto/MD5
</p>
</li>
<li>
<p>
<samp>htdigest</samp> - Cria/Gerencia senhas criptografadas Crypto/MD5
</p>
</li>
<li>
<p>
<samp>dbmmanage</samp> - Cria/Gerencia senhas em formato DBM (Perl)
</p>
</li>
<li>
<p>
<samp>logresolve</samp> - Faz um DNS reverso dos arquivos de log do
<code>Apache</code> para obter o endereço de hosts com base nos endereços
IP's.
</p>
</li>
<li>
<p>
<samp>ab</samp> - Apache Benchmarcking - Ferramenta de medida de desempenho do
servidor Web Apache.
</p>
</li>
</ul>

<p>
Por padrão, os arquivos de configuração do <code>Apache</code> residem no
diretório <code>/etc/apache</code>:
</p>
<dl>
<dt>httpd.conf</dt>
<dd>
<p>
Arquivo de configuração principal do <code>Apache</code>, possui diretivas
que controlam a operação do daemon servidor.  Um arquivo de configuração
alternativo pode ser especificado através da opção &quot;-f&quot; da linha
de comando.
</p>
</dd>
<dt>srm.conf</dt>
<dd>
<p>
Contém diretivas que controlam a especificação de documentos que o servidor
oferece aos clientes.  O nome desse arquivo pode ser substituído através da
diretiva ResourceConfig no arquivo principal de configuração.
</p>
</dd>
<dt>access.conf</dt>
<dd>
<p>
Contém diretivas que controlam o acesso aos documentos.  O nome desse arquivo
pode ser substituído através da diretiva <em>AccessConfig</em> no arquivo
principal de configuração.
</p>
</dd>
</dl>

<p>
O servidor Web lê os arquivos acima na ordem que estão especificados
(<code>httpd.conf</code>, <code>srm.conf</code> e <code>access.conf</code>).
As configurações também podem ser especificadas diretamente no arquivo
<code>httpd.conf</code>.  Note que não é obrigatório usar os arquivos
<code>srm.conf</code> e <code>access.conf</code>, mas isto proporciona uma
melhor organização das diretivas do servidor, principalmente quando se tem um
grande conjunto de diretivas.  Um exemplo comentado destes três arquivos de
configuração é encontrado em <a href="#s-s-apache-exemplo">Exemplo comentado
de um arquivo de configuração do Apache, Seção 33.14</a>.
</p>

<hr>

<h3 id="s-s-apache-hwreq">33.1.6 Requerimentos</h3>

<p>
A máquina mínima para se rodar um servidor <code>Apache</code> para atender a
uma rede padrão 10MB/s é um Pentium 90, 24MB de RAM, um HD com um bom
desempenho e espaço em disco considerável de acordo com o tamanho projetado
de seu servidor web (considerando seu crescimento).
</p>

<p>
Uma configuração mais rápida para redes 100MB/s teria como processador um
Cyrix MX ou Intel Pentium MMX como plataforma mínima (Cyrix é o recomendado
pelo alto desempenho no processamento de strings), barramento de HD SCSI com
uma boa placa controladora (Adaptec 19160 ou superior) com 64MB de RAM no
mínimo.
</p>

<hr>

<h3 id="s-s-apache-logs">33.1.7 Arquivos de log criados pelo Apache</h3>

<p>
O servidor <code>httpd</code> grava seus arquivos de log geralmente em
<code>/var/log/apache</code>, não é possível descrever os arquivos de logs
usados porque tanto seus nomes como conteúdo podem ser personalizados no
arquivo <code>httpd.conf</code>.  Mesmo assim, os arquivos de logs encontrados
na instalação padrão do <code>Apache</code> são os seguintes:
</p>
<ul>
<li>
<p>
<code>access.log</code> - Registra detalhes sobre o acesso as páginas do
servidor <code>httpd</code>.
</p>
</li>
<li>
<p>
<code>error.log</code> - Registra detalhes saber erros de acesso as páginas ou
erros internos do servidor.
</p>
</li>
<li>
<p>
<code>agent.log</code> - Registra o nome do navegador do cliente (campo
<var>UserAgent</var> do cabeçalho http).
</p>
</li>
</ul>

<p>
Mais referências podem ser encontradas em <a href="#s-s-apache-log">Sistema de
Log do Apache, Seção 33.10</a>.  Um bom programa para geração de
estatísticas de acesso com gráficos é o <a
href="#s-s-apache-log-webalizer">Relatório gráfico de acesso ao sistema,
Seção 33.10.15</a>.
</p>

<hr>

<h3 id="s-s-apache-install">33.1.8 Instalação</h3>

<p>
<samp>apt-get install apache apache-doc</samp>
</p>

<p>
(o pacote <code>apache-doc</code> contém a documentação de referencia do
<code>Apache</code>, é recomendável instala-lo se estiver curioso e deseja
entender melhor seu funcionamento ou consultar diretivas).
</p>

<hr>

<h3 id="s-s-apache-rodando">33.1.9 Iniciando o servidor/reiniciando/recarregando a configuração</h3>

<p>
O <code>Apache</code> pode ser executado tanto como um servidor <em>Inetd</em>
ou como um <em>Daemon</em>.  A inicialização de programas pelo <em>Inetd</em>
é uma boa estratégia quando você precisa de um controle de acesso básico (o
fornecido pelo <code>tcpd</code>), e o serviço é pouco usado na máquina.
</p>

<p>
A segurança de um serviço iniciado pelo <code>inetd</code> pode ser
substituída e melhorada por um firewall bem configurado, garantindo
facilidades extras como um relatório de tráfego para a porta do servidor web,
por exemplo.  Mesmo assim se o servidor <code>Apache</code> estiver rodando
como daemon e estiver ocioso, ele será movido para swap liberando a memória
RAM para a execução de outros programas.
</p>

<p>
Neste capítulo será assumido seu funcionamento do <code>Apache</code> como
Daemon, que é o método de funcionamento recomendado para sites de grande
tráfego onde ele é freqüentemente requisitado e considerado um serviço
crítico.
</p>

<p>
O método padrão para iniciar programas como daemons na <code>Debian</code> é
através dos diretórios <code>/etc/rc?.d</code>.  Cada diretório deste
contém os programas que serão executados/interrompidos no nível de
execução &quot;?&quot; (<code>rc1.d/</code>, <code>rc2.d/</code> ...).  O
conteúdo destes diretórios são links para os scripts originais em
<code>/etc/init.d/programa</code>, o nosso programa alvo é
<code>/etc/init.d/apache</code>.  O <code>/etc/init.d/apache</code> aceita os
seguintes parâmetros:
</p>
<ul>
<li>
<p>
<samp>start</samp> - Inicia o <code>Apache</code>
</p>
</li>
<li>
<p>
<samp>stop</samp> - Finaliza o <code>Apache</code>
</p>
</li>
<li>
<p>
<samp>restart</samp> - Reinicia o <code>Apache</code>, efetuando uma pausa de 5
segundos entre a interrupção do seu funcionamento e reinicio.
</p>
</li>
<li>
<p>
<samp>reload</samp> - Recarrega os arquivos de configuração do
<samp>Apache</samp>, as alterações entram em funcionamento imediatamente.
</p>
</li>
<li>
<p>
<samp>reload-modules</samp> - Recarrega os módulos.  Basicamente é feito um
restart no servidor.
</p>
</li>
<li>
<p>
<samp>force-reload</samp> - Faz a mesma função que o reload
</p>
</li>
</ul>

<p>
Para reiniciar o <code>Apache</code> usando o <code>/etc/init.d/apache</code>,
digite:
</p>

<p>
./etc/init.d/apache restart
</p>

<p>
ou
</p>

<p>
<samp>cd /etc/init.d;./apache restart</samp>
</p>

<p>
Na realidade, o que o <code>/etc/init.d/apache</code> faz é interagir
diretamente com o shell script <code>apachectl</code>.
</p>

<p>
O <code>apachectl</code> recebe os parâmetros enviados pelo usuário e
converte para sinais que serão enviados para o binário <code>apache</code>.
Da mesma forma ele verifica os códigos de saída do <code>apache</code> e os
transforma em mensagens de erro legíveis para o usuário comum.  Os seguintes
comandos são aceitos pelo <code>apachectl</code>:
</p>
<ul>
<li>
<p>
<samp>httpd-server/start</samp> - Inicia o <code>Apache</code>
</p>
</li>
<li>
<p>
<samp>stop</samp> - Finaliza o <code>Apache</code> (enviando um sinal TERM)
</p>
</li>
<li>
<p>
<samp>restart</samp> - Reinicia o <code>Apache</code> (enviando um sinal HUP)
</p>
</li>
<li>
<p>
<samp>graceful</samp> - Recarrega os arquivos de configuração do
<code>Apache</code> (enviando um sinal USR1)
</p>
</li>
<li>
<p>
<samp>fullstatus</samp> - Mostra o status completo do servidor
<code>Apache</code> (requer o <code>lynx</code> e o módulo <em>mod_status</em>
carregado).
</p>
</li>
<li>
<p>
<samp>status</samp> - Mostra o status do processo do servidor
<code>Apache</code> (requer o <code>lynx</code> e o módulo <em>mod_status</em>
carregado).
</p>
</li>
<li>
<p>
<samp>configtest</samp> - Verifica se a sintaxe dos arquivos de configuração
está OK (executa um <samp>apache -t</samp>).
</p>
</li>
</ul>

<hr>

<h3 id="s-s-apache-opcoescmd">33.1.10 Opções de linha de comando</h3>

<ul>
<li>
<p>
<samp>-D nome</samp> - define um nome que será usado na diretiva &lt;IfDefine
nome&gt;.
</p>
</li>
<li>
<p>
<samp>-d diretório</samp> - especifica o diretório <em>ServerRoot</em>
(substitui o do arquivo de configuração).
</p>
</li>
<li>
<p>
<samp>-f arquivo</samp> - especifica um arquivo <em>ServerConfigFile</em>
alternativo.
</p>
</li>
<li>
<p>
<samp>-C &quot;diretiva&quot;</samp> - processa a diretiva antes de ler os
arquivo de configuração.
</p>
</li>
<li>
<p>
<samp>-c &quot;diretiva&quot;</samp> - processa a diretiva depois de ler os
arquivos de configuração.
</p>
</li>
<li>
<p>
<samp>-v</samp> - mostra a versão do programa.
</p>
</li>
<li>
<p>
<samp>-V</samp> - mostra opções usadas na compilação do
<code>Apache</code>.
</p>
</li>
<li>
<p>
<samp>-h</samp> - Mostra o help on-line do programa
</p>
</li>
<li>
<p>
<samp>-l</samp> - lista módulos compilados junto com o Apache (embutidos)
</p>
</li>
<li>
<p>
<samp>-L</samp> - lista diretivas de configurações disponíveis
</p>
</li>
<li>
<p>
<samp>-S</samp> - Mostra configurações de Virtual Hosting
</p>
</li>
<li>
<p>
<samp>-t</samp> - executa a checagem de sintaxe nos arquivos de configuração
do Apache (incluindo a checagem da diretiva <em>DocRoot</em>).
</p>
</li>
<li>
<p>
<samp>-T</samp> - executa a checagem de sintaxe nos arquivos de configuração
do <code>Apache</code> (menos da diretiva <em>DocRoot</em>).
</p>
</li>
</ul>

<hr>

<h2 id="s-s-apache-port">33.2 Configurando a porta padrão do Apache</h2>

<p>
Use a diretiva <em>Port</em> para configurar a porta padrão que o
<code>Apache</code> receberá requisições por padrão.  A diretiva
<em>Listen</em> também é usada para ajustar o endereço/portas alternativas
(usadas também em <samp>Virtual Hosts</samp>) e substituirá as definições
de <em>Port</em>(veja <a href="#s-s-apache-listen">Especificando
endereços/portas adicionais (a diretiva <em>Listen</em>), Seção 33.5</a>
para detalhes).
</p>

<p>
<strong>OBS:</strong>: Somente uma diretiva <em>Port</em> e um argumento
poderão ser especificados.  Para mais controle sobre as portas do sistema use
a diretiva <em>Listen</em>.
</p>

<hr>

<h2 id="s-s-apache-adicpagina">33.3 Adicionando uma página no Apache</h2>

<p>
Existem dois tipos de páginas que podem ser adicionadas ao
<code>Apache</code>: a página raíz e sub-páginas.
</p>
<dl>
<dt><em>Página Raíz</em></dt>
<dd>
<p>
A página raíz é especificada através da diretiva <em>DocumentRoot</em> e
será mostrada quando se entrar no domínio principal, como
<code>http://www.guiafoca.org</code>.  Na configuração padrão do
<code>Apache</code>, <em>DocumentRoot</em> aponta para o diretório
<code>/var/www</code>.  Este diretório será assumido como
<strong>raíz</strong> caso os diretórios não sejam iniciados por uma
<code>/</code>:
</p>
<ul>
<li>
<p>
<code>home/focalinux</code> - Aponta para <code>/var/www/home/focalinux</code>
</p>
</li>
<li>
<p>
<code>/home/focalinux</code> - Aponta para <code>/home/focalinux</code>
</p>
</li>
</ul>

<p>
Este diretório deve conter um arquivo de índice válido (especificado pela
diretiva <em>DocumentIndex</em> no <code>srm.conf</code>) e permissões de
acesso válidas no arquivo <code>access.conf</code> para autorizar o acesso as
páginas em <code>/var/www</code> (veja <a
href="#s-s-apache-acesso-restr">Restrições de Acesso, Seção 33.7</a> para
detalhes).
</p>
</dd>
</dl>
<dl>
<dt>Sub-páginas</dt>
<dd>
<p>
Sub páginas são armazenadas abaixo do diretório da <em>Página raíz</em>,
como <code>http://www.guiafoca.org/download</code>.  Elas podem ser um
subdiretório da página principal em <code>/var/www</code> ou serem criadas
através da diretiva <em>Alias</em> no arquivo <code>srm.conf</code>.  Caso
seja um sub-diretório, as permissões de acesso de <code>/var/www</code>
serão herdadas para este subdiretório, mas também poderão ser modificadas
com a especificação de uma nova diretiva de acesso.
</p>

<p>
Através da diretiva <em>Alias</em> a página pode estar localizada em outro
diretório do disco (até mesmo outro sistema de arquivos) e as permissões de
acesso deverão ser definidas para aquela página.  Para criar um endereço
<code>http://www.guiafoca.org/iniciante</code> que aponta para o diretório
<code>/home/focalinux/download/iniciante</code> no disco local, basta usar a
seguinte diretiva no <code>srm.conf</code>:
</p>

<pre>
     Alias /iniciante /home/focalinux/download/iniciante
</pre>

<p>
Pode ser necessário permitir o acesso a nova página caso o servidor tenha uma
configuração restritiva por padrão (veja <a
href="#s-s-apache-acesso-restr">Restrições de Acesso, Seção 33.7</a> para
detalhes).  Após isto, faça o servidor <code>httpd</code> re-ler os arquivos
de configuração ou reinicia-lo.  Após isto, a página
<code>/home/focalinux/download/iniciante</code> estará acessível via
<code>http://www.guiafoca.org/iniciante</code>.
</p>

<p>
<strong>OBS:</strong> Caso inclua uma <code>/</code> no diretório que será
acessível via URL, o endereço somente estará disponível caso você entre
com <code>/</code> no final da URL:
</p>

<pre>
     Alias /doc/ /usr/doc/
</pre>

<p>
O diretório <code>/doc</code> somente poderá ser acessado usando
<code>http://www.guiafoca.org/doc/</code>, o uso de
<code>http://www.guiafoca.org/doc</code> retornará uma mensagem de URL não
encontrada.
</p>
</dd>
</dl>

<hr>

<h2 id="s-s-apache-bindaddress">33.4 Configurando as interfaces que o Apache atenderá</h2>

<p>
A diretiva <em>BindAddress</em> é usada para especificar endereços IP das
interfaces ou endereços FQDN que o <code>Apache</code> responderá
requisições.  Mais de um endereço podem ser especificados separados por
espaços.  Caso não seja definido, o <code>Apache</code> assumirá o valor
&quot;*&quot; (atenderá requisições vindas de qualquer interface).
</p>

<p>
<strong>OBS1:</strong> - É permitido usar somente uma diretiva
<em>BindAddress</em>.  A diretiva <em>Listen</em> deverá ser usada se desejar
mais controle sobre as portas do servidor web.  Veja <a
href="#s-s-apache-listen">Especificando endereços/portas adicionais (a
diretiva <em>Listen</em>), Seção 33.5</a> para detalhes.
</p>

<p>
<strong>OBS2:</strong> - As interfaces especificadas pela diretiva
<em>Listen</em> substituirá as especificadas em <em>BindAddress</em>.
</p>

<p>
Exemplo:
</p>
<ul>
<li>
<p>
<samp>BindAddress 192.168.1.1</samp> - Especifica que os usuários da faixa de
rede <code>192.168.1.*</code> terão acesso ao servidor <code>httpd</code>.
Isto assume que a máquina possui o endereço <code>192.168.1.1</code> em sua
interface de rede interna.
</p>
</li>
<li>
<p>
<samp>BindAddress *</samp> - Atenderá requisições vindas de qualquer
interface de rede.
</p>
</li>
</ul>

<hr>

<h2 id="s-s-apache-listen">33.5 Especificando endereços/portas adicionais (a diretiva <em>Listen</em>)</h2>

<p>
A diretiva <em>Listen</em> é usada para se ter um controle maior sobre a
especificação de endereços/portas alternativas que o servidor web esperará
por requisições externas.  Esta diretiva é muito usada na construção de
<em>Virtual Hosts</em>.  Esta diretiva pode substituir completamente as
diretivas <em>Port</em> e <em>BindAddress</em>.  Podem ser usados o número da
porta, ou o par <samp>endereço:porta</samp>:
</p>

<pre>
     Listen 192.168.1.1:80
     Listen 192.168.7.1:81
     Listen 60000
</pre>

<p>
O endereço que deverá ser usado é o da interface de rede (assim como na
diretiva <em>BindAddress</em>).  No exemplo acima, o servidor
<code>httpd</code> esperará por requisições vindas de
<code>192.168.1.*</code> na porta 80 e também 60000, e requisições vindas de
192.168.7.1 na porta 81 e também 60000.
</p>

<hr>

<h2 id="s-s-apache-acesso">33.6 Especificando opções/permissões para as páginas</h2>

<p>
As opções de restrição podem tanto ser especificadas nas diretivas
&lt;Directory&gt;, &lt;Location&gt; ou &lt;Files&gt; quanto nos arquivos
<code>.htaccess</code> (ou outro nome de arquivo de controle de acesso
especificado pela opção <em>AccessFileName</em> do arquivo de configuração
do <code>Apache</code>).  Cada diretiva de acesso é especificada entre
&lt;tags&gt; e devem ser fechadas com &lt;/tag&gt; (como na linguagem HTML).
As seguintes diretivas de acesso são válidas no <code>Apache</code>:
</p>
<dl>
<dt>Directory</dt>
<dd>
<p>
As restrição afetará o diretório no disco especificado, conseqüentemente a
página armazenada nele.  Por exemplo:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Order deny,allow
      deny from all
      allow from 10.1.0.1
     &lt;Directory&gt;
</pre>

<p>
O acesso ao diretório <code>/var/www</code> será permitido somente ao
computador com o endereço IP <samp>10.1.0.1</samp>.
</p>
</dd>
</dl>
<dl>
<dt>DirectoryMatch</dt>
<dd>
<p>
Funciona como a diretiva &lt;Directory&gt; mas trabalha com expressões
regulares como argumento.  Por exemplo:
</p>

<pre>
     &lt;DirectoryMatch &quot;^/www/.*&quot;&gt;
      Order deny,allow
      deny from all
     &lt;DirectoryMatch&gt;
</pre>

<p>
Bloqueará o acesso ao diretório <code>/www</code> e sub-diretórios dentro
dele.
</p>
</dd>
</dl>
<dl>
<dt>Files</dt>
<dd>
<p>
As restrições afetarão os arquivos do disco que conferem com o especificado.
É possível usar os coringas <em>?</em> e <em>*</em> como no shell.  Também
podem ser usadas expressões regulares especificando um &quot;~&quot; após
<samp>Files</samp> e antes da expressão.  Por exemplo:
</p>

<pre>
     &lt;Files *.txt&gt;
      Order deny,allow
      deny from all
     &lt;/Files&gt;
</pre>

<p>
Bloqueia o acesso a todos os arquivos com a extensão <code>.txt</code>
</p>

<pre>
     &lt;Files ~ &quot;\.(gif|jpe?g|bmp|png)$&quot;&gt;
      Order deny,allow
     &lt;/Files&gt;
</pre>

<p>
Bloqueia o acesso a arquivos <code>gif, jpg, jpeg, bmp, png</code> (note que o
&quot;~&quot; ativa o modo de interpretação de expressões regulares).
</p>
</dd>
</dl>
<dl>
<dt>FilesMatch</dt>
<dd>
<p>
Permite usar expressões regulares na especificação de arquivos (equivalente
a diretiva &lt;Files ~ &quot;expressão&quot;&gt;).  Por exemplo:
</p>

<pre>
     &lt;FilesMatch &quot;\.(gif|jpe?g|bmp|png)$&quot;&gt;
      Order deny,allow
     &lt;/FilesMatch&gt;
</pre>

<p>
Bloqueia o acesso a arquivos <code>gif, jpg, jpeg, bmp, png</code>.
</p>
</dd>
</dl>
<dl>
<dt>Location</dt>
<dd>
<p>
As restrições afetarão o diretório base especificado na URL e seus
sub-diretórios.  Por exemplo:
</p>

<pre>
     &lt;Location /security&gt;
      Order allow,deny
     &lt;/Location&gt;
</pre>

<p>
Bloqueia o acesso de todos os usuários ao diretório <code>/security</code> da
URL (a explicação porque o acesso é bloqueado neste caso será explicado em
<a href="#s-s-apache-acesso-restr-autor">Autorização, Seção 33.7.1</a>).
</p>
</dd>
</dl>
<dl>
<dt>LocationMatch</dt>
<dd>
<p>
Idêntico a diretiva &lt;Location&gt; mas trabalha com expressões regulares.
Por exemplo:
</p>

<pre>
     &lt;LocationMatch &quot;/(extra|special)/data&quot;&gt;
      Order deny,allow
      deny from all
     &lt;/LocationMatch&gt;
</pre>

<p>
Bloqueará URLs que contém a substring &quot;/extra/data&quot; ou
&quot;/special/data&quot;.
</p>
</dd>
</dl>

<p>
O uso das diretivas &lt;Directory&gt; e &lt;Files&gt; é apropriada quando
você deseja trabalhar com permissões a nível de diretórios/arquivos no
disco local (o controle do proxy também é feito via &lt;Directory&gt;), o uso
da diretiva &lt;Location&gt; é adequado para trabalhar com permissões a
nível de URL.  A ordem de processamento das diretivas de acesso são
processadas é a seguinte:
</p>
<!-- ol type="1" start="1"  -->
<li>
<p>
A diretiva &lt;Directory&gt; (com exceção de &lt;DirectoryMatch&gt;) e os
arquivos <code>.htaccess</code> são processados simultaneamente.  As
definições dos arquivos <code>.htaccess</code> substituem as de
&lt;Directory&gt;)
</p>
</li>
<li>
<p>
Expressões regulares de &lt;DirectoryMatch&gt;, &lt;Directory&gt;.
</p>
</li>
<li>
<p>
&lt;Files&gt; e &lt;FilesMatch&gt; são processados simultaneamente.
</p>
</li>
<li>
<p>
&lt;Location&gt; e &lt;LocationMatch&gt; são processados simultaneamente.
</p>
</li>
</ol>

<p>
Normalmente é encontrado a opção <em>Options</em> dentro de uma das
diretivas acima, a função desta diretiva é controlar os seguintes aspectos
da listagem de diretórios:
</p>
<dl>
<dt>All</dt>
<dd>
<p>
Todas as opções são usadas exceto a <samp>MultiViews</samp>.  É a padrão
caso a opção <em>Options</em> não seja especificada.
</p>
</dd>
<dt>ExecCGI</dt>
<dd>
<p>
Permite a execução de scripts CGI.
</p>
</dd>
<dt>FollowSymLinks</dt>
<dd>
<p>
O servidor seguirá links simbólicos neste diretório (o caminho não é
modificado).  Esta opção é ignorada caso apareça dentro das diretivas
&lt;Location&gt;, &lt;LocationMatch&gt; e &lt;DirectoryMatch&gt;.
</p>
</dd>
<dt>Includes</dt>
<dd>
<p>
É permitido o uso de includes no lado do servidor.
</p>
</dd>
<dt>IncludesNOEXEC</dt>
<dd>
<p>
É permitido o uso de includes do lado do servidor, mas o comando
<samp>#exec</samp> e <samp>#include</samp> de um script CGI são desativados.
</p>
</dd>
<dt>Indexes</dt>
<dd>
<p>
Se não existir um arquivo especificado pela diretiva &lt;DirectoryIndex&gt; no
diretório especificado, o servidor formatará automaticamente a listagem ao
invés de gerar uma resposta de acesso negado.
</p>
</dd>
<dt>MultiViews</dt>
<dd>
<p>
Permite o uso da Negociação de conteúdo naquele diretório.  A negociação
de conteúdo permite o envio de um documento no idioma requisitado pelo
navegador do cliente.
</p>
</dd>
<dt>SymLinksIfOwnerMatch</dt>
<dd>
<p>
O servidor somente seguirá links simbólicos se o arquivo ou diretório alvo
tiver como dono o mesmo user ID do link.  Esta opção é ignorada caso
apareça dentro das diretivas &lt;Location&gt;, &lt;LocationMatch&gt; e
&lt;DirectoryMatch&gt;.
</p>
</dd>
</dl>

<p>
Múltiplos parâmetros para <em>Options</em> podem ser especificados através
de espaços.
</p>

<p>
<strong>OBS1</strong>: A opção Options não tem efeito dentro da diretiva
FILES.
</p>

<p>
<strong>OBS2</strong>: Tanto faz usar maiúsculas quanto minúsculas nas
diretivas de configuração, opções e parâmetros de configuração do
<code>Apache</code>, a capitalização apenas ajuda a leitura e
interpretação: SymLinksIfOwnerMatch (LinksSimbólicosSeDonoConferir).
</p>

<p>
As opções especificadas para o diretório afetam também seus
sub-diretórios, a não ser que sejam especificadas opções separadas para o
sub-diretório:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes FollowSymLinks
     &lt;/Directory&gt;
</pre>

<p>
Ao acessar o diretório <code>/var/www/focalinux</code>, as permissões usadas
serão de <code>/var/www</code>, ao menos que uma diretiva &lt;Directory&gt; ou
&lt;Location&gt; seja especificada:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes FollowSymLinks
     &lt;/Directory&gt;
     
     &lt;Directory /var/www/focalinux&gt;
      Options Includes
     &lt;/Directory&gt;
</pre>

<p>
As opções e restrições de acesso de <code>/var/www/focalinux</code> serão
EXATAMENTE as especificadas no bloco da diretiva &lt;Directory
/var/www/focalinux&gt; e somente os <em>includes</em> serão permitidos.  Para
adicionar ou remover uma opção individual definidas por diretivas anteriores,
podem ser usado os sinais &quot;+&quot; ou &quot;-&quot;, por exemplo:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes FollowSymLinks
     &lt;/Directory&gt;
     
     &lt;Directory /var/www/focalinux&gt;
      Options +Includes -Indexes
     &lt;/Directory&gt;
</pre>

<p>
As opções <em>Indexes</em> e <em>FollowSymLinks</em> são definidas para o
diretório <code>/var/www</code>, então as permissões do diretório
<code>/var/www/focalinux</code> serão <em>FollowSymLinks</em> (do diretório
<code>/web/docs</code>) e <em>Includes</em> (adicionada) e o parâmetro
<em>Indexes</em> não terá efeito neste diretório.
</p>

<p>
É permitido fazer um aninhamento das diretivas &lt;Directory&gt; e
&lt;Files&gt;:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Order allow,deny
      allow from all
     
      &lt;Files LEIAME-DONO.txt&gt;
       Order deny,allow
       deny from all
      &lt;/Files&gt;
     
     &lt;/Directory&gt;
</pre>

<p>
Neste caso, somente os arquivos <code>LEIAME-DONO.txt</code> existentes no
diretório <code>/var/www</code> e seus sub-diretórios serão bloqueados.
</p>

<p>
Se a diretiva &lt;Files&gt; for usada fora de uma estrutura &lt;Directory&gt;,
ela terá efeito em todos os arquivos disponibilizados pelo servidor.  Este é
excelente método para proteger os arquivos de acesso, senhas e grupos,
conforme será explicado mais adiante.
</p>

<p>
Qualquer outro tipo de aninhamento de diretivas resultará em um erro de
configuração ao se tentar carregar/recarregar o <code>Apache</code>.  Um
exemplo de diretiva incorreta:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes FollowSymLinks
     
      &lt;Directory /var/www/focalinux&gt;
       Options +Includes -Indexes
      &lt;/Directory&gt;
     
     &lt;/Directory&gt;
</pre>

<p>
O correto é:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes FollowSymLinks
     &lt;/Directory&gt;
     
     &lt;Directory /var/www/focalinux&gt;
      Options +Includes -Indexes
     &lt;/Directory&gt;
</pre>

<p>
Espero que tenha observado o erro no exemplo acima.
</p>

<p>
<strong>OBS1</strong>: Você pode verificar se a configuração do apache está
correta digitando <samp>apache -t</samp> como usuário root, se tudo estiver
correto com suas configurações ele retornará a mensagem: &quot;Syntax
OK&quot;.
</p>

<p>
<strong>OBS2</strong>: Se <em>Options</em> não for especificado, o padrão
será permitir tudo exceto <em>MultiViews</em>.
</p>

<p>
<strong>OBS3</strong>: Qualquer restrição afetará o diretório atual e todos
os seus sub-diretórios!  Defina permissões de sub-diretórios específicos
separadamente caso precise de um nível de acesso diferente.  Veja também a
seção sobre arquivos OverRide (<code>.htaccess</code>) para detalhes sobre
este tipo de arquivo.
</p>

<p>
<strong>OBS4</strong>: A diretiva de acesso &quot;&lt;Directory /&gt;&quot;
não afetará outros sistemas de arquivos montados dentro de seus
subdiretórios.  Caso uma diretiva de acesso padrão não seja especificada
para outros sistemas de arquivos, o acesso será automaticamente negado.
</p>

<hr>

<h2 id="s-s-apache-acesso-restr">33.7 Restrições de Acesso</h2>

<p>
A restrição de acesso do <code>Apache</code> é feita através de
<em>Autorização</em> (<a href="#s-s-apache-acesso-restr-autor">Autorização,
Seção 33.7.1</a>) e <em>Autenticação</em> (<a
href="#s-s-apache-acesso-restr-auth">Autenticação, Seção 33.7.2</a>).
Através da <em>autorização</em>, é checado se o endereço/rede especificada
tem ou não permissão para acessar a página.  A <em>autenticação</em>
requer que seja passado nome e senha para garantir acesso a página.  Os
métodos de <em>Autorização</em> e <em>Autenticação</em> podem ser
combinados como veremos mais adiante.
</p>

<hr>

<h3 id="s-s-apache-acesso-restr-autor">33.7.1 Autorização</h3>

<p>
A restrição de acesso por autorização (controlado pelo módulo
<code>mod_access</code>), permite ou não o acesso ao cliente de acordo com o
endereço/rede especificada.  As restrições afetam também os sub-diretórios
do diretório alvo.  Abaixo um exemplo de restrição de acesso que bloqueia o
acesso de qualquer host que faz parte do domínio <em>.spammers.com.br</em> a
URL <code>http://servidor/teste</code>:
</p>

<pre>
     &lt;Location /teste&gt;
      Option Indexes
      Order allow,deny
      allow from all
      deny from .spammers.com.br
     &lt;/Location&gt;
</pre>

<p>
A opção <samp>Option</samp> foi explicada acima, seguem as explicações das
outras diretivas:
</p>
<dl>
<dt>Order</dt>
<dd>
<p>
Especifica em que ordem as opções de acesso <em>allow/deny</em> serão
pesquisadas.  Caso não seja especificada, o padrão será <em>deny/allow</em>.
Note que a ordem de pesquisa de <em>allow</em> e <em>deny</em> é a inversa da
especificada.  A diretiva <em>Order</em> aceita os seguintes valores:
</p>
<ul>
<li>
<p>
<samp>deny,allow</samp> - Esta é a padrão, significa um servidor mais
restritivo; a diretiva <em>allow</em> é processada primeiro e somente depois a
diretiva <em>deny</em>.  Caso nenhuma diretiva allow e deny forem especificadas
ou não conferirem, <strong>PERMITE TUDO</strong> como padrão.
</p>
</li>
<li>
<p>
<samp>allow,deny</samp> - Significa um servidor mais permissivo, a opção
<em>deny</em> é processada primeiro e somente depois a opção <em>allow</em>.
Caso nenhuma diretiva allow e deny for especificadas ou não conferirem,
<strong>BLOQUEIA TUDO</strong> como padrão.
</p>
</li>
<li>
<p>
<samp>mutual-failure</samp> - Somente permite o acesso se o usuário receber
autorização através da opção <em>allow</em> e <strong>NÃO</strong> ser
bloqueado pela opção <em>deny</em>, caso uma das checagens falhe, o acesso é
imediatamente negado.  É uma opção interessante quando você quer somente
pessoas de um determinado endereço/rede acessando o seu sistema e não estejam
em sua lista negra :-)
</p>
</li>
</ul>
<p>
<strong>ATENÇÃO</strong>: É importante saber se a página será permissiva
ou restritiva para escolher a ordem mais adequada ao seu caso, também leve em
consideração a possibilidade do processamento cair na diretiva de acesso
padrão, caso nem a diretiva allow e deny conferiram e estiver usando a ordem
de acesso &quot;allow,deny&quot; ou &quot;deny,allow&quot;.  Um sistema mal
configurado neste aspecto poderá trazer sérias conseqüências.
</p>
<p>
É comum em páginas permissivas se definir a seguinte configuração:
</p>
<pre>
     Order allow,deny
     allow from all
</pre>
<p>
O motivo é que em um grande site, se forem adicionadas mais restrições nesta
página (devido a alguns domínios que tem usuários mal comportados, bloqueio
de acesso a rede do concorrente, potenciais atacantes, etc...), estas deverão
ser lidas antes da diretiva &quot;allow from all&quot; e podem passar
desapercebidas ao administrador e podem simplesmente não funcionar caso a
opção <em>Order</em> não esteja ajustada corretamente (lembre-se, você é o
administrador e a integridade do site depende de sua atenção na escolha da
ordem correta das diretivas de acesso).
</p>
</dd>
<dt>allow from</dt>
<dd>
<p>
Especifica o endereço que terá acesso ao recurso especificado.  A diretiva
<em>allow</em> from aceita os seguintes valores:
</p>
<ul>
<li>
<p>
<samp>all</samp> - O acesso é permitido a todos.
</p>
</li>
<li>
<p>
um endereço de domínio completo (FQDN).  Por exemplo
<code>www.debian.org.br</code>.
</p>
</li>
<li>
<p>
um endereço de domínio parcial.  Qualquer computador que confira com o inicio
ou fim terá o acesso permitido.  Por exemplo, <code>.spammers.com.br</code>,
<code>.debian.org</code>.
</p>
</li>
<li>
<p>
um endereço IP completo, como <samp>192.168.1.1</samp>
</p>
</li>
<li>
<p>
um endereço IP parcial como <samp>192.168.1.</samp>
</p>
</li>
<li>
<p>
um par rede/máscara como <samp>10.1.0.0/255.255.0.0</samp> ou
<samp>10.1.0.0/16</samp>, uma faixa de acesso a máquinas de uma mesma rede
pode ser definida facilmente através deste método.
</p>
</li>
</ul>
<p>
<strong>OBS1</strong>: É necessário reiniciar o <code>Apache</code> depois de
qualquer modificação em seu arquivo de configuração (executando
<samp>apachectl restart</samp>), ou recarregar os arquivos de configuração
(<samp>apachectl graceful</samp>).
</p>
<p>
<strong>OBS2</strong>: Mais de um host pode ser especificado separando com um
espaço:
</p>
<pre>
     allow from 192.168. .debian.org.br
</pre>
<p>
Permitirá o acesso de qualquer máquina que o endereço IP confira com
<samp>192.168.*.*</samp> e qualquer computador do domínio
<samp>debian.org.br</samp>
</p>
<p>
<strong>OBS3</strong>: Regras baseadas em nomes simples de hosts (como
<samp>www</samp>) não conferirão!  Deverá ser usado o FQDN ou IP:
<samp>www.dominio.com.br</samp>
</p>
<p>
<strong>OBS4</strong>: Caso Order não seja especificado, <em>deny,allow</em>
será usado como padrão (ou seja, permitirá tudo como padrão).
</p>
</dd>
<dt>deny from</dt>
<dd>
<p>
Especifica os endereços que NÃO terão acesso ao recurso especificado.  As
explicações referentes a esta diretiva de acesso são idêntica as de
<em>allow from</em>.
</p>
</dd>
</dl>

<p>
É recomendável o uso de endereços IP ao invés de endereços DNS e um
mecanismo anti-spoofing no firewall ou código de roteamento, pois ficará mais
difícil um ataque baseado em DNS spoofing, aumentando consideravelmente a
segurança de seu servidor web.
</p>

<p>
<strong>ATENÇÃO</strong>: Caso receba erros 403 (acesso negado) sem bloquear
a URL nas diretivas de acesso, uma dos seguintes problemas pode ser a causa:
</p>
<ul>
<li>
<p>
O servidor Web não tem permissões para acessar/abrir o diretório da página.
Certifique-se que o <em>dono</em> e <em>grupo</em> do processo
<code>Apache</code> (especificado pela diretiva <em>User</em> e <em>Group</em>)
possuem permissões de acesso àquele diretório.
</p>
</li>
</ul>
<ul>
<li>
<p>
Quando quer fazer uma listagem de arquivos do diretório e não especifica a
opção <samp>Option Indexes</samp> como opção de listagem.
</p>
</li>
</ul>
<ul>
<li>
<p>
Quando não está usando <samp>Option Indexes</samp> para impedir a listagem de
conteúdo do diretório e o não foi encontrado um arquivo de índice válido
dentre os existentes na diretiva <samp>DirectoryIndex</samp> no diretório
atual.
</p>
</li>
</ul>

<p>
Abaixo alguns exemplos de permissões de acesso:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options SymLinksIfOwnerMatch Indexes MultiViews
      Order allow,deny
      allow from all
     &lt;/Directory&gt;
</pre>

<p>
Permite o acesso a de qualquer usuário de qualquer lugar (allow from all),
permite também a visualização da listagem formatada de arquivos caso nenhum
arquivo especificado na diretiva <em>DirectoryIndex</em> seja encontrado
(Indexes), permite negociação de conteúdo (<em>MultiViews</em>) e seguir
links caso o dono do arquivo confira com o nome do link
(<em>SymLinksIfOwnerMatch</em>).
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options SymLinksIfOwnerMatch Indexes MultiViews
     &lt;/Directory&gt;
</pre>

<p>
Tem o mesmo significado da diretiva acima por métodos diferentes; quando
nenhuma opção <em>Order</em> é especificada, <em>deny,allow</em> é definido
como padrão, e como nenhuma opção de acesso <em>allow/deny</em> foi
especificada, o padrão &quot;Order deny,allow&quot; é usado e permite TUDO
como padrão.
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes
      Order deny,allow
      deny from all
     &lt;/Directory&gt;
</pre>

<p>
Esta regra acima não tem muita lógica pois restringe o acesso de todos os
usuários ao diretório <code>/var/www</code>, ao menos se esta for sua
intenção...
</p>

<pre>
     &lt;Location /focalinux&gt;
      Options All
      Order allow,deny
      allow from all
     &lt;/Location&gt;
</pre>

<p>
A regra acima permite o acesso a URL
<code>http://www.servidor.org/focalinux</code> de qualquer host na Internet
</p>

<pre>
     &lt;Files .htaccess&gt;
      Order deny,allow
      deny from all
     &lt;/Files&gt;
</pre>

<p>
Bloqueia o acesso a qualquer arquivo <code>.htaccess</code> do sistema
</p>

<pre>
     &lt;Files ~ &quot;leiame-(arm|alpha|m68k|sparc|powerpc)\.txt&quot;&gt;
      Order deny,allow
      deny from all
     &lt;/Files&gt;
</pre>

<p>
Bloqueia o acesso a qualquer arquivo <code>leiame-arm.txt</code>,
<code>leiame-alpha.txt</code>, <code>leiame-m68k.txt</code>,
<code>leiame-sparc.txt</code> e <code>leiame-powerpc.txt</code> fazendo uso de
expressões regulares.
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes
      Order mutual-failure
      allow from .dominio.com.br
      deny from lammer.dominio.com.br
     &lt;/Directory&gt;
</pre>

<p>
A diretiva acima somente permite acesso ao diretório <code>/var/www</code> de
máquinas pertencentes ao domínio <code>.dominio.com.br</code> desde que não
seja <code>lammer.dominio.com.br</code>.
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes MultiViews
      Order allow,deny
      deny from .com .com.br
      allow from all 
     &lt;/Directory&gt;
</pre>

<p>
Bloqueia o acesso ao diretório <code>/var/www</code> de computadores
pertencentes aos domínios <em>.com</em> e <em>.com.br</em>.
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options None
      Order deny,allow
      allow from 192.168.1. .guiafoca.org .debian.org
      deny from 200.200.123.
     &lt;/Directory&gt;
</pre>

<p>
A regra acima permite o acesso de máquinas da rede <samp>192.168.1.*</samp>,
do domínio <samp>*.guiafoca.org</samp> e <samp>*.debian.org</samp>, o acesso
de máquinas da rede <samp>200.200.123.*</samp> é bloqueado (nada contra,
peguei nesse número ao acaso :-).
</p>

<p>
Note que a máquina <samp>192.168.4.10</samp> terá acesso LIVRE a regra acima,
pois não conferirá nem com <em>allow</em> nem com <em>deny</em>, então o
processamento cairá na diretiva padrão de <em>deny,allow</em>, que neste caso
permite o acesso caso nem <em>allow</em> e <em>deny</em> conferiram com o
padrão.
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options None
      Order allow,deny
      allow from 192.168.1. .cipsga.org.br .debian.org
      deny from 200.200.123.
     &lt;/Directory&gt;
</pre>

<p>
A regra acima é idêntica a anterior somente com a mudança da opção
<em>Order</em>.  Bloqueia o acesso de máquinas da rede
<samp>200.200.123.*</samp> e permite o acesso de máquinas da rede
<samp>192.168.1.*</samp>, do domínio <samp>*.cipsga.org.br</samp> e
<samp>*.debian.org</samp>.
</p>

<p>
Note que a máquina <samp>192.168.4.10</samp> terá acesso BLOQUEADO a regra
acima, pois não conferirá nem com <em>allow</em> nem com <em>deny</em>,
então o processamento cairá na diretiva padrão de <em>allow,deny</em> que
neste caso bloqueia o acesso.
</p>

<hr>

<h3 id="s-s-apache-acesso-restr-auth">33.7.2 Autenticação</h3>

<p>
Através da <em>autenticação</em> (controlado pelo módulo
<code>mod_auth</code>) é possível especificar um <em>nome</em> e
<em>senha</em> para acesso ao recurso solicitado.  As senhas são gravadas em
formato criptografado usando <em>Crypto</em> ou <em>MD5</em> (conforme
desejado).  O arquivo de senhas pode ser centralizado ou especificado
individualmente por usuário, diretório ou até mesmo por arquivo acessado.
</p>

<hr>

<h4 id="s-s-apache-acesso-restr-auth-arqsenha">33.7.2.1 Criando um arquivo de Senhas</h4>

<p>
O arquivo de senhas pode ser criado e mantido através do uso de 3
utilitários: <code>htpasswd</code>, <code>htdigest</code> e
<code>dbmmanage</code>:
</p>

<hr>

<h5 id="s-s-apache-acesso-restr-auth-arqsenha-htpasswd">33.7.2.1.1 htpasswd</h5>

<p>
Este é usado para criar o arquivo de senhas.  Para criar um banco de dados com
o nome <code>senhas</code> para o usuário <var>convidado</var>, é usada a
seguinte sintaxe:
</p>

<p>
<samp>htpasswd -c -m senhas convidado</samp>
</p>

<p>
Você será perguntado por uma senha para o usuário <var>convidado</var> e
para redigita-la.  A opção &quot;-c&quot; indica que deverá ser criado um
arquivo, a opção &quot;-m&quot; indica a utilização de senhas
criptografadas usando o algoritmo <em>MD5</em>, que garante maior segurança
que o método <em>Crypto</em>.  A senha pode ser especificada diretamente na
linha de comando através da opção &quot;-b&quot; (isto é um ótimo recurso
para utilização em shell scripts ou programas CGI de integração com o
navegador).
</p>

<p>
<samp>htpasswd -b -d senhas chefe abcdef</samp>
</p>

<p>
No exemplo acima, uma senha de alta segurança será introduzida no banco de
dados <code>senhas</code> tornando impossível o acesso a página do usuário
:-)
</p>

<p>
Note que esta senha foi cadastrada usando o algoritmo de criptografia Crypto
(opção -d).  O algoritmo <em>SHA</em> também pode ser usado como
alternativa, através da opção &quot;-s&quot;.  Para modificar a senha do
usuário convidado, basta usar a mesma sintaxe (sem a opção &quot;-c&quot;
que é usada para criar um novo arquivo):
</p>

<p>
<samp>htpasswd -m senhas convidado</samp>
</p>

<p>
ou
</p>

<p>
<samp>htpasswd -b -m senhas convidado nova_senha</samp>
</p>

<p>
Opcionalmente você pode especificar a opção &quot;-d&quot; para atualizar
também o formato da senha para <em>Crypto</em>.  Podem existir senhas de
criptografias mistas (<em>SHA, Crypto, MD5</em>) no mesmo arquivo sem nenhum
problema.
</p>

<p>
A mudança do formato de senhas é útil quando se deseja aumentar o nível de
segurança oferecido por um melhor sistema ou para manter a compatibilidade com
alguns scripts/programas que compartilhem o arquivo de senhas.
</p>

<hr>

<h5 id="s-s-apache-acesso-restr-auth-arqsenha-htdigest">33.7.2.1.2 htdigest e dbmmanage</h5>

<p>
Estes são idênticos ao <code>htpasswd</code>, a diferença é que o
<code>htdigest</code> permite criar/manter um arquivo de senhas usando a
autenticação Digest, enquanto o <code>dbmmanage</code> permite manter o banco
de dados de senhas em um arquivo <code>DB, DBM, GDBM</code> e
<code>NDBM</code>, formatos conhecidos pelo Perl.
</p>

<hr>

<h4 id="s-s-apache-acesso-restr-auth-usuarios">33.7.2.2 Autenticação através de usuários</h4>

<p>
Através deste método é possível especificar que usuários terão acesso ao
recurso definido, usando senhas de acesso individuais criptografadas usando um
dos utilitários da seção anterior.  Para restringir o acesso ao endereço
<code>http://servidor.org/teste</code>:
</p>

<pre>
     &lt;Location /teste&gt;
      AuthName &quot;Acesso a página do Foca Linux&quot;
      AuthType basic
      AuthUserFile /home/gleydson/SenhaUsuario
     # AuthGroupFile /home/users/SenhaGrupo
      Require valid-user
     &lt;/Location&gt;
</pre>

<p>
Ao tentar acessar o endereço <code>http://servidor/teste</code>, será aberta
uma janela no navegador com o título <em>Enter username for Acesso a página
do Foca Linux at servidor.org</em>, a diretiva <em>Require valid-user</em>
definem que o usuário e senha digitados devem existir no arquivo especificado
por <em>AuthUserFile</em> para que o acesso seja garantido.  Uma explicação
de cada opção de acesso usado na autenticação:
</p>
<dl>
<dt>AuthName</dt>
<dd>
<p>
Será o nome que aparecerá na janela de autenticação do seu navegador
indicando qual área restrita está solicitando senha (podem existir várias no
servidor, bastando especificar várias diretivas de restrições).
</p>
</dd>
<dt>AuthType</dt>
<dd>
<p>
Especifica o método de que o nome e senha serão passados ao servidor.  Este
método de autenticação pode ser <em>Basic</em> ou <em>Digest</em>
</p>
<ul>
<li>
<p>
<samp>Basic</samp> - Utiliza a codificação <em>base64</em> para
encodificação de nome e senha, enviando o resultado ao servidor.  Este é um
método muito usado e pouco seguro, pois qualquer sniffer instalado em um
roteador pode capturar e descobrir facilmente seu nome e senha.
</p>
</li>
<li>
<p>
<samp>Digest</samp> - Transmite os dados de uma maneira que não pode ser
facilmente decodificada, incluindo a codificação da área protegida
(especificada pela diretiva <em>AuthName</em>) que possui a seqüencia de
login/senha válida.  A diferença deste método é que você precisará de
arquivos de senhas diferentes para cada área protegida especificada por
<em>AuthName</em> (também chamada de Realm).
</p>
</li>
</ul>
</dd>
<dt>AuthUserFile</dt>
<dd>
<p>
É o arquivo gerado pelo utilitário <code>htpasswd</code> que contém a senha
correspondente ao usuário
</p>
</dd>
<dt>AuthGroupFile</dt>
<dd>
<p>
É um arquivo texto que contém o nome do grupo, dois pontos (&quot;:&quot;) e
o nome dos usuários que podem ter acesso ao recurso, separados por vírgulas.
No exemplo acima ele se encontra comentado, mas a seguir encontrará exemplos
que explicam em detalhes o funcionamento desta diretiva.
</p>
</dd>
<dt>Require</dt>
<dd>
<p>
Especifica que usuários podem ter acesso ao diretório.  Podem ser usadas uma
das 3 sintaxes:
</p>
<ul>
<li>
<p>
<samp>Require user usuário1 usuário2 usuário3</samp> - Somente os usuários
especificados são considerados válidos para ter acesso ao diretório.
</p>
</li>
<li>
<p>
<samp>Require group grupo1 grupo2 grupo3</samp> - Somente os usuários dos
grupos especificados são considerados válidos para terem acesso ao
diretório.  Esta diretiva é útil quando deseja que somente alguns usuários
de determinado grupo tenham acesso ao recurso (por exemplo, usuários do grupo
admins).
</p>
</li>
<li>
<p>
<samp>Require valid-user</samp> - Qualquer usuário válido no banco de dados
de senhas pode acessar o diretório.  É bem útil quando as opções de acesso
especificadas por Require user são muito longas.
</p>
<p>
A opção Require deve ser acompanhado das diretivas <em>AuthName</em>,
<em>AuthType</em> e as diretivas <em>AuthUserFile</em> e <em>AuthGroupFile</em>
para funcionar adequadamente.
</p>
</li>
</ul>
</dd>
</dl>

<p>
<strong>OBS</strong>: É necessário reiniciar o <code>Apache</code> depois de
qualquer modificação em seu arquivo de configuração (<samp>apachectl
restart</samp>), ou recarregar os arquivos de configuração (<samp>apachectl
graceful</samp>).  Note que o <code>apachectl</code> é somente um shell script
para interação mais amigável com o servidor web <code>apache</code>,
retornando mensagens indicando o sucesso/falha no comando ao invés de códigos
de saída.
</p>

<p>
Alguns exemplos para melhor assimilação:
</p>

<pre>
     &lt;Location /teste&gt;
      AuthName &quot;Acesso a página do Foca Linux&quot;
      AuthType basic
      AuthUserFile /home/gleydson/SenhaUsuario
      Require user gleydson
     &lt;/Location&gt;
</pre>

<p>
As explicações são idênticas a anterior, mas somente permite o acesso do
usuário <samp>gleydson</samp> a URL <code>http://servidor.org/teste</code>,
bloqueando o acesso de outros usuários contidos no arquivo
<em>AuthUserFile</em>.
</p>

<pre>
     &lt;Location /teste&gt;
      AuthName &quot;Acesso a página do Foca Linux&quot;
      AuthType basic
      AuthUserFile /home/gleydson/SenhaUsuario
      Require user gleydson usuario1 usuario2
     &lt;/Location&gt;
</pre>

<pre>
     &lt;Location /teste&gt;
      AuthName &quot;Acesso a página do Foca Linux&quot;
      AuthType basic
      AuthUserFile /home/gleydson/SenhaUsuario
      Require user gleydson
      Require user usuario1
      Require user usuario2
     &lt;/Location&gt;
</pre>

<p>
As 2 especificações acima são equivalentes e permite o acesso aos usuários
<samp>gleydson</samp>, <samp>usuario1</samp> e <samp>usuario2</samp> a página
<code>http://servidor.org/teste</code>.
</p>

<hr>

<h4 id="s-s-apache-acesso-restr-auth-grupos">33.7.2.3 Autenticação usando grupos</h4>

<p>
Há casos onde existem usuários de um arquivo de senhas que devem ter acesso a
um diretório e outros não, neste caso a diretiva <em>valid-user</em> não
pode ser especificada (porque permitiria o acesso de todos os usuários do
arquivo de senha ao diretório) e uma grande lista de usuários ficaria
bastante complicada de ser gerenciada com vários usuários na diretiva
<em>Require user</em>.
</p>

<p>
Quando existe esta situação, é recomendado o uso de grupos de usuários.
Para fazer uso desse recurso, primeiro deverá ser criado um arquivo quer
armazenará o nome do <em>grupo</em> e dos usuários pertencente àquele grupo
usando a seguinte sintaxe (vamos chamar este arquivo de
<code>SenhaGrupo</code>):
</p>

<pre>
     admins: gleydson usuario2
     usuarios: usuario1 usuario2 usuario3 gleydson
</pre>

<p>
Agora adaptamos o exemplo anterior para que somente os usuários especificados
no grupo admins do arquivo criado acima:
</p>

<pre>
     &lt;Location /teste&gt;
      AuthName &quot;Acesso a página do Foca Linux&quot;
      AuthType basic
      AuthUserFile /home/gleydson/SenhaUsuario
      AuthGroupFile /home/gleydson/SenhaGrupo
      Require group admins
     &lt;/Location&gt;
</pre>

<p>
Agora somente os usuários pertencentes ao grupo <em>admins</em>
(<em>gleydson</em> e <em>usuario2</em>) poderão ter acesso ao diretório
<code>/teste</code>.
</p>

<p>
<strong>OBS1</strong>: Verifique se o servidor Web possui acesso a leitura no
arquivo de senhas de usuários e grupos, caso contrário será retornado um
código &quot;500 - Internal Server Error&quot;.  Este tipo de erro é
caracterizado por tudo estar OK na sintaxe dos arquivos de configuração após
checagem com &quot;apache -t&quot; e todas as diretivas de controle de acesso
apontam para os diretórios e arquivos corretos.
</p>

<p>
<strong>OBS2:</strong>: Sempre use espaços para separar os nomes de usuários
pertencentes a um grupo.
</p>

<p>
<strong>OBS3</strong>: NUNCA coloque os arquivos que contém senhas e grupos em
diretórios de acesso público onde usuários podem ter acesso via o servidor
Web.  Tais localizações são <code>/var/www</code>,
<code>/home/&quot;usuario&quot;/public_html</code> e qualquer outro diretório
de acesso público que defina em seu sistema.
</p>

<p>
É recomendável também ocultar estes arquivos através da diretiva
&lt;Files&gt; evitando possíveis riscos de segurança com usuários acessando
os arquivos de senha e grupo.
</p>

<p>
Na distribuição <code>Debian</code>, qualquer arquivo iniciando com
<code>.ht*</code> será automaticamente ocultado pelo sistema, pois já existe
uma diretiva &lt;Files ~ &quot;\.ht&quot;&gt;.  Tal diretiva pode também ser
especificada no arquivo de acesso <code>.htaccess</code>.  Assim um arquivo
<code>.htsenha</code> e <code>.htgroup</code> são bons nomes se estiver
desejando ocultar dados de olhos curiosos...
</p>

<hr>

<h3 id="s-s-apache-acesso-restr-autor+auth">33.7.3 Usando autorização e autenticação juntos</h3>

<p>
Os métodos de <em>autorização</em> e <em>autenticação</em> podem ser
usados ao mesmo tempo dentro de qualquer uma das diretivas de controle de
acesso.  As diretivas de <em>autorização</em> são processadas primeiro
(mod_access) e depois as diretivas de <em>autenticação</em> (mod_auth).
Segue um exemplo:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes
      Order deny,allow
      allow from .dominiolocal.com.br
      deny from all
      AuthName &quot;Acesso ao diretório do servidor Web&quot;
      AuthType basic
      AuthUserFile /var/cache/apache/senhas
      Require valid-user
     &lt;/Directory&gt;
</pre>

<p>
Para ter acesso ao diretório <code>/var/www</code>, primeiro o computador deve
fazer parte do domínio <code>.dominiolocal.com.br</code>, assim ela passa pelo
teste de autorização, depois disso será necessário fornecer o login e senha
para acesso a página, digitando o login e senha corretos, o teste de
autenticação será completado com sucesso e o acesso ao diretório
<code>/var/www</code> autorizado.
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes
      Order mutual-failure
      allow from .dominiolocal.com.br
      deny from lammer.dominiolocal.com.br
      AuthName &quot;Acesso ao diretório do servidor Web&quot;
      AuthType basic
      AuthUserFile /var/cache/apache/senhas
      AuthGroupFile /var/cache/apache/grupos
      Require group admins
     &lt;/Directory&gt;
</pre>

<p>
No exemplo acima, é usado o método de autorização com a opção <em>Order
mutual-failure</em> e o método de autenticação através de <em>grupos</em>.
Primeiro é verificado se o usuário pertence ao domínio
<code>.dominiolocal.com.br</code> e se ele não está acessando da máquina
<code>lammer.dominiolocal.com.br</code>, neste caso ele passa pelo teste de
autorização.  Depois disso ele precisará fornecer o nome e senha válidos,
com o login pertencente ao <em>AuthGroupFile</em>, passando pelo processo de
autenticação e obtendo acesso ao diretório <code>/var/www</code>.
</p>

<hr>

<h4 id="s-s-apache-acesso-restr-autor+auth-diferenciado">33.7.3.1 Acesso diferenciado em uma mesma diretiva</h4>

<p>
É interessante permitir usuários fazendo conexões de locais confiáveis
terem acesso direto sem precisar fornecer nome e senha e de locais inseguros
acessarem somente após comprovarem <strong>quem</strong> realmente são.  Como
é o caso de permitir usuários de uma rede privada terem acesso completo aos
recursos e permitir o acesso externo ao mesmo recurso somente através de
senha.  Isto pode ser feito com o uso da diretiva <em>Satisfy</em> junto ao
bloco de <em>autorização/autenticação</em>.  Vamos tomar como base o
exemplo anterior:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes
      Order mutual-failure
      allow from .dominiolocal.com.br
      deny from lammer.dominiolocal.com.br
      AuthName &quot;Acesso ao diretório do servidor Web&quot;
      AuthType basic
      AuthUserFile /var/cache/apache/senhas
      AuthGroupFile /var/cache/apache/grupos
      Require group admins
      Satisfy any
     &lt;/Directory&gt;
</pre>

<p>
Note que o exemplo é o mesmo com a adição da diretiva <em>Satisfy any</em>
no final do bloco do arquivo.  Quando a opção <em>Satisfy</em> não é
especificada, ela assumirá &quot;all&quot; como padrão, ou seja, o usuário
deverá passar no teste de autorização e autenticação para ter acesso.
</p>

<p>
A diferença do exemplo acima em relação ao da seção anterior é se a
máquina passar no teste de autorização ela já terá acesso garantido.  Caso
falhe no teste de autorização, ainda terá a chance de ter acesso a página
passando na checagem de autenticação.
</p>

<p>
Isto garante acesso livre aos usuários do domínio
<code>.dominiolocal.com.br</code>.  Já os outros usuários, incluindo acessos
vindos de <code>lammer.dominiolocal.com.br</code> que pode ser uma máquina com
muito uso, poderá ter acesso ao recurso caso tenha fornecido um nome e senha
válidos para passar pelo processo de autenticação.  Tenha isto em mente...
este tipo de problema é comum e depende mais de uma política de segurança e
conduta interna, o sistema de segurança não pode fazer nada a não ser
permitir acesso a um nome e senha válidos.
</p>

<p>
Tenha cuidado com o uso da opção <em>Satisfy</em> em diretivas que
especificam somente o método de autenticação:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Options Indexes
      AuthName &quot;Acesso ao diretório do servidor Web&quot;
      AuthType basic
      AuthUserFile /var/cache/apache/senhas
      AuthGroupFile /var/cache/apache/grupos
      Require group admins
      Satisfy any
     &lt;/Directory&gt;
</pre>

<p>
ATENÇÃO PARA O DESCUIDO ACIMA!: Como o método de autorização NÃO é
especificado, é assumido <em>deny,allow</em> como padrão, que permite o
acesso a TODOS os usuários.  O bloco acima <strong>NUNCA</strong> executará o
método de autenticação por este motivo.  A melhor coisa é NÃO usar a
opção <em>Satisfy</em> em casos que só requerem autenticação ou usar
<em>Satisfy all</em> (que terá o mesmo efeito de não usa-la, hehehe).
</p>

<p>
A falta de atenção nisto pode comprometer silenciosamente a segurança de seu
sistema.
</p>

<hr>

<h3 id="s-s-apache-acesso-restr-htaccess">33.7.4 O arquivo <code>.htaccess</code></h3>

<p>
O arquivo <code>.htaccess</code> deve ser colocado no diretório da página que
deverá ter suas permissões de acesso/listagem controladas.  A vantagem em
relação a inclusão direta de diretivas de acesso dentro do arquivo de
configuração do <code>Apache</code>, é que o controle de acesso poderá ser
definido pelo próprio webmaster da página, sem precisar ter acesso direto a
configuração do <code>Apache</code>, que requerem privilégios de root.
</p>

<p>
Outro ponto fundamental é que não há necessidade de reiniciar o servidor
Web, pois este arquivo é lido no momento de cada acesso ao diretório que
controla.  O nome do arquivo OverRide pode ser definido através da diretiva
<em>AccessFileName</em> no arquivo de configuração do <code>Apache</code>,
<code>.htaccess</code> é usado como padrão.
</p>

<p>
O controle de que opções estarão disponíveis no <code>.htaccess</code> são
definidas na diretiva <em>AllowOverride</em> que pode conter o seguintes
parâmetros:
</p>
<ul>
<li>
<p>
<samp>None</samp> - O servidor não buscará o arquivo <samp>.htaccess</samp>
nos diretórios
</p>
</li>
<li>
<p>
<samp>All</samp> - O servidor utilizará todas as opções abaixo no arquivo
<code>.htaccess</code>
</p>
</li>
<li>
<p>
<samp>AuthConfig</samp> - Permite o uso de diretivas de autenticação
(<em>AuthDBMGroupFile</em>, <em>AuthDBMUserFile</em>, <em>AuthGroupFile</em>,
<em>AuthName</em>, <em>AuthType</em>, <em>AuthUserFile</em>, <em>Require</em>,
etc.).
</p>
</li>
<li>
<p>
<samp>FileInfo</samp> - Permite o uso de diretivas controlando o tipo de
documento (<em>AddEncoding</em>, <em>AddLanguage</em>, <em>AddType</em>,
<em>DefaultType</em>, <em>ErrorDocument</em>, <em>LanguagePriority</em>, etc.).
</p>
</li>
<li>
<p>
<samp>Indexes</samp> - Permite o uso de diretivas controlando a indexação de
diretório (<em>AddDescription</em>, <em>AddIcon</em>,
<em>AddIconByEncoding</em>, <em>AddIconByType</em>, <em>DefaultIcon</em>,
<em>DirectoryIndex</em>, <em>FancyIndexing</em>, <em>HeaderName</em>,
<em>IndexIgnore</em>, <em>IndexOptions</em>, <em>ReadmeName</em>, etc.).
</p>
</li>
<li>
<p>
<samp>Limit</samp> - Permite o uso de diretivas controlando o acesso ao
computador (<em>allow</em>, <em>deny</em> e <em>order</em>).
</p>
</li>
<li>
<p>
<samp>Options</samp> - Permite o uso de diretivas controlando características
específicas do diretório (<em>Options</em> e <em>XBitHack</em>).
</p>
</li>
</ul>

<p>
<strong>OBS</strong>: Não tem sentido usar a opção <em>AllowOverride</em>
dentro da diretiva &lt;Location&gt;, ela será simplesmente ignorada.
</p>

<p>
Para acesso ao arquivo <code>.htaccess</code> do diretório
<code>/var/www/focalinux</code>, o <code>Apache</code> buscará os arquivos
<code>.htaccess</code> na seqüencia: <code>/.htaccess</code>,
<code>/var/.htaccess</code>, <code>/var/www/.htaccess</code>,
<code>/var/www/focalinux/.htaccess</code>, qualquer diretiva que não exista no
<code>.htaccess</code> do diretório <code>/var/www/focalinux</code> terá seu
valor definido pela diretiva dos arquivos <code>.htaccess</code> dos
diretórios anteriores.  Somente após esta seqüencia de checagens o acesso ao
documento é permitido (ou negado).
</p>

<p>
Por este motivo, muitos administradores decidem desativar completamente o uso
de arquivos <code>.htaccess</code> no diretório raíz e habilitar somente nos
diretórios especificados pela diretiva &lt;Directory&gt; no arquivo de
configuração do <code>Apache</code>, evitando brechas de segurança na
manipulação destes arquivos (esta é uma boa idéia a não ser que se dedique
24 horas somente na administração do seu servidor Web e conheça toda sua
estrutura hierárquica de segurança:
</p>

<pre>
     &lt;Directory /&gt;
      AllowOverride none
     &lt;/Directory&gt;
     
     &lt;Directory /var/www&gt;
      AllowOverride limit authconfig indexes
     &lt;/Directory&gt;
</pre>

<p>
Na especificação acima, o arquivo <code>.htaccess</code> será procurado no
diretório <code>/var/www</code> e seus sub-diretórios, usando somente
opções que controlam a autorização de acesso (<em>limit</em>),
autenticação e opções (<em>authconfig</em>) e de indexação de documentos
(<em>indexes</em>).
</p>

<p>
Alguns exemplos do uso do arquivo <code>.htaccess</code>:
</p>

<p>
Para permitir o acesso direto de usuários da rede <samp>192.168.1.*</samp>
diretamente, e requerer senha de acesso para outros usuários, o seguinte
arquivo <code>.htaccess</code> deve ser criado no diretório
<code>/var/www</code>:
</p>

<pre>
     Order deny,allow
     allow from 192.168.1.0/24
     deny from all
     AuthName &quot;Acesso a página Web principal da Empresa&quot;
     AuthType basic
     AuthUserFile /var/cache/apache/senhas
     Require valid-user
     Satisfy any
</pre>

<p>
Note que a sintaxe é exatamente a mesma das usadas na diretivas de acesso, por
este motivo vou dispensar explicações detalhadas a respeito.
</p>

<p>
<strong>ATENÇÃO</strong>: A diretiva <em>Options Indexes</em> deverá ser
especificada no <em>AllowOverRide</em> e não no arquivo
<code>.htaccess</code>.  Agora você já sabe o que fazer se estiver recebendo
erros 500 ao tentar acessar a página (Erro interno no servidor)...
</p>

<hr>

<h3 id="s-s-apache-acesso-setenvif">33.7.5 Usando a diretiva SetEnvIf com Allow e Deny</h3>

<p>
É possível especificar o acesso baseado em variáveis de ambiente usando a
diretiva <em>SetEnvIf</em>, isto lhe permite controlar o acesso de acordo com o
conteúdo de cabeçalhos HTTP.  A sintaxe é a seguinte:
</p>

<p>
<samp>SetEnvIf [<em>atributo</em>] [<em>expressão</em>]
[<em>variável</em>]</samp>
</p>

<p>
Isto poder ser facilmente interpretado como: Se o &quot;atributo&quot;
especificado conter a &quot;expressão&quot;, a &quot;variável&quot; será
criada e armazenará o valor verdadeiro.  Veja abaixo:
</p>

<pre>
     SetEnvIf User-Agent &quot;.*MSIE*.&quot; EXPLODER
     &lt;Directory /var/www&gt;
      Order deny,allow
      allow from all
      deny from env=EXPLODER
     &lt;/Directory&gt;
</pre>

<p>
Se o Navegador (campo <em>User-Agent</em> do cabeçalho http) usado para
acessar a página for o <samp>Internet Explorer</samp>, a variável
<var>EXPLODER</var> será criada e terá o valor verdadeiro (porque a
expressão de <em>SetEnvIf</em> conferiu com a expressão).
</p>

<p>
Note o uso de &quot;deny from env=VARIÁVEL&quot;.  Neste caso se o navegador
for o <samp>Internet Explorer</samp>, o acesso será bloqueado (pois o
navegador conferiu, assim a variável <var>EXPLODER</var> recebeu o valor
verdadeiro).
</p>

<p>
É permitido especificar as diretivas de acesso normais junto com
especificação de variáveis de ambiente, basta separa-los com espaços.  Uma
descrição completa dos cabeçalhos HTTP, conteúdo e parâmetros aceitos por
cada um são descritos na <samp>RFC 2068</samp>.
</p>

<hr>

<h3 id="s-s-apache-acesso-limit">33.7.6 A diretiva &lt;Limit&gt;</h3>

<p>
Esta diretiva é semelhante a &lt;Directory&gt; mas trabalha com métodos HTTP
(como GET, PUT, POST, etc) ao invés de diretórios.  A diretiva &lt;Limit&gt;
pode ser usada dentro da diretiva de acesso &lt;Directory&gt;,
&lt;Location&gt;, mas nenhuma diretiva de controle de acesso pode ser colocada
dentro de &lt;Limit&gt;.
</p>

<p>
Os métodos HTTP válidos são: GET, POST, PUT DELETE, CONNECT, OPTIONS, TRACE,
PATCH, PROPFIND, PROPPATCH, MKCOL, COPY, MOVE, LOCK e UNLOCK.  Note que os
métodos são case-sensitive.  Por exemplo:
</p>

<pre>
     &lt;Directory /var/www&gt;
      Option Indexes
       &lt;Limit POST PUT DELETE&gt;
          Order deny,allow
          allow from 192.168.1.0/24
          deny from all
        &lt;/Limit&gt;
     &lt;/Directory&gt;
</pre>

<p>
Somente permitem o uso dos métodos POST, PUT, DELETE de máquinas da rede
interna.
</p>

<p>
<strong>OBS1</strong>: Se o método GET é bloqueado, o cabeçalho HTTP também
será bloqueado.
</p>

<p>
<strong>OBS2</strong>: A diretiva de acesso &lt;Limit&gt; somente terá efeito
na diretiva &lt;Location&gt; se for especificada no arquivo de configuração
do servidor web.  A diretiva &lt;Location&gt; simplesmente é ignorada nos
arquivos <code>.htaccess</code>...
</p>

<p>
Este abaixo é usado por padrão na distribuição <code>Debian</code> para
restringir para somente leitura o acesso aos diretórios de usuários acessados
via módulo <code>mod_userdir</code>:
</p>

<pre>
     &lt;Directory /home/*/public_html&gt;
         AllowOverride FileInfo AuthConfig Limit
         Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
         &lt;Limit GET POST OPTIONS PROPFIND&gt;
             Order allow,deny
             Allow from all
         &lt;/Limit&gt;
         &lt;Limit PUT DELETE PATCH PROPPATCH MKCOL COPY MOVE LOCK UNLOCK&gt;
             Order deny,allow
             Deny from all
         &lt;/Limit&gt;
     &lt;/Directory&gt;
</pre>

<hr>

<h3 id="s-s-apache-acesso-limitexcept">33.7.7 Diretiva &lt;LimitExcept&gt;</h3>

<p>
Esta diretiva é semelhante a &lt;Limit&gt;, mas atinge todos os métodos HTTP,
menos os especificados.
</p>

<hr>

<h2 id="s-s-apache-errordocument">33.8 Definindo documentos de erro personalizados</h2>

<p>
Documentos de erros personalizados são definidos através da diretiva
<em>ErrorDocument</em>.  É possível especificar códigos de erros que serão
atendidos por certos documentos ou colocar esta diretiva dentro de blocos de
controle de acesso &lt;Directory&gt;, &lt;Location&gt; ou &lt;VirtualHost&gt;
para que tenham mensagens de erro personalizadas, ao invés da padrão usada
pelo servidor <code>httpd</code>.
</p>

<p>
<samp>ErrorDocument [<em>código de erro</em>] [<em>documento</em>]</samp>
</p>

<p>
Onde:
</p>
<dl>
<dt><em>código de erro</em></dt>
<dd>
<p>
Código de erro da mensagem (veja <a href="#s-s-apache-httpcodes">Códigos
HTTP, Seção 33.15</a> como referência).  O código de erro <em>401</em> deve
referir-se a um arquivo local.
</p>
</dd>
<dt><em>documento</em></dt>
<dd>
<p>
Documento, mensagem de erro ou redirecionamento que será usado no servidor
caso aquele código de erro seja encontrado:
</p>
</dd>
</dl>

<p>
Para definir uma mensagem de erro padrão para todo servidor web, basta colocar
a diretiva <em>ErrorDocument</em> fora das diretivas que controlam o acesso a
diretórios e virtual hosts (o inicio do arquivo <code>httpd.conf</code> é
ideal).
</p>

<p>
Exemplos:
</p>
<ul>
<li>
<p>
<samp>ErrorDocument 404 /cgi-bin/erros404.pl</samp> - Direciona para um script
em Perl que manda um e-mail ao administrador falando sobre o link quebrado e
envia o usuário a uma página de erro padrão.
</p>
</li>
<li>
<p>
<samp>ErrorDocument 404 /naoencontrada.html</samp> - Direciona o usuário para
o arquivo <code>naoencontrada.html</code> (dentro de <em>DocumentRoot</em>)
quando ocorrer o erro 404.  Note que o diretório <code>/</code> levado em
consideração é o especificado pela diretiva <em>DocumentRoot</em>.
</p>
</li>
<li>
<p>
<samp>ErrorDocument 500 &quot;Erro Interno no servidor&quot;</samp> - Mostra a
mensagem na tela quando ocorrer o erro 500.
</p>
</li>
<li>
<p>
<samp>ErrorDocument 401 /obtendoacesso.html</samp> - Direciona o usuário ao
arquivo explicando como obter acesso ao sistema.
</p>
</li>
<li>
<p>
<samp>ErrorDocument 503 http://www.guiafoca.org/servicos.html</samp> -
Redireciona o usuário a URL especificada.
</p>
</li>
<li>
<p>
<samp>ErrorDocument 403 &quot;Acesso negado&quot;</samp> - Mostra a mensagem na
tela no caso de erros 403.
</p>
</li>
</ul>

<hr>

<h2 id="s-s-apache-dso">33.9 Módulos DSO</h2>

<p>
Os módulos <em>DSO</em> permitem adicionar/remover características do
<code>Apache</code> sem necessidade de recompilar todo o servidor web, assim
interrompendo o serviço para a atualização dos arquivos.  Módulos de
programas terceiros também podem ser compilados e adicionado sem problemas
através deste recurso.
</p>

<p>
Os módulos são carregados para a memória no momento que o
<code>apache</code> é iniciado através da diretiva <em>LoadModule</em> no
arquivo de configuração.  Dessa forma, toda vez que um novo módulo for
adicionado, removido ou alterado, será necessário reiniciar o servidor
<code>apache</code>.  A sintaxe da linha para carregar módulos
<code>.so</code> é a seguinte:
</p>

<p>
<samp>LoadModule [<em>nome_do_modulo</em>]
[<em>caminho_do_arquivo_so</em>]</samp>
</p>

<dl>
<dt><em>nome_do_modulo</em></dt>
<dd>
<p>
Especifica o nome do módulo, não deve conter espaços.
</p>
</dd>
<dt><em>caminho_do_arquivo_so</em></dt>
<dd>
<p>
Define a localização do arquivo que contém o módulo especificado.  Por
padrão os módulos estão localizados em
<code>/usr/lib/apache/[versão]</code>
</p>
</dd>
</dl>

<p>
A posição em que os módulos aparecem podem ter influência em seu
funcionamento, alguns requerem que sejam especificados antes de outros módulos
para funcionarem corretamente (como o módulo <em>php3_module</em>, que deve
ser carregado antes de qualquer módulo de controle de CGI's).  Leia a
documentação específica sobe o módulo em caso de dúvidas, os módulos que
acompanham o <code>Apache</code> são documentados em detalhes no manual do
<code>Apache</code>.
</p>

<p>
Para usar uma característica/diretiva/opção do <code>Apache</code> que
dependa de um certo módulo, obviamente você deverá carregar o módulo
correspondente (em caso de dúvidas, leia a documentação sobre o módulo).
Veja a <a href="#s-s-apache-exemplo-httpd">httpd.conf, Seção 33.14.1</a> para
exemplos do uso da diretiva <em>LoadModule</em>.
</p>

<p>
Por exemplo, se você quiser utilizar as diretivas de autorização (<em>allow,
deny, order</em>) deverá ter o módulo <em>mod_access</em> carregado, para
usar as diretivas de autorização (<em>authname, authuserfile, authtype,
etc</em>) deverá ter o módulo <em>mod_auth</em> carregado.  Mais detalhes
podem ser encontrados em <a
href="#s-s-apache-acesso-restr-autor">Autorização, Seção 33.7.1</a>.
<strong>OBS1</strong>: O suporte a <em>DSO</em> atualmente só está
disponível para plataforma <code>UNIX</code> e seus derivados, como o
<code>Linux</code>.
</p>

<p>
Também é possível ativar certas diretivas verificando se o módulo
correspondente estiver ou não carregado através da diretiva
<em>IfModule</em>:
</p>

<pre>
     &lt;IfModule mod_userdir.c&gt;
      UserDir disabled root
      UserDir public_html
     &lt;/IfModule&gt;
</pre>

<p>
Nas linhas acima, as diretivas <em>UserDir</em> somente serão executadas se o
módulo <em>mod_userdir.c</em> estiver carregado através da diretiva
<em>LoadModule</em>.
</p>

<p>
Segue abaixo uma lista de módulos padrões que acompanham do
<code>Apache</code>, os módulos marcados com &quot;*&quot; são ativados por
padrão:
</p>
<dl>
<dt>Criação de Ambiente</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_env</samp> - Ajusta variáveis de ambiente para scripts CGI/SSI
</p>
</li>
<li>
<p>
<samp>* mod_setenvif</samp> - Ajusta variáveis de ambiente de acordo com
cabeçalhos http
</p>
</li>
<li>
<p>
<samp>mod_unique_id</samp> - Gera identificadores únicos para requisições
</p>
</li>
</ul>
</dd>
<dt>Decisão de tipo de conteúdo de arquivos</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_mime</samp> - Determinação de tipo/encodificação do conteúdo
(configurado)
</p>
</li>
<li>
<p>
<samp>mod_mime_magic</samp> - Determinação de tipo/encodificação do
conteúdo (automático)
</p>
</li>
<li>
<p>
<samp>* mod_negotiation</samp> - Seleção de conteúdo baseado nos cabeçalhos
&quot;HTTP Accept*&quot;
</p>
</li>
</ul>
</dd>
<dt>Mapeamento de URL</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_alias</samp> - Tradução e redirecionamento de URL simples
</p>
</li>
<li>
<p>
<samp>mod_rewrite</samp> - Tradução e redirecionamento de URL avançado
</p>
</li>
<li>
<p>
<samp>* mod_userdir</samp> - Seleção de diretórios de recursos por nome de
usuário
</p>
</li>
<li>
<p>
<samp>mod_speling</samp> - Correção de URLs digitadas incorretamente
</p>
</li>
<li>
<p>
<samp>mod_vhost_alias</samp> - Suporte para virtual hosts dinamicamente
configurados em massa.
</p>
</li>
</ul>
</dd>
<dt>Manipulação de Diretórios</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_dir</samp> - Manipulação de Diretório e arquivo padrão de
diretório
</p>
</li>
<li>
<p>
<samp>* mod_autoindex</samp> - Geração de índice automático de diretório
</p>
</li>
</ul>
</dd>
<dt>Controle de Acesso</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_access</samp> - Controle de acesso por autorização (usuário,
endereço, rede)
</p>
</li>
<li>
<p>
<samp>* mod_auth</samp> - Autenticação HTTP básica (usuário, senha)
</p>
</li>
<li>
<p>
<samp>mod_auth_dbm</samp> - Autenticação HTTP básica (através de arquivos
NDBM do Unix)
</p>
</li>
<li>
<p>
<samp>mod_auth_db</samp> - Autenticação HTTP básica (através de arquivos
Berkeley-DB)
</p>
</li>
<li>
<p>
<samp>mod_auth_anon</samp> - Autenticação HTTP básica para usuários no
estilo anônimo
</p>
</li>
<li>
<p>
<samp>mod_auth_digest</samp> - Autenticação MD5
</p>
</li>
<li>
<p>
<samp>mod_digest</samp> - Autenticação HTTP Digest
</p>
</li>
</ul>
</dd>
<dt>Respostas HTTP</dt>
<dd>
<ul>
<li>
<p>
<samp>mod_headers</samp> - Cabeçalhos de respostas HTTP (configurado)
</p>
</li>
<li>
<p>
<samp>mod_cern_meta</samp> - Cabeçalhos de respostas HTTP (arquivos no estilo
CERN)
</p>
</li>
<li>
<p>
<samp>mod_expires</samp> - Respostas de expiração HTTP
</p>
</li>
<li>
<p>
<samp>* mod_asis</samp> - Respostas HTTP em formato simples (raw)
</p>
</li>
</ul>
</dd>
<dt>Scripts</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_include</samp> - Suporte a Includes no lado do servidor (SSI -
Server Sides Includes)
</p>
</li>
<li>
<p>
<samp>* mod_cgi</samp> - Suporte a CGI (Common Gateway Interface)
</p>
</li>
<li>
<p>
<samp>* mod_actions</samp> - Mapeia scripts CGI para funcionarem como
'handlers' internos.
</p>
</li>
</ul>
</dd>
<dt>Manipuladores de conteúdo Interno</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_status</samp> - Visualiza status do servidor em tempo de
execução.
</p>
</li>
<li>
<p>
<samp>mod_info</samp> - Visualiza sumário de configuração do servidor.
</p>
</li>
</ul>
</dd>
<dt>Registros de Requisições</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_log_config</samp> - Registro de requisições personalizáveis
</p>
</li>
<li>
<p>
<samp>mod_log_agent</samp> - Registro especializado do User-Agent HTTP
(depreciado)
</p>
</li>
<li>
<p>
<samp>mod_log_refer</samp> - Registro especializado do Referrer HTTP
(depreciado)
</p>
</li>
<li>
<p>
<samp>mod_usertrack</samp> - Registro de cliques de usuários através de
Cookies HTTP
</p>
</li>
</ul>
</dd>
<dt>Outros</dt>
<dd>
<ul>
<li>
<p>
<samp>* mod_imap</samp> - Suporte a Mapeamento de Imagem no lado do servidor.
</p>
</li>
<li>
<p>
<samp>mod_proxy</samp> - Módulo de Cache do Proxy (HTTP, HTTPS, FTP).
</p>
</li>
<li>
<p>
<samp>mod_so</samp> - Inicialização do Dynamic Shared Object (DSO)
</p>
</li>
</ul>
</dd>
<dt>Experimental</dt>
<dd>
<ul>
<li>
<p>
<samp>mod_mmap_static</samp> - Cache de páginas freqüentemente servidas via
mmap()
</p>
</li>
</ul>
</dd>
<dt>Desenvolvimento</dt>
<dd>
<ul>
<li>
<p>
<samp>mod_example</samp> - Demonstração da API do Apache (somente
desenvolvedores)
</p>
</li>
</ul>
</dd>
</dl>

<hr>

<h2 id="s-s-apache-log">33.10 Sistema de Log do Apache</h2>

<p>
O <code>Apache</code> é bem flexível na especificação do que será
registrado em seus arquivos de log, possibilitando utilizar um arquivo de log
único, diversos arquivos de logs registrando cada evento ocorrido no sistema
(conexão, navegador, bloqueio de acesso, erros, etc) incluindo os campos que
deseja em cada arquivo e a ordem dos campos em cada um deles.
</p>

<p>
Enfim qualquer coisa pode ser especificada de forma que atenda as suas
necessidades particulares de logging.
</p>

<hr>

<h3 id="s-s-apache-log-agentlog">33.10.1 AgentLog</h3>

<p>
<samp>AgentLog arquivo/pipe</samp>: Indica o nome do arquivo que registrará o
nome do navegador que está acessando a página (conteúdo do cabeçalho
<samp>User-Agent</samp>).  É possível usar o pipe &quot;|&quot; para
direcionar os erros para um programa de formatação ou processamento.
<strong>ATENÇÃO</strong>: Se um programa for usado como pipe, ele será
executado sob o usuário que iniciou o <code>apache</code>.  Revise o código
fonte do programa para ter certeza que não contém falhas que possam
comprometer a segurança de seu sistema.
</p>

<p>
Exemplo: <samp>AgentLog /var/log/apache/agent.log</samp>
</p>

<hr>

<h3 id="s-s-apache-log-errorlog">33.10.2 ErrorLog</h3>

<p>
<samp>ErrorLog arquivo/pipe</samp> - Especifica o arquivo que registrará as
mensagens de erro do servidor <code>Apache</code>.  É possível usar o pipe
&quot;|&quot; para direcionar os erros para um programa de formatação ou
processamento.
</p>

<p>
Exemplo: <samp>ErrorLog /var/log/apache/errors.log</samp>
</p>

<hr>

<h3 id="s-s-apache-log-customlog">33.10.3 CustomLog</h3>

<p>
Permite especificar onde os logs serão gravados para os arquivos de logs
personalizados.  Esta diretiva também aceita apelidos definidos pela diretiva
<em>LogFormat</em>.
</p>

<p>
<samp>CustomLog [arquivo/pipe] [formato/nome]</samp>
</p>

<p>
Onde:
</p>
<dl>
<dt><em>arquivo/pipe</em></dt>
<dd>
<p>
Arquivo de log personalizado ou pipe.
</p>
</dd>
<dt><em>formato/nome</em></dt>
<dd>
<p>
Especifica o formato do arquivo de log (da mesma forma que o especificado na
opção <em>LogFormat</em>).  Deverá ser especificado entre &quot;aspas&quot;
caso tiver espaços.  Veja <a href="#s-s-apache-log-logformat">LogFormat,
Seção 33.10.10</a> para detalhes.
</p>
</dd>
</dl>

<p>
Ao invés de especificar o formato, também é possível usar um apelido
definido pela opção <em>LogFormat</em> (<a
href="#s-s-apache-log-logformat">LogFormat, Seção 33.10.10</a>), neste caso
os parâmetros definidos pelo <em>LogFormat</em> para &quot;nome&quot; serão
atribuídos a diretiva <em>CustomLog</em>.
</p>

<p>
Exemplos:
</p>
<ul>
<li>
<p>
<samp>CustomLog /var/log/apache/common.log &quot;%h %l %u %t \&quot;%r\&quot;
%&gt;s %b&quot;</samp>
</p>
</li>
<li>
<p>
<samp>CustomLog /var/log/apache/common.log common</samp>
</p>
</li>
</ul>

<hr>

<h3 id="s-s-apache-log-refererlog">33.10.4 RefererLog</h3>

<p>
<samp>RefererLog [arquivo/pipe]</samp>: Indica que arquivo/pipe registrará os
campos Referer do cabeçalho HTTP.  Esta diretiva é mantida por
compatibilidade com o servidor web NCSA 1.4.
</p>

<p>
A configuração padrão do <code>Apache</code> usa uma diretiva alternativa
para a especificação do <em>referer</em> que é a seguinte:
</p>

<pre>
     LogFormat &quot;%{Referer}i -&gt; %U&quot; referer
     CustomLog /var/log/apache/referer.log referer
</pre>

<p>
Exemplo: <samp>RefererLog /var/log/apache/referer.log</samp>
</p>

<hr>

<h3 id="s-s-apache-log-rewritelog">33.10.5 RewriteLog</h3>

<p>
<samp>RewriteLog: [arquivo/pipe]</samp>: Indica o arquivo/pipe que registrará
qualquer regravação de URL feita pelo <code>Apache</code>.
</p>

<p>
<strong>OBS</strong>: Não é recomendável direcionar o nome de arquivo para
<code>/dev/null</code> como forma de desativar este log, porque o módulo de
regravação não cria a saída para um arquivo de log, ele cria a saída de
log internamente.  Isto somente deixará o servidor lento.  Para desativar este
registro, simplesmente remova/comente a diretiva RewriteLog ou use a opção
RewriteLogLevel 0.
</p>

<p>
Exemplo: <samp>RewriteLog &quot;/usr/local/var/apache/logs/rewrite.log</samp>
</p>

<hr>

<h3 id="s-s-apache-log-rewriteloglevel">33.10.6 RewriteLogLevel</h3>

<p>
<samp>RewriteLogLevel [num]</samp>: Especifica os detalhes que serão
incluídos no registro da opção RewriteLog, os valores permitidos estão
entre 0 e 9.  Se for usado 0, o registro do RewriteLog é totalmente desativado
(esta é a padrão).  <strong>OBS</strong>: Qualquer valor acima de 2 deixa o
servidor Web cada vez mais lento devido ao processamento e a quantidade de
detalhes registrados no arquivo especificado por <em>RewriteLog</em>.
</p>

<hr>

<h3 id="s-s-apache-log-scriptlog">33.10.7 ScriptLog</h3>

<p>
<samp>ScriptLog [arquivo]</samp>: Especifica o nome do arquivo de log que
receberá as mensagens de erros gerados por scripts CGI executados no servidor.
Esta opção é controlada pelo módulos <em>mod_cgi</em>.
</p>

<p>
Os arquivos de log serão abertos por um sub-processo rodando com as
permissões do usuário especificado na diretiva &quot;user&quot;.
</p>

<p>
<strong>OBS</strong>: Esta opção somente é recomendada como depuradora de
scripts CGI, não para uso contínuo em servidores ativos.
</p>

<p>
Exemplo: <samp>ScriptLog /var/log/apache/cgiscripts.log</samp>
</p>

<hr>

<h3 id="s-s-apache-log-scriptlogbuffer">33.10.8 ScriptLogBuffer</h3>

<p>
<samp>ScriptLogBuffer</samp>: Especifica o tamanho do cabeçalho PUT ou POST
gravado no arquivo especificado por <em>ScriptLog</em>.  O valor padrão é
1024 bytes.  Esta opção é controlada pelo módulos <em>mod_cgi</em>
</p>

<p>
Exemplo: <samp>ScriptLogBuffer 512</samp>
</p>

<hr>

<h3 id="s-s-apache-log-scriptloglength">33.10.9 ScriptLogLength</h3>

<p>
<samp>ScriptLogLength: [tamanho]</samp>: Especifica o tamanho máximo do
arquivo de log gerado pela opção ScriptLog.  O valor padrão é 10385760
bytes (10.3MB).  Esta opção é controlada pelo módulos <em>mod_cgi</em>
</p>

<p>
Exemplo: <samp>ScriptLogLength 1024480</samp>
</p>

<hr>

<h3 id="s-s-apache-log-logformat">33.10.10 LogFormat</h3>

<p>
<samp>LogFormat</samp>: Define os campos padrões do arquivo gerado pela
opção <em>TransferLog</em>.  O seu formato é o seguinte:
</p>

<p>
<samp>LogFormat [formato] [nome]</samp>
</p>

<p>
Quando o formato não é especificado, assume o valor padrão <samp>%h %l %u %t
\&quot;%r\&quot; %s %b</samp>.  A especificação do [<em>nome</em>] permite
que você utilize o formato especificado em uma opção <em>CustomLog</em> ou
outra diretiva <em>LogFormat</em>, facilitando a especificação do formato do
log.
</p>

<p>
Os seguintes formatos são válidos:
</p>
<ul>
<li>
<p>
<samp>%b</samp> - Bytes enviados, excluindo cabeçalhos HTTP.
</p>
</li>
<li>
<p>
<samp>%f</samp> - Nome do arquivo.
</p>
</li>
<li>
<p>
<samp>%{FOOBAR}e</samp> - O conteúdo da variável de ambiente FOOBAR.
</p>
</li>
<li>
<p>
<samp>%h</samp> - Máquina cliente.
</p>
</li>
<li>
<p>
<samp>%a</samp> - Endereço IP da máquina cliente.
</p>
</li>
<li>
<p>
<samp>%A</samp> - Endereço IP local.  Muito útil em virtual hostings.
</p>
</li>
<li>
<p>
<samp>%{Foobar}i</samp> - O conteúdo de Foobar: linhas de cabeçalho na
requisição enviada ao servidor.
</p>
</li>
<li>
<p>
<samp>%l</samp> - O nome de login remoto enviado pelo identd (se fornecido).
</p>
</li>
<li>
<p>
<samp>%{Foobar}n</samp> - O conteúdo de &quot;FooBar&quot; de outro módulo.
</p>
</li>
<li>
<p>
<samp>%{Foobar}o:</samp> - O conteúdo de Foobar: linhas de cabeçalho na
resposta.
</p>
</li>
<li>
<p>
<samp>%p</samp> - A porta do servidor servindo a requisição.
</p>
</li>
<li>
<p>
<samp>%P</samp> - A identificação do processo filho que serviu a
requisição.
</p>
</li>
<li>
<p>
<samp>%r</samp> - A primeira linha da requisição.
</p>
</li>
<li>
<p>
<samp>%s</samp> - Status.  Para requisições que foram redirecionadas.
internamente.  Este é o status de uma requisição *original*.  Use %s para a
última.
</p>
</li>
<li>
<p>
<samp>%t</samp> - Hora, no formato do arquivo de log (formato inglês padrão).
</p>
</li>
<li>
<p>
<samp>%{format}t</samp> - Hora, no formato definido por strftime.
</p>
</li>
<li>
<p>
<samp>%T</samp> - O tempo necessário para servir a requisição, em segundos.
</p>
</li>
<li>
<p>
<samp>%u</samp> - Usuário remoto (através do auth, pode ser falso se o status
de retorno (%s) for 401).
</p>
</li>
<li>
<p>
<samp>%U</samp> - O caminho da URL requisitada.
</p>
</li>
<li>
<p>
<samp>%v</samp> - O nome canônico definido por <em>ServerName</em> que serviu
a requisição.
</p>
</li>
<li>
<p>
<samp>%V</samp> - O nome do servidor de acordo com a configuração de
<em>UseCanonicalName</em>.
</p>
</li>
</ul>

<p>
Exemplos:
</p>

<pre>
      LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot; %T %v&quot; full
      LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot; %P %T&quot; debug
      LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot;&quot; combined
      LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b&quot; common
      LogFormat &quot;%{Referer}i -&gt; %U&quot; referer
      LogFormat &quot;%{User-agent}i&quot; agent
</pre>

<hr>

<h3 id="s-s-apache-log-transferlog">33.10.11 TransferLog</h3>

<p>
<samp>TransferLog [arquivo/pipe]</samp>: Indica o arquivo que armazenará as
transferências entre o servidor http e o cliente.  Ela cria o arquivo de log
com o formato definido pela opção <em>LogFormat</em> mais recente (sem a
especificação do nome associado a diretiva) ou o formato padrão CLF do log
do <code>Apache</code>.
</p>

<p>
Se omitido, o arquivo não será gerado
</p>

<p>
Exemplo: <samp>TransferLog /var/log/apache/transferências.log</samp>
</p>

<p>
<strong>OBS:</strong> Se esta não é uma opção muito utilizada na
administração de seus sistemas, é recomendável o uso da diretiva
<em>CustomLog</em> (veja <a href="#s-s-apache-log-customlog">CustomLog, Seção
33.10.3</a>) para evitar confusões futuras.
</p>

<hr>

<h3 id="s-s-apache-log-loglevel">33.10.12 LogLevel</h3>

<p>
Define o nível de alerta das mensagens que serão gravadas no arquivo
especificado pela diretiva <em>ErrorLog</em>.  Quando não é especificado,
assume o nível &quot;error&quot; como padrão.  Abaixo os parâmetros aceitos
em sua respectiva ordem de importância:
</p>
<ul>
<li>
<p>
<samp>emerg</samp> - O sistema está inutilizável.
</p>
</li>
<li>
<p>
<samp>alert</samp> - A ação deve ser tomada imediatamente.
</p>
</li>
<li>
<p>
<samp>crit</samp> - Condições críticas.
</p>
</li>
<li>
<p>
<samp>error</samp> - Condições de erro.
</p>
</li>
<li>
<p>
<samp>warn</samp> - Condições de alerta.
</p>
</li>
<li>
<p>
<samp>notice</samp> - Condição normal mas significante.
</p>
</li>
<li>
<p>
<samp>info</samp> - Mensagens informativas.
</p>
</li>
<li>
<p>
<samp>debug</samp> - Mensagens do nível de depuração.
</p>
</li>
</ul>

<p>
Note que os níveis são os mesmos usados pelo <code>syslog</code>.  Quando um
nível particular é especificado, as mensagens de todos os níveis de maior
importância também serão registrados.  Por exemplo, se o nível
&quot;info&quot; for especificado, as mensagens com os níveis de
&quot;notice&quot; e &quot;warn&quot; também serão registradas.  É
recomendado o uso de um nível de no mínimo <em>crit</em>.
</p>

<hr>

<h3 id="s-s-apache-log-anonylogmail">33.10.13 Anonymous_LogEmail</h3>

<p>
Se estiver como &quot;on&quot; a senha digitada será registrada no arquivo
especificado por <em>ErrorLog</em>.  Esta diretiva é <em>ativada</em> por
padrão.
</p>

<p>
Exemplo: <samp>Anonymous_LogEmail off</samp>
</p>

<hr>

<h3 id="s-s-apache-log-cookielog">33.10.14 CookieLog</h3>

<p>
Especifica o arquivo que será usado para registrar os cookies
</p>

<p>
<strong>OBS1</strong>: Caso o caminho do arquivo não for especificado nas
diretivas, será assumido <em>DocumentRoot</em> como diretório padrão.
</p>

<p>
<strong>OBS2</strong>: Caso esteja usando o pipe, o dono do processo será o
mesmo que iniciou o servidor WEB Apache.  Tenha certeza do funcionamento do
programa para não comprometer o seu sistema, e cuide para que ele não possa
ser modificado indevidamente por outros usuários.
</p>

<p>
Exemplo: <samp>CookieLog /var/log/apache/cookies.log</samp>
</p>

<hr>

<h3 id="s-s-apache-log-webalizer">33.10.15 Relatório gráfico de acesso ao sistema</h3>

<p>
O programa <code>webalizer</code> poderá ser instalado para gerar um
relatório gráfico com a estatísticas de visitas por ano/mes/dia/hora usando
os dados do <code>access.log</code>.  Outra interessante característica são
as estatísticas de códigos http (veja <a
href="#s-s-apache-httpcodes">Códigos HTTP, Seção 33.15</a>), onde é
possível saber a quantidade de links quebrados existentes em nosso servidor
(estes poderão ser detectados usando o pacote de análise de sites
<code>linbot</code>).  O <code>webalizer</code> também é compatível com os
formatos de log do <code>squid</code> e <code>proftpd</code>.  Na
distribuição <code>Debian</code> ele pode ser instalado a partir do pacote
<code>webalizer</code> e gera um relatório geral quando é executado sem
opções.
</p>

<hr>

<h2 id="s-s-apache-proxy">33.11 Configurando o Apache como servidor proxy</h2>

<p>
O <code>Apache</code> pode ser configurado para funcionar como servidor proxy
transparente para sua rede interna, possibilitando inclusive o uso de cache de
disco.  É possível se fazer conexões HTTP (incluindo SSL) e FTP.  Através
desta característica também é possível usar uma das características mais
interessante desse servidor web: o redirecionamento de conexões para uma
determinada URL para uma outra máquina, que pode ser um outro host remoto ou
uma máquina da rede interna (não acessível diretamente via Internet).
</p>

<p>
O primeiro passo é ativar o módulo de proxy no arquivo
<code>httpd.conf</code>, basta descomentar a linha:
</p>

<pre>
     # LoadModule proxy_module /usr/lib/apache/1.3/libproxy.so
</pre>

<p>
O seguinte bloco pode ser colocado no final do arquivo <code>httpd.conf</code>
para configurar um servidor proxy para realizar conexões diretas (sem o uso de
cache) e permitir o uso de servidores proxy em sua rede:
</p>

<pre>
     # Suporte a Proxy
     #
     &lt;IfModule mod_proxy.c&gt;
       ProxyRequests off
       ProxyRemote * http://debian:3128
       ProxyBlock microsoft.com microsoft.com.br
       NoProxy 192.168.1.0/24
       ProxyDomain .gms.com.br
     
     # Ativa/Desativa a manipulação de cabeçalhos HTTP/1.1 &quot;Via:&quot;.
     # 
     # (&quot;Full&quot; adiciona a versão do servidor Apache; &quot;Block&quot; remove todos os cabeçalhos 
     # de saída &quot;Via:&quot;)
     # Escolha uma das opções: Off | On | Full | Block
     #
     #ProxyVia On
     #&lt;/IfModule&gt;
</pre>

<p>
Segue a explicação de cada uma das diretivas acima:
</p>
<dl>
<dt>ProxyRequests [<em>on/off</em>]</dt>
<dd>
<p>
Ativa (on) ou Desativa (off) o serviço de proxy do servidor Apache.  Note que
o módulo <code>libproxy.so</code> deve estar carregado para que o bloco
&lt;IfModule libproxy.c&gt; seja processado.  A desativação desta diretiva
não afeta a diretiva <em>ProxyPass</em>.
</p>
</dd>
<dt>ProxyRemote [<em>origem</em>] [<em>URL</em>]</dt>
<dd>
<p>
Esta opção é útil para fazer o Apache redirecionar suas requisições para
outro servidor proxy (como o <code>squid</code> ou o gateway da rede, caso o
Apache estiver sendo executado em uma máquina interna).  A <em>origem</em>
pode ser uma URL completa (como http://www.debian.org), uma URL parcial (como
ftp, http) ou &quot;*&quot; para que o redirecionamento seja sempre usado.
</p>
</dd>
<dt>ProxyBlock [<em>padrão</em>]</dt>
<dd>
<p>
Permite bloquear o acesso a endereços que contenham o <em>padrão</em>
especificado.  Podem ser especificadas palavras, máquinas, domínios, URLs
separados por espaços.  O <code>Apache</code> fará a resolução DNS no caso
de endereços IP e fará o cache para requisições futuras.
</p>
</dd>
<dt>NoProxy [<em>endereços</em>]</dt>
<dd>
<p>
Permite especificar endereços Internos que não serão redirecionados para o
servidor proxy especificado por <em>ProxyRemote</em>.  Podem ser usados nomes
de máquinas, endereços IP, subredes ou domínios separados por espaços.
</p>
</dd>
<dt>ProxyDomain [<em>endereço</em>]</dt>
<dd>
<p>
Especifica o endereço que será adicionado a URL caso seja recebida uma
requisição que contenha somente um nome de máquina.  É útil em redes
Internas.
</p>
</dd>
</dl>

<p>
Note que quando o suporte a proxy não está ativado no <code>Apache</code>,
qualquer endereço de URL externa levará a página definida pela diretiva
<em>DocumentRoot</em>.  Isto deixará de funcionar após configurar o serviço
de proxy.
</p>

<p>
O uso do cache é interessante para acelerar as requisições http da rede
interna para a rede externa, desta forma, se uma requisição foi feita
anteriormente, será descarregado o arquivo do disco rígido e assim evitar uma
nova conexão externa (isto libera a rede para outras coisas).  Para configurar
um cache no serviço proxy, adicione as seguintes linhas no final do bloco
anterior de proxy:
</p>

<pre>
       # As linhas abaixo ativam o cache do apache, o cache não funcionará ao menos que
       # CacheRoot seja especificado
       CacheRoot /var/spool/apache
       CacheForceCompletion 70
       CacheSize 5
       CacheGcInterval 3
       CacheDefaultExpire 5
       CacheMaxExpire 300
       NoCache 192.168.1.0/24 a_domain.com outrodomínio.com.br outro.dominio.net
</pre>

<p>
Cada diretiva acima possui o seguinte significado:
</p>
<dl>
<dt>CacheRoot</dt>
<dd>
<p>
Diretório base onde serão criados os outros diretórios de cache.  O cache
só será ativado se esta diretiva for definida.
</p>
</dd>
<dt>CacheForceCompletion [<em>num</em>]</dt>
<dd>
<p>
Se uma transferência for cancelada e passar de <em>num</em>%, o
<code>Apache</code> continuará a transferência e armazenará o arquivo no
cache.  O valor padrão é 90.
</p>
</dd>
<dt>CacheSize [<em>num</em>]</dt>
<dd>
<p>
Define o tamanho máximo do diretório de cache do <code>Apache</code>, em KB.
Não especifique um valor que tome mais de 70% do espaço em disco.  O valor
padrão é 5.
</p>
</dd>
<dt>CacheGcInterval [<em>num</em>]</dt>
<dd>
<p>
Define o tempo que o cache será checado em busca de arquivos maiores que o
total do cache.  Arquivos que ultrapassem o tamanho do cache são
automaticamente eliminados.
</p>
</dd>
<dt>CacheDefaultExpire [<em>num</em>]</dt>
<dd>
<p>
Define o tempo que os documentos ficarão no cache, se foram transferidos
através de protocolos que não suportam horas de expiração.  O valor padrão
é 1 hora.
</p>
</dd>
<dt>CacheMaxExpire [<em>num</em>]</dt>
<dd>
<p>
Define o tempo que os documentos permanecerão armazenados no cache (em horas).
Esta opção ignora a hora de expiração do documento (caso fornecida).  O
valor padrão é 24 horas.
</p>
</dd>
<dt>NoCache [<em>endereços</em>]</dt>
<dd>
<p>
Permite especificar lista de palavras, máquinas, domínios, IP's que não
serão armazenados no cache do <code>Apache</code>.  Caso seja usado
<samp>NoCache *</samp> o cache será desativado completamente.  Note que o
cache também pode ser desativado comentando a diretiva <em>CacheRoot</em>.
</p>
</dd>
</dl>

<p>
Se você desejar um servidor cache mais flexível, rápido, dinâmico,
configurável (com possibilidade de uso de restrições baseadas em URL, tempo
de acesso, autenticação), instale o <code>squid</code> e configure o
<code>apache</code> para fazer forward de conexões para ele (<a
href="#s-s-apache-proxy-redir">Redirecionamento de conexões no Apache, Seção
33.11.2</a>).
</p>

<hr>

<h3 id="s-s-apache-proxy-access">33.11.1 Controlando o acesso ao servidor proxy</h3>

<p>
Incluir o bloco abaixo no arquivo <code>access.conf</code> para definir o
acesso dos serviços de proxy nas redes desejadas (se a sua configuração for
aberta como padrão isto pode ser opcional):
</p>

<pre>
     # Acesso aos serviços proxy do apache
     &lt;Directory proxy:*&gt;
         Order deny,allow
         Deny from all
         Allow from .seudominio.com.br
     &lt;/Directory&gt;
</pre>

<p>
Para explicações sobre o processo de bloqueio acima, veja <a
href="#s-s-apache-acesso-restr-autor">Autorização, Seção 33.7.1</a>.
</p>

<hr>

<h3 id="s-s-apache-proxy-redir">33.11.2 Redirecionamento de conexões no Apache</h3>

<p>
Este recurso do <code>Apache</code> é interessante para criar clusters de
servidores em sua rede interna.  O que ele faz é pegar uma requisição a um
determinado endereço e redireciona-lo a outra máquina e as respostas são
repassadas ao servidor web (para o cliente a mesma máquina esta atendendo a
requisição, para você o processamento das requisições esta sendo
distribuído internamente na rede).
</p>

<p>
As seguintes diretivas são usadas para realizar o redirecionamento de
conexões: <em>ProxyPass</em> e <em>ProxyPassReverse</em>
</p>
<dl>
<dt>ProxyPass [<em>diretório_da_url</em> [<em>outro_servidor:/diretório</em>]</dt>
<dd>
<p>
A <em>ProxyPass</em> permite que a URL seja redirecionada para o servidor local
e diretório especificado.  Por exemplo, assumindo que o endereço principal de
nosso servidor é <code>http://www.guiafoca.org</code> e desejamos que a URL
<code>http://www.guiafoca.org/download</code> seja atendida por uma máquina
localizada na nossa rede privada com o endereço
<code>http://192.168.1.54</code>.  Basta incluir a linha:
</p>
<pre>
     ProxyPass /download http://192.168.1.54
</pre>
<p>
Qualquer requisição externa a
<code>http://www.guiafoca.org/download/iniciante</code> será atendida por
<code>http://192.168.1.54/iniciante</code>.
</p>
</dd>
<dt>ProxyPassRemote [<em>diretório_da_url</em> [<em>outro_servidor:/diretório</em>]</dt>
<dd>
<p>
Esta diretiva permite modificar o cabeçalho <samp>Location</samp> nas
mensagens de respostas de redirecionamento enviadas pelo <code>Apache</code>.
Isto permite que o endereço retornado seja o do servidor (que faz a interface
externa com o cliente) e não da máquina do redirecionamento.
</p>
<pre>
     ProxyPass        /download http://192.168.1.54
     ProxyPassReverse /download http://192.168.1.54
</pre>
<p>
Se a máquina <code>192.168.1.54</code> redirecionar a URL para
<code>http://192.168.1.54/download/iniciante</code>, a resposta será
modificada para <code>http://www.guiafoca.org/download/iniciante</code> antes
de ser retornada ao cliente.
</p>
</dd>
</dl>

<p>
\
</p>

<hr>

<h2 id="s-s-apache-vhosts">33.12 Virtual Hosts</h2>

<p>
Virtual Hosts (sites virtuais) é um recurso que permite servir mais de um site
no mesmo servidor.  Podem ser usadas diretivas específicas para o controle do
site virtual, como nome do administrador, erros de acesso a página, controle
de acesso e outros dados úteis para personalizar e gerenciar o site.  Existem
2 métodos de virtual hosts:
</p>
<ul>
<li>
<p>
<samp>Virtual Hosts baseados em IP</samp> - Requer um endereço IP diferente
para cada site.  Este poderá ser um IP real (da interface de rede) ou um
apelido (veja <a href="ch-cfgrede.html#s-cfgrede-ipalias">IP Alias, Seção
16.1</a>), o que interessa é que deve haver um endereço IP diferente para
cada site.  O número de sites servidos estará limitado a quantidade de
endereços IP disponíveis em sua classe de rede.  Veja <a
href="#s-s-apache-vhosts-ip">Virtual hosts baseados em IP, Seção 33.12.1</a>
para detalhes de como construir um virtual host deste tipo.
</p>
<p>
O <code>apache</code> foi um dos primeiros servidores web a incluir suporte a
virtual hosts baseados em IP.
</p>
</li>
<li>
<p>
<samp>Virtual Hosts baseados em nome</samp> - Este utiliza nomes para
identificar os sites servidos e requerem somente um endereço IP.  Desta
maneira é possível servir um número ilimitado de sites virtuais.  O
navegador do cliente deve suportar os cabeçalhos necessários para garantir o
funcionamento deste recurso (praticamente todos os navegadores atuais possuem
este suporte).  Veja <a href="#s-s-apache-vhosts-nome">Virtual hosts baseados
em nome, Seção 33.12.2</a> para detalhes de como construir um virtual host
deste tipo.
</p>
</li>
</ul>

<p>
As explicações desta seção são baseadas na documentação do
<code>Apache</code>.
</p>

<hr>

<h3 id="s-s-apache-vhosts-ip">33.12.1 Virtual hosts baseados em IP</h3>

<p>
Existem duas maneiras de rodar este tipo de host virtual: Através de daemons
<code>httpd</code> separados ou em um único daemon <code>httpd</code> usando a
diretiva &lt;VirtualHost&gt;.
</p>

<p>
As vantagens do uso de <em>daemons separados</em> para servir requisições é
a proteção sob <em>UID</em> e <em>GID</em> diferente dos outros servidores,
assim o administrador do <em>site1</em> não terá acesso ao
<code>httpd.conf</code>, página do <code>site2</code> (porque ele estará
rodando sob uma <em>UID</em> e <em>GID</em> diferentes e o acesso é restrito).
Para usar este método, especifique a opção <em>-f [arquivo_cfg]</em> para
utilizar um arquivo de configuração personalizado e a diretiva <em>Listen
endereço:porta</em> para dizer onde o servidor aguardará as requisições.
</p>

<p>
As vantagens do uso de um <em>mesmo daemon</em> para servir as requisições
são: quando não há problema se os administradores de outros sites tenham
acesso ao mesmo arquivo de configuração ou quando há a necessidade de servir
muitas requisições de uma só vez (quanto menos servidores web estiverem em
execução, melhor o desempenho do sistema).  Abaixo um exemplo de
configuração de virtual hosts servindo os sites <samp>www.site1.com.br</samp>
e <samp>www.site2.com.br</samp>:
</p>

<pre>
     ServerAdmin webmaster@site.com.br
     
     &lt;VirtualHost www.site1.com.br&gt;
      ServerName www.site1.com.br
      ServerAdmin site1@site1.com.br
      DocumentRoot /var/www/www_site1_com_br
      TransferLog /var/log/apache/site1/access.log
      ErrorLog /var/log/apache/site1/error.log
      User www-data
      Group www-data
     &lt;/VirtualHost&gt;
     
     &lt;VirtualHost www.site2.com.br&gt;
      ServerName www.site2.com.br
      DocumentRoot /var/www/www_site2_com_br
      CustomLog /var/log/apache/site2/access.log combined
      ErrorLog /var/log/apache/site2/error.log
     &lt;/VirtualHost&gt;
</pre>

<p>
Qualquer diretiva dentro de &lt;VirtualHost&gt; controlarão terão efeito no
site virtual especificado.  Quando uma diretiva não for especificada dentro de
&lt;VirtualHost&gt;, serão usados os valores padrões especificados no arquivo
de configuração do <code>Apache</code> (como a diretiva <em>ServerAdmin
webmaster@site.com.br</em> que será usado como padrão na configuração de
<em>www.site2.com.br</em>).
</p>

<p>
Digite <samp>apache -S</samp> para ver suas configurações de virtual hosts
atual.
</p>

<p>
<strong>OBS1:</strong> Desative a diretiva <samp>UseCanonicalName off</samp>
quando utilizar o recurso de máquinas virtuais, esta diretiva faz que o nome
do servidor retornado usando o valor em <samp>ServerName</samp> quando o
cliente digita um endereço qualquer.
</p>

<p>
<strong>OBS2:</strong> Utilize sempre que possível endereços IP em
configurações críticas, assim os serviços não serão tão vulneráveis a
possíveis falsificações ou erros.  Veja <a
href="ch-rede.html#s-rede-dns-a-hostconf">/etc/host.conf, Seção 15.6.2.2</a>
e <a href="ch-fw-iptables.html#s-fw-iptables-outras-ipspoof">Proteção contra
IP spoofing, Seção 31.6.5</a>.  Leia também a seção <a
href="#s-s-apache-vhosts-dnssec">Segurança no uso de IP's em Virtual Hosts,
Seção 33.12.3</a>.
</p>

<p>
<strong>OBS3:</strong> Não permita que outros usuários a não ser o root e o
dono do processo <code>Apache</code> (especificado pela diretiva <em>User</em>)
tenham acesso de gravação aos logs gerados pelo servidor, pois os dados podem
ser apagados ou criados links simbólicos para binários do sistema que serão
destruídos quando o <code>Apache</code> gravar dados.  Alguns binários e
bibliotecas são essenciais para o funcionamento do sistema.
</p>

<hr>

<h3 id="s-s-apache-vhosts-nome">33.12.2 Virtual hosts baseados em nome</h3>

<p>
Este método é idêntico ao baseado em IP, em especial adicionamos a diretiva
<em>NameVirtualHost</em> para dizer qual é o endereço IP do servidor que
está servindo os virtual hosts baseados em nome.  Veja o exemplo de
configuração:
</p>

<pre>
     NameVirtualHost 200.200.200.10:80
     
     &lt;VirtualHost _default_:80 200.200.200.10:80&gt;
      ServerName www.site.com.br
      ServerAdmin admin@site.com.br
      DocumentRoot /var/www
      TransferLog /var/log/apache/access.log
      ErrorLog /var/log/apache/error.log
     &lt;/VirtualHost&gt;
     
     &lt;VirtualHost 200.200.200.10&gt;
      ServerName www.site1.com.br
      ServerAdmin admin1@site1.com.br
      DocumentRoot /var/www/www_site1_com_br
      TransferLog /var/log/apache/site1/access.log
      ErrorLog /var/log/apache/site1/error.log
     &lt;/VirtualHost&gt;
     
     &lt;VirtualHost 200.200.200.10&gt;
      ServerName www.site2.com.br
      ServerAdmin admin2@site2.com.br
      DocumentRoot /var/www/www_site2_com_br
      TransferLog /var/log/apache/site2/access.log
      ErrorLog /var/log/apache/site2/error.log
     &lt;/VirtualHost&gt;
</pre>

<p>
A diretiva <em>NameVirtualHost</em> diz que será usado virtual hosts baseados
em nome servidos pela máquina com IP <samp>200.200.200.10</samp>.  Os
parâmetros dentro do bloco das diretivas &lt;VirtualHost &gt; são
específicas somente no site virtual especificado, caso contrário os valores
padrões definidos no arquivo de configuração serão usados.  Caso nenhum
virtual host confira com a configuração, o virtualhost <em>_default_</em>
será usado.
</p>

<p>
Digite <samp>apache -S</samp> para ver suas configurações de virtual hosts
atual.  Se sua intenção é criar um grande número de virtual hosts que
serão servidos pela mesma máquina, o uso da expansão <samp>%0</samp> e
diretivas <samp>VirtualDocumentRoot</samp> e <samp>VirtualScriptAlias</samp>
são recomendados:
</p>

<pre>
     NameVirtualHost 200.200.200.10:80
     
     &lt;VirtualHost 200.200.200.10&gt;
      VirtualDocumentRoot /var/www/%0
      VirtualScriptAlias /var/www/%0/cgi-bin
      TransferLog log/apache/site1/access.log
      ErrorLog log/apache/site1/error.log
     &lt;/VirtualHost&gt;
</pre>

<p>
Agora crie os diretórios em <code>/var/www</code> correspondentes aos nomes de
domínios que serão servidos por sua máquina: <samp>mkdir
/var/www/www.site1.com.br</samp>, <samp>mkdir /var/www/www.site2.com.br</samp>.
Note que sua máquina deverá estar com o DNS configurado para responder por
estes domínios .
</p>

<p>
<strong>ATENÇÃO</strong> É importante que os endereços especificados nas
diretivas <em>ServerName</em> (<samp>www.site1.com.br</samp>) resolvam o
endereço IP da diretiva <em>VirtualHost</em> (<code>200.200.200.10</code>).
Isto deve ser feito via DNS ou nos arquivos <code>/etc/hosts</code>.
</p>

<p>
<strong>OBS1:</strong> Utilize sempre que possível endereços IP em
configurações críticas, assim os serviços não serão tão vulneráveis a
possíveis falsificações ou erros.  Veja <a
href="ch-rede.html#s-rede-dns-a-hostconf">/etc/host.conf, Seção 15.6.2.2</a>
e <a href="ch-fw-iptables.html#s-fw-iptables-outras-ipspoof">Proteção contra
IP spoofing, Seção 31.6.5</a>.  Leia também a seção <a
href="#s-s-apache-vhosts-dnssec">Segurança no uso de IP's em Virtual Hosts,
Seção 33.12.3</a>.
</p>

<p>
<strong>OBS2:</strong> Não permita que outros usuários a não ser o root e o
dono do processo <code>Apache</code> (especificado pela diretiva <em>User</em>)
tenha acesso de gravação aos logs gerados pelo servidor.  Pois os dados podem
ser apagados ou criados links para binários do sistema que serão destruídos
quando o apache gravar dados para os logs.  Alguns binários e bibliotecas são
essenciais para o funcionamento do sistema.
</p>

<hr>

<h3 id="s-s-apache-vhosts-dnssec">33.12.3 Segurança no uso de IP's em Virtual Hosts</h3>

<p>
Quando você está colocando um nome na diretiva de configuração do seu
virtual hosts, está assumindo que ele resolverá o endereço IP corretamente
(como <samp>www.site1.com.br</samp> =&gt; <samp>200.200.200.10</samp>).  Se por
algum motivo o servidor DNS for modificado (por outra pessoa que tem acesso a
isto), o endereço IP resolvido para o site <samp>www.site1.com.br</samp>
poderá ser modificado para <samp>200.200.200.20</samp>, isto redirecionará as
requisições para outra máquina ao invés da máquina correta.  Este tipo de
ataque é chamado &quot;DNS Spoofing&quot; e o uso de endereço IP (ao invés
de nomes) praticamente evita que isto aconteça.  Esta situação pode
acontecer com a diretiva abaixo:
</p>

<pre>
     &lt;VirtualHost www.gms.com.br&gt;
      ServerName www.gms.com.br
      ServerAdmin gleydson@guiafoca.org
      DocumentRoot /var/www/www_gms_com_br
     &lt;/VirtualHost&gt;
</pre>

<p>
Outra situação, que impede o funcionamento do servidor Web, é quando o
servidor DNS está em manutenção ou por algum outro motivo não pode resolver
o endereço IP de um nome especificado (como <samp>www.site1.com.br</samp>).  O
<code>apache</code> precisa saber qual é o seu endereço IP para ser
executado.  Veja a próxima modificação:
</p>

<pre>
     &lt;VirtualHost 192.168.1.1&gt;
      ServerName www.gms.com.br
      ServerAdmin gleydson@guiafoca.org
      DocumentRoot /var/www/www_gms_com_br
     &lt;/VirtualHost&gt;
</pre>

<p>
Na configuração acima usamos o IP do servidor para especificar o virtual
host.  O <code>apache</code> tentará fazer o DNS reverso para determinar qual
nome é servido por aquele endereço IP (<samp>www.site1.com.br</samp>).  Se
ele falhar, somente a seção &lt;VirtualHost&gt; correspondente será
desativada.  Isto já é uma melhoria sobre a primeira configuração.  O nome
do servidor na diretiva <em>ServerName</em> garante que o servidor responda com
o nome correto.
</p>

<p>
Para evitar ataques baseados em DNS siga os seguintes procedimentos de
segurança:
</p>
<!-- ol type="1" start="1"  -->
<li>
<p>
Preferencialmente utilize o arquivo <code>/etc/hosts</code> para a resolução
de nomes em máquinas locais (principalmente quando existe somente um
administrador).  É um método que evita diversas consultas ao servidor DNS
(que pode deixar o acesso lento) e este arquivo é gerenciado pelo usuário
<samp>root</samp>, isto evita o acesso de qualquer usuário para a
falsificação de endereços.
</p>
<p>
Este arquivo também é útil caso a pesquisa DNS falhe (quando a ordem de
pesquisa for do servidor DNS para o arquivo <code>hosts</code> no arquivo
<code>/etc/host.conf</code>), pois de qualquer forma o nome será resolvido e o
servidor <code>Apache</code> será executado.
</p>
</li>
<li>
<p>
Evite dar poderes a outros administradores manipularem seu próprio domínio
DNS, não há nada que possa impedi-lo de modificar o endereço &quot;X&quot;
para ser servido pelo IP &quot;Y&quot; desviando o tráfego para seu próprio
servidor web.  Se isto não for possível, siga as dicas abaixo para diminuir
possíveis problemas.
</p>
</li>
<li>
<p>
Utilize endereços IP na diretiva &lt;VirtualHost&gt;.
</p>
</li>
<li>
<p>
Use endereços IP na diretiva <em>Listen</em>.
</p>
</li>
<li>
<p>
Use um endereço IP na diretiva <em>BindAddress</em>.
</p>
</li>
<li>
<p>
Sempre utilize o parâmetro <em>ServerName</em> em todas as diretivas
&lt;VirtualHost&gt;, isto evita o retorno incorreto de nomes (que pode
evitar/revelar fraudes).
</p>
</li>
<li>
<p>
Quando utilizar virtual hosts, crie uma diretiva &lt;VirtualHost
_default_L:*&gt; usando uma diretiva <em>DocumentRoot</em> que não aponte para
lugar algum.  Esta diretiva será acessada quando nenhuma diretiva
<em>VirtualHost</em> servir a requisição, conferindo com o endereço/ip.
</p>
</li>
</ol>

<hr>

<h2 id="s-s-apache-ssl">33.13 Uso de criptografia SSL</h2>

<p>
Esta seção é uma referência rápida para configuração e uso do módulo
<code>apache-ssl</code> com o servidor <code>Apache</code>.  Este módulo
realiza a comunicação segura de dados (criptografada) via porta 443 (que é
usada como padrão quando especificamos uma url iniciando com
<em>https://</em>).  A transmissão criptografada de dados é importante quanto
temos dados confidenciais que precisamos transmitir como movimentação
bancária, senhas, número de cartões de crédito, fazer a administração
remota do servidor, etc.  SSL significa <em>Secure Sockets Layer</em> (camada
segura de transferência) e TLS <em>Transport Layer Security</em> (camada
segura de Transporte).
</p>

<p>
A intenção aqui é fornecer explicações práticas para colocar um servidor
<code>Apache</code> com suporte a SSL funcionando no menor tempo possível.
Detalhes sobre funcionamento de certificados, métodos de criptografia,
assinatura, etc.  deverão ser buscados na documentação deste módulo ou em
sites especializados (é um assunto muito longo).
</p>

<hr>

<h3 id="s-s-apache-ssl-s">33.13.1 Servidor apache com suporte a ssl</h3>

<p>
Ao invés de utilizar o módulo <code>mod_ssl</code>, você poderá usar o
pacote <code>apache-ssl</code>, ele nada mais é que um servidor
<code>Apache</code> com o suporte SSL já incluso e não interfere no servidor
<code>Apache</code> padrão, porque é executado somente na porta 443.
</p>

<p>
Se você tem um grande site com configurações de acesso personalizadas, ele
trará mais trabalho de administração, pois as configurações e diretivas de
restrições de acesso deverão ser copiadas para este servidor web.  No
entanto, ele é indicado para máquinas que serão servidores SSL dedicados ou
quando não possui configurações especiais em seu servidor web principal.
</p>

<p>
Esta seção tem por objetivo a instalação do suporte ao módulo SSL
(<code>mod_ssl</code>) no servidor <code>Apache</code> padrão.
</p>

<hr>

<h3 id="s-s-apache-ssl-instal">33.13.2 Instalando o suporte a módulo SSL no Apache</h3>

<p>
Instale o pacote <code>libapache-mod-ssl</code>.  Após instala-lo, edite o
arquivo <code>/etc/apache/httpd.conf</code> adicionando a linha:
</p>

<pre>
     LoadModule ssl_module /usr/lib/apache/1.3/mod_ssl.so
</pre>

<p>
Depois, gere um certificado digital ssl com o programa
<code>mod-ssl-makecert</code>.  Ele será armazenado por padrão nos
diretórios em <code>/etc/apache/ssl.???</code> e seu uso explicado no resto
desta seção.
</p>

<hr>

<h3 id="s-s-apache-ssl-mkcert">33.13.3 Gerando um certificado digital</h3>

<p>
O certificado digital é a peça que garante a transferência segura de dados.
Ele contém detalhes sobre a empresa que fará seu uso e quem o emitiu.  Para
gerar ou modificar um certificado digital, execute o comando
<samp>mod-ssl-makecert</samp> e siga as instruções.  O método de
criptografia usado pelo certificado digital é baseado no conceito de chave
pública/privada, a descrição sobre o funcionamento deste sistema de
criptografia é feito em <a href="ch-d-cripto.html#s-d-cripto-gpg">Usando pgp
(<code>gpg</code>)para criptografia de arquivos, Seção 41.5</a>.
</p>

<p>
<strong>OBS</strong> Não utilize acentos nos dados de seu certificado.
</p>

<hr>

<h3 id="s-s-apache-ssl-exemplo">33.13.4 Exemplo de configuração do módulo mod-ssl</h3>

<p>
Abaixo uma configuração rápida para quem deseja ter um servidor com suporte
a SSL funcionando em menor tempo possível (ela é feita para operar em todas
as instalações e não leva em consideração o projeto de segurança de sua
configuração atual do <code>Apache</code>).  Note que todas as diretivas
relacionadas com o módulo <code>mod_ssl</code> começam com o nome
&quot;SSL&quot;:
</p>

<pre>
     # Somente processa as diretivas relacionadas a SSL caso o módulo mod_ssl estiver
     # carregado pela diretiva LoadModule
     &lt;IfModule mod_ssl.c&gt;
     # É necessário especificar as portas que o servidor Web aguardará conexões (normais e 
     # ssl). 
     Listen 80
     Listen 443
     
     # Ativa o tratamento de conexões com o destino na porta 443 pela diretiva
     # VirtualHost abaixo
     &lt;VirtualHost _default_:443&gt;
     
     # Ativa ou desativa o módulo SSL para este host virtual
     SSLEngine on
     
     # Certificado do servidor
     SSLCertificateFile    /etc/apache/ssl.crt/server.crt
     
     # Chave privada de certificado do servidor. 
     SSLCertificateKeyFile /etc/apache/ssl.key/server.key
     
     # A linha abaixo força o fechamento de conexões quando a 
     # conexão com o navegador Internet Explorer é interrompida. Isto
     # viola o padrão SSL/TLS mas é necessário para este tipo de 
     # navegador. Alguns problemas de conexões de navegadores também
     # são causados por não saberem lidar com pacotes keepalive.
     SetEnvIf User-Agent &quot;.*MSIE.*&quot; nokeepalive ssl-unclean-shutdown
     
     &lt;/VirtualHost&gt;
     
     &lt;/IfModule&gt;
     
     #################################################################################
     # Adicionalmente poderão ser especificadas as seguintes opções para modificar   #
     # o comportamento da seção SSL (veja mais detalhes na documentação do mod-ssl)  #
     #################################################################################
     
     # Formato e localização do cache paralelo de processos da seção. O cache de seção é 
     # feito internamente pelo módulo mas esta diretiva acelera o processamento 
     # de requisições paralelas feitas por modernos clientes navegadores. Por padrão 
     # nenhum cache é usado (&quot;none&quot;). 
     SSLSessionCache         dbm:/var/run/ssl-cache
     
     # Localização do arquivo de lock que o módulo SSL utiliza para 
     # sincronização entre processos. O padrão é nenhum. 
     SSLMutex  file:/var/run/ssl-mutex
     
     # Especifica o método de embaralhamento de dados que será utilizado
     # durante o inicio de uma seção SSL (startup) ou durante o processo 
     # de conexão (connect). Podem ser especificados &quot;builtin&quot; (é muito rápido 
     # pois consome poucos ciclos da CPU mas não gera tanta combinação aleatória), um 
     # programa que gera números aleatórios (com &quot;exec&quot;) ou os dispositivos aleatórios 
     # /dev/random e /dev/urandom (com &quot;file&quot;). Por padrão nenhuma fonte 
     # adicional de números aleatórios é usada. 
     SSLRandomSeed startup builtin
     SSLRandomSeed connect builtin
     #SSLRandomSeed startup file:/dev/urandom 512
     #SSLRandomSeed connect file:/dev/urandom 512
     #SSLRandomSeed connect exec:/pub/bin/NumAleat
     
     # Tipos MIME para download de certificados
     AddType application/x-x509-ca-cert .crt
     AddType application/x-pkcs7-crl    .crl
     
     # Tempo máximo de permanência dos objetos do cache acima. O valor padrão é 
     # 300 segundos (5 minutos).
     SSLSessionCacheTimeout  300
     
     # Versão do protocolo SSL que será usada. Podem ser especificadas 
     # SSLv2, SSLv3 TLSv1 ou all. O mais compatível com os navegadores atuais 
     # é o &quot;SSLv2&quot;. Por padrão &quot;all&quot; é usado.
     #SSLProtocol all
     #SSLProtocol -all +SSLv3
     
     # Registra detalhes sobre o tráfego neste arquivo. Mensagens de erro 
     # também são armazenadas no arquivo de registro padrão do Apache
     SSLLog      /var/log/apache/ssl-mod.log
     
     # Nível das mensagens de log registradas por SSLLog
     SSLLogLevel info
</pre>

<p>
Algumas diretivas deste módulo podem fazer parte tanto da configuração
global do servidor como diretivas de acesso (<samp>Directory</samp>,
<samp>Location</samp>, <samp>.htaccess</samp>, veja a opção
&quot;Context&quot; na documentação do <code>mod_ssl</code>).
</p>

<hr>

<h3 id="s-s-apache-ssl-sslreq">33.13.5 Autorizando acesso somente a conexões SSL</h3>

<p>
Existem casos que precisa restringir o uso de conexões normais e permitir
somente conexões via SSL (como por exemplo, dentro da diretiva de acesso que
controla seu acesso a uma página com listagem de clientes).  A opção
<em>SSLRequereSSL</em> é usada para tal e deve ser usada dentro das diretivas
de controle acesso:
</p>

<pre>
     &lt;Directory /var/www/secure/clientes&gt;
      Options Indexes 
      Order deny,allow
      Deny from evil.cracker.com
      SSLRequireSSL
     &lt;/Directory&gt;
</pre>

<p>
A diretiva acima <em>requer</em> que sejam feitas conexões SSL (porta 443 -
https://) para acesso ao diretório <code>/var/www/secure/clientes</code>,
qualquer conexão padrão não criptografada (feita na porta 80) será
rejeitada com o erro 403.
</p>

<p>
<strong>OBS:</strong> A diretiva <em>SSLRequireSSL</em> podia ser colocada
entre as condicionais &quot;IfModule mod_ssl.c&quot; mas o servidor web
permitiria conexões não criptografadas se por algum motivo esse módulo não
estivesse carregado.  Na configuração acima, ocorrerá um erro e impedirá o
funcionamento do servidor web caso ocorra algum problema com o
<code>mod_ssl</code>.
</p>

<hr>

<h3 id="s-s-apache-ssl-inic">33.13.6 Iniciando o servidor Web com suporte a SSL</h3>

<p>
Verifique se a configuração do <code>Apache</code> está ok com <samp>apache
-t</samp>.  Caso positivo, reinicie o servidor usando um dos métodos descritos
em <a href="#s-s-apache-rodando">Iniciando o servidor/reiniciando/recarregando
a configuração, Seção 33.1.9</a>.  O servidor web lhe pedirá a FraseSenha
para descriptografar a chave privada SSL (esta senha foi escolhida durante o
processo de criação do certificado).
</p>

<p>
Esta senha garante uma segurança adicional caso a chave privada do servidor
seja copiada de alguma forma.  Somente quem tem conhecimento da FraseSenha
poderá iniciar o servidor com suporte a transferência segura de dados.
Verifique se o virtual host está servindo as requisições na porta 443 com
<samp>apache -S</samp>.
</p>

<p>
O único método para fazer o servidor web evitar de pedir a senha para
descriptografar a chave privada é colocando uma senha em branco.  Isto só é
recomendado em ambientes seguros e o diretório que contém a chave privada
deverá ter somente permissões para o dono/grupo que executa o servidor Web.
Qualquer outra permissão poderá por em risco a segurança da instalação
caso a chave privada seja roubada.  Depois disso, execute o comando:
</p>

<pre>
     # entre no diretório que contém a chave privada
     cd /etc/apache/ssl.key
     # renomeie a chave privada para outro nome
     ren server.key server.key-Csenha
     openssl rsa -in server.key-Csenha -out server.key
</pre>

<p>
Digite a senha quando pedido.  A chave original (com senha) estará gravada no
arquivo <code>server.key-Csenha</code> e poderá ser restaurada se necessário.
Reinicie o servidor <code>Apache</code>, desta vez ele não pedirá a senha.
</p>

<p>
<strong>OBS1:</strong> Tire uma cópia de segurança da chave privada original
antes de executar esta operação.
</p>

<p>
<strong>OBS2:</strong> Não se esqueça de ajustar as permissões de acesso no
diretório <code>/etc/apache/ssl.key</code> caso não utilize senha para
proteger seu certificado digital.
</p>

<hr>

<h2 id="s-s-apache-exemplo">33.14 Exemplo comentado de um arquivo de configuração do Apache</h2>

<p>
O exemplo abaixo foi retirado da distribuição <code>Debian GNU/Linux</code>,
fiz sua tradução, modificações e inclui alguns comentários sobre as
diretivas para deixa-lo mais de acordo com o conteúdo abordado pelo guia e
mais auto-explicativo.
</p>

<p>
A configuração do <code>Apache</code> está distribuída nos arquivos
<code>httpd.conf</code>, <code>srm.conf</code> e <code>access.conf</code> e
podem ser usados como modelo para a construção da configuração de seu
servidor.
</p>

<hr>

<h3 id="s-s-apache-exemplo-httpd">33.14.1 httpd.conf</h3>

<pre>
     ##
     ## httpd.conf -- Arquivo de configuração do servidor httpd Apache
     ##
     
     #
     # Baseado nos arquivos de configuração originais do servidor NCSA por Rob McCool.
     # Modificado para distribuição junto ao guia Foca GNU/Linux Avançado
     # http://focalinux.cipsga.org.br/ &lt;gleydson@guiafoca.org&gt;
     #
     # Este é o arquivo de configuração principal do servidor Apache. Ele contém as
     # diretivas de configuração que dão ao servidor suas instruções.
     # Veja &lt;http://www.apache.org/docs/&gt; para informações detalhadas sobre as 
     # diretivas.
     #
     # NÃO leia simplesmente as instruções deste arquivo sem entender o que significam
     # e o que fazem, se não tiver certeza do que está fazendo consulte a documentação
     # on-line ou leia as seções apropriadas do guia. Você foi avisado.
     #
     # Após este arquivo ser processado, o servidor procurará e processará o arquivo
     # /etc/apache/srm.conf e então /etc/apache/access.conf
     # a não ser que você tenha modificado o nome dos arquivos acima através das 
     # diretivas ResourceConfig e/ou AccessConfig neste arquivo.
     #
     # Configuração e nomes de arquivos de log: Se os nomes de arquivos que 
     # especificar para os arquivos de controle do servidor iniciam com uma 
     # &quot;/&quot;, o servidor usará aquele caminho explicitamente. Se os nomes *não*
     # iniciarem com uma &quot;/&quot;, o valor de ServerRoot é adicionado -- assim 
     # &quot;logs/foo.log&quot; com ServerRoot ajustado para &quot;/usr/local/apache&quot; será 
     # interpretado pelo servidor como &quot;/usr/local/apache/logs/foo.log&quot;.
     #
     # Originalmente por Rob McCool
     # modificado por Gleydson Mazioli da Silva para o guia Foca GNU/Linux
     
     # Carga dos Módulos de Objetos Compartilhados:
     # Para você ser capaz de usa a funcionalidade de um módulo que foi construído como
     # um módulo compartilhado, será necessário adicionar as linhas 'LoadModule'
     # correspondente a sua localização, assim as diretivas que os módulos contém
     # estarão disponíveis _antes_ de serem usadas. 
     # Exemplo:
     
     #
     # ServerType pode ser inetd, ou standalone.  O modo Inetd somente é suportado nas 
     # plataformas Unix. O modo standalone inicia o servidor como um daemon.
     #
     
     ServerType standalone
     
     # Se estiver executando a partir do inetd, vá até a diretiva &quot;ServerAdmin&quot;.
     
     # Port: A porta que o servidor standalone escutará. Para portas &lt; 1023, será 
     # necessário o servidor funcionando como root inicialmente.
     
     Port 80
     
     #
     # HostnameLookups: Registra os nomes DNS dos clientes ou apenas seus endereços
     # IP's
     # ex., www.apache.org (on) ou 204.62.129.132 (off).
     # O valor padrão é off porque permitirá menos tráfego na rede. Ativando
     # esta opção significa que cada acesso de um cliente resultará em 
     # NO MÍNIMO uma requisição de procura ao servidor de nomes (DNS).
     #
     
     HostnameLookups off
     
     # Caso desejar que o servidor http seja executado como um usuário ou grupo diferente
     # você deve executar o httpd inicialmente como root e ele modificará sua ID para a 
     # especificada.  
     
     # User/Group: O nome (ou #número) do usuário/grupo que executará o servidor httpd.
     # No SCO (ODT 3) use &quot;User nouser&quot; e &quot;Group nogroup&quot;
     # No HPUX você pode não será capaz de usar memória compartilhada como nobody, e 
     # é sugerido que seja criado um usuário www e executar o servidor httpd como 
     # este usuário, adequando as permissões onde necessárias.
     
     User www-data
     Group www-data
     
     # ServerAdmin: Seu endereço de e-mail, onde os problemas com o servidor devem ser 
     # enviadas. Este endereço aparecerá nas mensagens de erro do servidor.
     ServerAdmin gleydson@guiafoca.org
     
     #
     # ServerRoot: O topo da árvore de diretórios onde os arquivos de configuração do 
     # servidor, erros, e log são mantidos.
     #
     # NOTA: Se tiver a intenção de colocar isto em um sistema de arquivos montado 
     # em um servidor NFS (ou outra rede) então por favor leia a documentação do 
     # LockFile 
     # (disponível em &lt;http://www.apache.org/docs/mod/core.html#lockfile&gt;);
     # e se salvará de vários problemas.
     #
     # Não adicione uma barra no fim do caminho do diretório.
     #
     
     ServerRoot /etc/apache
     
     # BindAddress: Você pode usar esta opção em virtual hosts. Esta
     # opção é usada para dizer ao servidor que endereço IP escutar. Ele pode 
     # conter ou &quot;*&quot;, um endereço IP, ou um nome de domínio completamente qualificado
     # (FQDN). Veja também a diretiva VirtualHost.
     
     BindAddress *
     
     #
     # Suporte a Objetos Compartilhados Dinamicamente (DSO - Dynamic Shared Object)
     #
     # Para ser capaz de usar a funcionalidade de um módulo que foi compilado como 
     # um módulo DSO, você terá que adicionar as linhas 'LoadModule' correspondentes
     # nesta localização, assim as diretivas contidas nela estarão disponíveis 
     # _antes_ de serem usadas. Por favor leia o arquivo README.DSO na distribuição
     # 1.3 do Apache para mais detalhes sobre o mecanismo DSO e execute o comando
     # &quot;apache -l&quot; para a lista de módulos já compilados (estaticamente linkados e 
     # assim sempre disponíveis) em seu binário do Apache.
     #
     # Please keep this LoadModule: line here, it is needed for installation.
     # LoadModule vhost_alias_module /usr/lib/apache/1.3/mod_vhost_alias.so
     # LoadModule env_module /usr/lib/apache/1.3/mod_env.so
     LoadModule config_log_module /usr/lib/apache/1.3/mod_log_config.so
     # LoadModule mime_magic_module /usr/lib/apache/1.3/mod_mime_magic.so
     LoadModule mime_module /usr/lib/apache/1.3/mod_mime.so
     LoadModule negotiation_module /usr/lib/apache/1.3/mod_negotiation.so
     LoadModule status_module /usr/lib/apache/1.3/mod_status.so
     # LoadModule info_module /usr/lib/apache/1.3/mod_info.so
     # LoadModule includes_module /usr/lib/apache/1.3/mod_include.so
     LoadModule autoindex_module /usr/lib/apache/1.3/mod_autoindex.so
     LoadModule dir_module /usr/lib/apache/1.3/mod_dir.so
     LoadModule php3_module /usr/lib/apache/1.3/libphp3.so
     LoadModule cgi_module /usr/lib/apache/1.3/mod_cgi.so
     # LoadModule asis_module /usr/lib/apache/1.3/mod_asis.so
     # LoadModule imap_module /usr/lib/apache/1.3/mod_imap.so
     # LoadModule action_module /usr/lib/apache/1.3/mod_actions.so
     # LoadModule speling_module /usr/lib/apache/1.3/mod_speling.so
     LoadModule userdir_module /usr/lib/apache/1.3/mod_userdir.so
     LoadModule alias_module /usr/lib/apache/1.3/mod_alias.so
     LoadModule rewrite_module /usr/lib/apache/1.3/mod_rewrite.so
     LoadModule access_module /usr/lib/apache/1.3/mod_access.so
     LoadModule auth_module /usr/lib/apache/1.3/mod_auth.so
     # LoadModule anon_auth_module /usr/lib/apache/1.3/mod_auth_anon.so
     # LoadModule dbm_auth_module /usr/lib/apache/1.3/mod_auth_dbm.so
     # LoadModule db_auth_module /usr/lib/apache/1.3/mod_auth_db.so
     # LoadModule proxy_module /usr/lib/apache/1.3/libproxy.so
     # LoadModule digest_module /usr/lib/apache/1.3/mod_digest.so
     # LoadModule cern_meta_module /usr/lib/apache/1.3/mod_cern_meta.so
     LoadModule expires_module /usr/lib/apache/1.3/mod_expires.so
     # LoadModule headers_module /usr/lib/apache/1.3/mod_headers.so
     # LoadModule usertrack_module /usr/lib/apache/1.3/mod_usertrack.so
     LoadModule unique_id_module /usr/lib/apache/1.3/mod_unique_id.so
     LoadModule setenvif_module /usr/lib/apache/1.3/mod_setenvif.so
     # LoadModule sys_auth_module /usr/lib/apache/1.3/mod_auth_sys.so
     # LoadModule put_module /usr/lib/apache/1.3/mod_put.so
     # LoadModule throttle_module /usr/lib/apache/1.3/mod_throttle.so
     # LoadModule allowdev_module /usr/lib/apache/1.3/mod_allowdev.so
     # LoadModule auth_mysql_module /usr/lib/apache/1.3/mod_auth_mysql.so
     # LoadModule pgsql_auth_module /usr/lib/apache/1.3/mod_auth_pgsql.so
     # LoadModule eaccess_module /usr/lib/apache/1.3/mod_eaccess.so
     # LoadModule roaming_module /usr/lib/apache/1.3/mod_roaming.so
     
     #
     # ExtendedStatus: Controla de o Apache gerará detalhes completos de status
     # (ExtendedStatus On) ou apenas detalhes básicos (ExtendedStatus Off) quando o 
     # manipulador (handler) &quot;server-status&quot; for usado. O padrão é Off.
     #
     ExtendedStatus on
     
     #
     # ErrorLog: A localização do arquivo de log de erros.
     # Se não estiver especificando a diretiva ErrorLog dentro de &lt;VirtualHost&gt;, 
     # as mensagens de erros relativas aos hosts virtuais serão registradas neste 
     # arquivo. Se definir um arquivo de log de erros para &lt;VirtualHost&gt;, as 
     # mensagens relativas ao servidor controlados por ela serão registradas lá e 
     # não neste arquivo.
     #
     ErrorLog /var/log/apache/error.log
     
     #
     # LogLevel: Controla o número de mensagens registradas no ErrorLog.
     # Facilidades possíveis incluem: debug, info, notice, warn, error, crit,
     # alert, emerg.
     # Veja as facilidades na seção do guia sobre o syslog para detalhes
     #
     LogLevel warn
     
     # As seguintes diretivas definem alguns formatos de nomes que serão usadas com a 
     # diretiva CustomLog (veja abaixo).
     
     LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot; %T %v&quot; full
     LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot; %P %T&quot; debug
     LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b \&quot;%{Referer}i\&quot; \&quot;%{User-Agent}i\&quot;&quot; combined
     LogFormat &quot;%h %l %u %t \&quot;%r\&quot; %&gt;s %b&quot; common
     LogFormat &quot;%{Referer}i -&gt; %U&quot; referer
     LogFormat &quot;%{User-agent}i&quot; agent
     
     #
     # A localização e formato do arquivo de log de acesso (definida pela diretiva 
     # LogFormat acima).
     # Se não definir quaisquer arquivos de log de acesso dentro de um 
     # &lt;VirtualHost&gt;, elas serão registradas aqui. Se for definida dentro
     # de &lt;VirtualHost&gt; o arquivo de log de acesso será registrado no 
     # arquivo especificado na diretiva e não aqui.
     #
     #CustomLog /var/log/apache/access.log common
     
     # Se você desejar ter um arquivo de log separado para o agent (navegador usado) 
     # e referer, descomente as seguintes diretivas.
     
     #CustomLog /var/log/apache/referer.log referer
     #CustomLog /var/log/apache/agent.log agent
     
     # Se preferir um arquivo de log simples, com os detalhes de acesso, agent, e 
     # referer (usando o formato combined da diretiva LogFile acima), use a seguinte
     # diretiva.
     
     CustomLog /var/log/apache/access.log combined
     
     #
     # Incluir uma linha contendo a versão do servidor e um nome de host virtual
     # para as páginas geradas pelo servidor (documentos de erro, listagens 
     # de diretórios FTP, saída dos módulos mod_status e mod_info, etc., exceto 
     # para documentos gerados via CGI). Use o valor &quot;EMail&quot; para também incluir 
     # um link mailto: para o ServerAdmin. Escolha entre &quot;On&quot;, &quot;Off&quot; ou &quot;EMail&quot;.
     #
     ServerSignature On
     
     #
     # PidFile: O arquivo que o servidor gravará os detalhes sobre seu PID quando 
     # iniciar.
     #
     PidFile /var/run/apache.pid
     
     #
     # ScoreBoardFile: Arquivo usado para armazenar detalhes do processo interno do 
     # servidor. Nem todas as arquiteturas requerem esta diretiva, mas se a sua 
     # requerer (você saberá porque este arquivo será criado quando executar o 
     # Apache) então você *deverá* ter certeza que dois processos do Apache não
     # utilizam o mesmo arquivo ScoreBoardFile.
     #
     ScoreBoardFile /var/run/apache.scoreboard
     
     #
     # Na configuração padrão, o servidor processará este arquivo, o 
     # srm.conf e o access.conf neste ordem. Você pode fazer o servidor
     # ignorar estes arquivos usando &quot;/dev/null&quot;.
     #
     ResourceConfig /etc/apache/srm.conf
     AccessConfig /etc/apache/access.conf
     
     #
     # A diretiva LockFile define o caminho do lockfile usado quando o servidor 
     # Apache for compilado com a opção USE_FCNTL_SERIALIZED_ACCEPT ou
     # USE_FLOCK_SERIALIZED_ACCEPT. Esta diretiva normalmente deve ser deixada em seu
     # valor padrão. A razão principal de modifica-la é no caso do diretório de logs
     # for montado via um servidor NFS&lt; pois o arquivo especificado em LockFile
     # DEVE SER ARMAZENADO EM UM DISCO LOCAL. O PID do processo do servidor principal
     # é automaticamente adicionado neste arquivo.
     #
     LockFile /var/run/apache.lock
     
     # ServerName permite ajustar o nome de host que será enviado 
     # aos clientes, caso for diferente do nome real (por exemplo, se desejar usar 
     # www ao invés do nome real de seu servidor).
     #
     # Nota: Você não pode simplesmente inventar nomes e esperar que funcionem. O nome
     # que definir deverá ser um nome DNS válido para sua máquina. 
     
     ServerName debian.meudominio.org
     
     # UseCanonicalName: Com esta opção ligada, se o Apache precisar construir uma 
     # URL de referência (uma url que é um retorno do servidor a uma requisição) ele 
     # usará ServerName e Port para fazer o &quot;nome canônico&quot;. Com esta opção desligada,
     # o Apache usará computador:porta que o cliente forneceu, quando possível. 
     # Isto também afeta SERVER_NAME e SERVER_PORT nos scripts CGIs.
     # 
     # Dependendo de sua configuração, principalmente em virtual hosts, é recomendável
     # deixa-la desativada ou com o valor DNS. O valor DNS obtém o nome do servidor
     # através de uma requisição DNS reversa do endereço IP (muito útil para virtual
     # hosts baseados em IP).
     UseCanonicalName off
     
     # CacheNegotiatedDocs: Por padrão, o Apache envia Pragma: no-cache com cada 
     # documento que foi negociado na base do conteúdo. Isto permite dizer a 
     # servidores proxy para não fazerem cache do documento. Descomentando a 
     # seguinte linha desativa esta característica, e os proxyes serão capazes
     # de fazer cache dos documentos.
     
     #CacheNegotiatedDocs
     
     # Timeout: O número de segundos antes de receber e enviar um time out
     
     Timeout 300
     
     # KeepAlive: Se vai permitir ou não conexões persistentes (mais que uma requisição
     # por conexão). Mude para &quot;Off&quot; para desativar.
     KeepAlive On
     
     # MaxKeepAliveRequests: O número máximo de requisições que serão permitidas 
     # durante uma conexão persistente. Mude para 0 para permitir uma quantidade 
     # ilimitada. Nós recomendamos deixar este número alto, para obter a máxima 
     # performance
     
     MaxKeepAliveRequests 100
     
     # KeepAliveTimeout: Número de segundos que aguardará a próxima requisição
     
     KeepAliveTimeout 15
     
     # Regulagem do tamanho de pool do servidor. Ao invés de fazer você adivinhar
     # quantos processos servidores precisará, o Apache adapta dinamicamente 
     # de acordo com a carga que ele vê --- isto é, ele tenta manter o número de 
     # processos o bastante para manipular a carga atual, mas alguns poucos 
     # servidores esparsos para manipular requisições transientes (ex. requisições
     # simultâneas múltiplas de um navegador Netscape simples).
     
     # Ele faz isto verificando periodicamente quantos servidores estão 
     # aguardando por uma requisição. Se lá existe menos que MinSpareServers, 
     # ele cria um novo processo. Se existe mais que MaxSpareServers, ele 
     # fecha alguns processos. Os valores abaixo estão adequados para muitos
     # sites
     
     MinSpareServers 5
     MaxSpareServers 10
     
     # Número de servidores que serão iniciados --- deve conter um valor razoável.
     
     StartServers 5
     
     # Limita o número total de servidores rodando, i.e., limita o número de clientes
     # que podem conectar simultaneamente --- se este limite é sempre atingido,
     # os clientes podem serão BARRADOS, assim este valor NÃO DEVE SER MUITO PEQUENO.
     # Ele tem a intenção principal de ser um freio para manter um em execução com 
     # uma performance aceitável de acordo com os requerimentos de construção e 
     # carga calculada no servidor.
     
     MaxClients 150
     
     #
     # MaxRequestsPerChild: O número de requisições que cada processo tem permissão
     # de processar antes do processo filho ser finalizado. O filho será finalizado 
     # para evitar problemas após uso prolongado quando o Apache (e talvez as 
     # bibliotecas que utiliza) tomar memória e outros recursos. Na maioria dos 
     # sistemas, isto realmente não é necessário, exceto para alguns (como o 
     # Solaris) que possuem ponteiros notáveis em suas bibliotecas. Para estas 
     # plataformas, ajuste para algo em torno de 10000 ou algo assim; uma
     # configuração de 0 significa ilimitado. 
     #
     # NOTA: Este valor não inclui requisições keepalive após a requisição
     #       inicial por conexão. Por exemplo, se um processo filho manipula
     #       uma requisição inicial e 10 requisições &quot;keptalive&quot; subseqüentes, 
     #       ele somente contará 1 requisição neste limite.
     #
     MaxRequestsPerChild 30
     
     
     # Listen: Permite fazer o Apache escutar um IP determinado e/ou porta, em 
     # adição a padrão. Veja também o comando VirtualHost
     
     #Listen 3000
     #Listen 12.34.56.78:80
     
     # VirtualHost: Permite o daemon responder a requisições para mais que um 
     # endereço IP do servidor, se sua máquina estiver configurada para aceitar pacotes
     # para múltiplos endereços de rede. Isto pode ser feito com a opção de aliasing
     # do ifconfig ou através de patches do kernel como o de VIF.
     
     # Qualquer diretiva httpd.conf ou srm.conf pode ir no comando VirtualHost.
     # Veja também a entrada BindAddress.
     
     #&lt;VirtualHost host.some_domain.com&gt;
     #ServerAdmin webmaster@host.some_domain.com
     #DocumentRoot /var/www/host.some_domain.com
     #ServerName host.some_domain.com
     #ErrorLog /var/log/apache/host.some_domain.com-error.log
     #TransferLog /var/log/apache/host.some_domain.com-access.log
     #&lt;/VirtualHost&gt;
     
     
     # VirtualHost: Se você quiser manter múltiplos domínios/nomes de máquinas em sua 
     # máquina você pode ajustar o conteúdo de VirtualHost para eles.
     # Por favor veja a documentação em &lt;http://www.apache.org/docs/vhosts/&gt;
     # para mais detalhes antes de tentar configurar seus hosts virtuais.
     # Você pode usar a opção de linha de comando '-S' para verificar sua configuração
     # de hosts virtuais.
     
     #
     # Se desejar usar hosts virtuais baseados em nome, será necessário definir no
     # mínimo um endereço IP (e número de porta) para eles.
     #
     #NameVirtualHost 12.34.56.78:80
     #NameVirtualHost 12.34.56.78
     
     #
     # Exemplo de um Host Virtual:
     # Praticamente qualquer diretiva do Apache pode entrar na condicional 
     # VirtualHost.
     #
     #&lt;VirtualHost ip.address.of.host.some_domain.com&gt;
     #    ServerAdmin webmaster@host.some_domain.com
     #    DocumentRoot /www/docs/host.some_domain.com
     #    ServerName host.some_domain.com
     #    ErrorLog logs/host.some_domain.com-error.log
     #    CustomLog logs/host.some_domain.com-access.log common
     #&lt;/VirtualHost&gt;
     
     #&lt;VirtualHost _default_:*&gt;
     #&lt;/VirtualHost&gt;
</pre>

<hr>

<h3 id="s-s-apache-exemplo-srm">33.14.2 srm.conf</h3>

<pre>
     # Neste arquivo são definidos o espaço de nomes que os usuários visualizarão no
     # seu servidor http. Este arquivo também define configurações do servidor que
     # afetam como as requisições são servidas e como os resultados deverão ser 
     # formatados. 
     
     # Veja os tutoriais em http://www.apache.org/ para mais detalhes
     
     # DocumentRoot: O diretório principal onde você servira seus documentos.
     # Por padrão, todas as requisições são tomadas através deste diretório, 
     # exceto links simbólicos e aliases que podem ser usados para apontar para
     # outras localizações no sistema de arquivos.
     DocumentRoot /var/www
     
     #
     # UserDir: O nome do diretório que será adicionado ao diretório home do usuário
     # caso uma requisição ~usuário for recebida.
     #
     &lt;IfModule mod_userdir.c&gt;
         # Linha abaixo por recomendação de segurança do manual do Apache
         UserDir disabled root
         UserDir public_html
     &lt;/IfModule&gt;
     
     
     #
     # DirectoryIndex: Nome do arquivo ou arquivos que serão usados como índice do 
     # diretório. Especifique mais de um arquivos separados por espaços ao invés
     # de um só um nome (como &quot;index&quot;) para aumentar a performance do servidor. 
     #
     &lt;IfModule mod_dir.c&gt;
         DirectoryIndex index.html index.htm index.shtml index.cgi
     &lt;/IfModule&gt;
     
     #
     # Diretivas que controlam a exibição de listagem de diretórios geradas pelo servidor.
     #
     
     &lt;IfModule mod_autoindex.c&gt;
     
         #
         # FancyIndexing: se você deseja o padrão fancy index ou padrão para a indexação
         #                de arquivos no diretório. Usando FancyIndexing o servidor
         #                apache gerará uma listagem de arquivos que poderá ser 
         #                ordenada, usar tipos de ícones e encoding, etc. Veja as 
         #                próximas opções
         IndexOptions FancyIndexing
     
         #
         # As diretivas AddIcon* dizem ao servidor que ícone mostrar para um determinado
         # arquivo ou extensão de arquivos. Estes somente são mostrados para os 
         # diretórios classificados através da opção FancyIndexing.
         #
         AddIconByEncoding (CMP,/icons/compressed.gif) x-compress x-gzip
     
         AddIconByType (TXT,/icons/text.gif) text/*
         AddIconByType (IMG,/icons/image2.gif) image/*
         AddIconByType (SND,/icons/sound2.gif) audio/*
         AddIconByType (VID,/icons/movie.gif) video/*
     
         AddIcon /icons/binary.gif .bin .exe
         AddIcon /icons/binhex.gif .hqx
         AddIcon /icons/tar.gif .tar
         AddIcon /icons/world2.gif .wrl .wrl.gz .vrml .vrm .iv
         AddIcon /icons/compressed.gif .Z .z .tgz .gz .zip
         AddIcon /icons/a.gif .ps .ai .eps
         AddIcon /icons/layout.gif .html .shtml .htm .pdf
         AddIcon /icons/text.gif .txt
         AddIcon /icons/c.gif .c
         AddIcon /icons/p.gif .pl .py
         AddIcon /icons/f.gif .for
         AddIcon /icons/dvi.gif .dvi
         AddIcon /icons/uuencoded.gif .uu
         AddIcon /icons/script.gif .conf .sh .shar .csh .ksh .tcl
         AddIcon /icons/tex.gif .tex
         AddIcon /icons/bomb.gif */core
         AddIcon /icons/deb.gif .deb Debian
     
         AddIcon /icons/back.gif ..
         AddIcon /icons/hand.right.gif README
         AddIcon /icons/folder.gif ^^DIRECTORY^^
         AddIcon /icons/blank.gif ^^BLANKICON^^
     
         # DefaultIcon é o ícone que será mostrado para aplicativos que não tiverem um 
         # ícone explicitamente definido.
     
         DefaultIcon /icons/unknown.gif
     
         #
         # AddDescription: isto lhe permite colocar uma curta descrição após um arquivo
         # nos índices gerados pelo servidor. Estes somente são mostrados para diretórios
         # com índices organizados usando a opção FancyIndexing.
         # Formato: AddDescription &quot;descrição&quot; extensão
         #
         #AddDescription &quot;GZIP compressed document&quot; .gz
         #AddDescription &quot;tar archive&quot; .tar
         #AddDescription &quot;GZIP compressed tar archive&quot; .tgz
     
     
         # ReadmeName é o nome do arquivo LEIAME que o servidor procurará como 
         # padrão. Estes serão inseridos no fim da listagem de diretórios.
         Formato: ReadmeName nome
         #
         # O servidor procurará primeiro por nome.html, incluído se ele for encontrado,
         # e então procurará pelo nome e incluirá ele como texto plano se encontrado..
     
         ReadmeName README
         
         # HeaderName é o nome do arquivo que deve ser colocado no topo do índice
         # de diretórios. As regras de procura de nome são as mesmas do arquivo
         # README
         HeaderName HEADER
     
         #
         # IndexIgnore: um conjunto de nomes de arquivos que a listagem de diretórios
         # deve ignorar e não incluir na listagem. É permitido o uso de coringas 
         # como no interpretador de comandos.
         #
         IndexIgnore .??* *~ *# HEADER* README* RCS CVS *,v *,t
     
     &lt;/IfModule&gt;
     
     # AccessFileName: O nome do arquivo que será procurado em cada diretório
     # que contém detalhes sobre as permissões de acesso a um determinado 
     # diretório e opções de listagem. Tenha cuidado ao modificar o nome 
     # deste arquivo, muitas definições que trabalham em cima do nome
     # .htaccess nos arquivos de configuração deverão ser modificados para
     # não comprometer a segurança de seu servidor. 
     # Uma falta de atenção neste ponto poderá deixar este arquivo visível
     # em qualquer listagem de diretórios facilmente...
     
     AccessFileName .htaccess
     
     # TypesConfig especifica o arquivo de configuração que contém os tipos
     # usados pelo servidor
     TypesConfig /etc/mime.types
     
     #
     # DefaultType é o tipo MIME padrão que o servidor utilizará para um documento
     # caso ele não possa determinar seu conteúdo, como através de extensões 
     # de arquivos. Se o servidor contém em sua maioria texto ou documentos em HTML,
     # &quot;text/plain&quot; é um bom valor. Caso a maioria do conteúdo seja binários, tal
     # como aplicativos ou fotos, o tipo mais adequado ao seu caso poderá ser 
     # &quot;application/octet-stream&quot; para evitar que navegadores tentem exibir
     # aplicativos binários como se fossem texto.
     # Se desejar uma referência rápida sobre tipos mime, consulte o arquivo
     # /etc/mime.types
     #
     DefaultType text/plain
     
     #
     # Document types.
     #
     &lt;IfModule mod_mime.c&gt;
     
         # AddEncoding permite que alguns navegadores (Mosaic/X 2.1+, Netscape, etc)
         # descompactem dados durante sua abertura. N
         # Nota: Nem todos os navegadores suportam isto. Esqueça os nomes parecidos,
         # as seguintes diretivas Add* não tem nada a ver com personalizações
         # da opção FancyIndexing usada nas diretivas acima.
     
         AddEncoding x-compress Z
         AddEncoding x-gzip gz tgz
     
         #
         # AddLanguage: permite especificar o idioma do documento. Você pode
         # então usar a negociação de conteúdo para dar ao navegador um 
         # arquivo no idioma solicitado.
         #
         # Nota 1: O sufixo não precisa ser o mesmo da palavra chave do 
         # idioma --- estes com o documento em Polonês (no qual o 
         # código padrão da rede é pl) pode desejar usar &quot;AddLanguage pl .po&quot; 
         # para evitar confusão de nomes com a extensão comum de scripts
         # scripts em linguagem Perl.
         #
         # Nota 2: As entradas de exemplos abaixo mostram que em alguns casos
         # as duas letras de abreviação do 'Idioma' não é idêntico as duas letras
         # do 'País' para seu país, como 'Danmark/dk' versus 'Danish/da'.
         #
         # Nota 3: No caso de 'ltz' nós violamos a RFC usando uma especificação de 
         # três caracteres. Mas existe um 'trabalho em progresso' para corrigir isto
         # e obter os dados de referência para limpar a RFC1766.
         #
         # Danish (da) - Dutch (nl) - English (en) - Estonian (ee)
         # French (fr) - German (de) - Greek-Modern (el)
         # Italian (it) - Portugese (pt) - Luxembourgeois* (ltz)
         # Spanish (es) - Swedish (sv) - Catalan (ca) - Czech(cz)
         # Polish (pl) - Brazilian Portuguese (pt-br) - Japanese (ja)
         #
         AddLanguage da .dk
         AddLanguage nl .nl
         AddLanguage en .en
         AddLanguage et .ee
         AddLanguage fr .fr
         AddLanguage de .de
         AddLanguage el .el
         AddLanguage it .it
         AddLanguage ja .ja
     #    AddCharset ISO-2022-JP .jis
         AddLanguage pl .po
     #    AddCharset ISO-8859-2 .iso-pl
         AddLanguage pt .pt
         AddLanguage pt-br .pt-br
         AddLanguage ltz .lu
         AddLanguage ca .ca
         AddLanguage es .es
         AddLanguage sv .se
         AddLanguage cz .cz
     
         # LanguagePriority: permite definir a prioridade para a exibição de 
         # documentos caso nenhum documento confira durante a negociação de 
         # conteúdo.
         #
         # Para fazer isto, especifique os idiomas em ordem de preferência de exibição
         # de idiomas. 
         #
         &lt;IfModule mod_negotiation.c&gt;
             LanguagePriority pt-br pt es en da nl et fr de el it ja pl ltz ca sv
         &lt;/IfModule&gt;
     
         #
         # AddType permite modificar o mime.types sem editar o arquivo, ou fazer 
         # a associação de arquivos a certos tipos de conteúdo.
         #
         # Por exemplo, o módulo PHP 3.x (que não faz parte da distribuição do 
         # Apache - veja http://www.php.net) tipicamente utiliza isto:
         #
         #AddType application/x-httpd-php3 .php3
         #AddType application/x-httpd-php3-source .phps
         #
         # E para arquivos PHP 4.x use:
         #
         #AddType application/x-httpd-php .php
         #AddType application/x-httpd-php-source .phps
     
         AddType application/x-tar .tgz
         AddType image/bmp .bmp
     
         # hdml
         AddType text/x-hdml .hdml
     
         #
         # AddHandler permite mapear certas extensões de arquivos a programas
         # &quot;manipuladores&quot; adequados a seu conteúdo. Estes podem ser construídos
         # no servidor ou adicionados com o comando Action (veja abaixo).
         #
         # Se desejar usar includes no lado do servidor, ou servir diretórios
         # com scripts CGI para fora, descomente as seguintes linhas.
         #
         # Para usar scripts CGI:
         #
         #AddHandler cgi-script .cgi .sh .pl
     
         #
         # Para usar arquivos html gerados através do servidor
         #
         #AddType text/html .shtml
         #AddHandler server-parsed .shtml
     
         #
         # Descomente as seguintes linhas para ativar a características de arquivos
         # send-asis HTTP do servidor Apache
         #
         #AddHandler send-as-is asis
     
         #
         # Se desejar usar arquivos de mapas de imagens processadas no servidor, use
         #
         #AddHandler imap-file map
     
         #
         # Para ativar tipo de mapas, você poderá usar
         #
         #AddHandler type-map var
     
     &lt;/IfModule&gt;
     # Fim dos tipos de documentos
     
     # Preferências padrões de exibição de caracteres (veja http://www.apache.org/info/css-security/).
     
     AddDefaultCharset on
     AddDefaultCharsetName iso-8859-1
     
     # Redirect permite dizer aos clientes que documentos não existem mais no seu servidor 
     # e a nova localização do documento. 
     # Format: Redirect nomeurl url
     # &quot;nomeurl&quot; é o caminho especificado na url e &quot;url&quot; é a nova localização do 
     # documento
     
     # Aliases: Inclua aqui quantos apelidos você desejar (sem limite) o formato é:
     # Alias nomeurl nomereal
     # &quot;nomeurl&quot; é o caminho especificado na url e &quot;nomereal&quot; é a localização
     # do documento no sistema de arquivos local
     
     # Note que se você incluir uma / no fim de &quot;nomeurl&quot;, então o servidor 
     # requisitará que também esteja presente na URL. 
     
     Alias /icons/ /usr/share/apache/icons/
     Alias /doc/ /usr/doc/
     Alias /focalinux /var/www/focalinux
     Alias /debian-br /var/www/debian-br/htdocs
     Alias /debian /pub/mirror/debian
     
     # ScriptAlias: Esta diretiva controla que diretórios contém scripts do servidor.
     # Format: ScriptAlias fakename realname
     
     ScriptAlias /cgi-bin/ /usr/lib/cgi-bin/
     
     #
     # Action: permite definir os tipos de mídia que executarão um script quando um 
     # arquivo que conferir for chamado. Isto elimina a necessidade de caminhos de URLs
     # repetidas para processadores de arquivos CGI freqüentemente usados.
     # Format: Action media/type /cgi-script/location
     # Format: Action handler-name /cgi-script/location
     #
     
     #
     # MetaDir: especifica o nome do diretório no qual o apache procurará arquivos de 
     # detalhes do módulo mod_cern_meta. Os módulos meta contém cabeçalhos HTTP
     # adicionais que serão incluídos durante o envio do documento. 
     #
     #MetaDir .web
     
     #
     # Resposta de erros personalizada (no estilo do Apache)
     # estas podem ser 3 tipos:
     #
     #    1) texto plano
     #ErrorDocument 500 &quot;O servidor fez boo boo.
     #  n.b.  a aspa (&quot;) marca como texto, ela não será exibida
     #
     #    2) redirecionamentos locais
     #ErrorDocument 404 /missing.html
     #  para redirecionar para a URL local /missing.html
     #ErrorDocument 404 /cgi-bin/missing_handler.pl
     #  N.B.: É também possível redirecionar a um script o documento usando includes
     #  do lado do servidor (server-side-includes).
     #
     #    3) redirecionamentos externos
     #ErrorDocument 402 http://algum.outro_servidor.com/inscricao.html
     #  N.B.: Muitas das variáveis de ambientes associada com a requisição atual *não*
     # estarão disponíveis para tal script.
     
     #
     # O módulo mod_mime_magic permite o servidor usar várias dicas através do conteúdo
     # do arquivo para determinar o seu tipo. A diretiva MIMEMagicFile diz ao módulo
     # onde as definições de dicas estão localizadas. O módulo mod_mime_magic não é 
     # parte do servidor padrão Apache (você precisará adiciona-lo manualmente com 
     # uma linha LoadModule (veja o parágrafo DSO na seção Ambiente Global no 
     # arquivo httpd.conf), ou recompile o servidor e inclua mod_mime_magic como
     # parte de sua configuração), por este motivo ele está entre as condicionais
     # &lt;IfModule&gt;. Isto significa que a diretiva MIMEMagicFile somente será processada
     # caso o módulo estiver ativo no servidor. 
     #
     &lt;IfModule mod_mime_magic.c&gt;
         MIMEMagicFile conf/magic
     &lt;/IfModule&gt;
     
     
     &lt;IfModule mod_setenvif.c&gt;
         #
         # As seguintes diretivas modificam o funcionamento da resposta normal do 
         # servidor HTTP.
         # A primeira diretiva desativa o keepalive para o Netscape 2.x e navegadores que
         # as falsificam. Existem problemas conhecidos com estas implementações de 
         # navegadores. A segunda diretiva é para o MS IE 4.0b2 que tem uma implementação
         # defeituosa do HTTP/1.1 e não suporta adequadamente o keepalive quando ele
         # utiliza as respostas de redirecionamento 301 e 302.
         #
         BrowserMatch &quot;Mozilla/2&quot; nokeepalive
         BrowserMatch &quot;MSIE 4\.0b2;&quot; nokeepalive downgrade-1.0 force-response-1.0
     
         #
         # As seguintes diretivas desativam as respostas HTTP/1.1 para navegadores que
         # violam a especificação HTTP/1.0 não sendo capaz de enviar uma resposta 
         # 1.1 básica.
         #
         BrowserMatch &quot;RealPlayer 4\.0&quot; force-response-1.0
         BrowserMatch &quot;Java/1\.0&quot; force-response-1.0
         BrowserMatch &quot;JDK/1\.0&quot; force-response-1.0
     &lt;/IfModule&gt;
     
     # Se o módulo Perl está instalado, isto será ativado.
     &lt;IfModule mod_perl.c&gt;
       Alias /perl/ /var/www/perl/
       &lt;Location /perl&gt;
         Options +ExecCGI
         SetHandler perl-script
         PerlHandler Apache::Registry
       &lt;/Location&gt;
     &lt;/IfModule&gt;
</pre>

<hr>

<h3 id="s-s-apache-exemplo-access">33.14.3 access.conf</h3>

<pre>
     # access.conf: Configuração de acesso Global
     # Documentos on-line em http://www.apache.org/
     
     # Este arquivo define as configurações do servidor que afetam que tipos de 
     # serviços são permitidos e em quais circunstâncias. 
     
     # Cada diretório que o Apache possui acesso, pode ser configurado respectivamente
     # com quais serviços e características que podem ser permitidas e/ou bloqueadas 
     # no diretório (e seus subdiretórios).
     #
     # Primeiro a configuração restringe uma série de permissões
     &lt;Directory /&gt;
         Options SymLinksIfOwnerMatch
         AllowOverride None
     #    Order deny,allow
     #    Deny from all
     &lt;/Directory&gt;
     
     # Desse ponto em diante, é necessário especificar o que será permitido
     # caso contrário será bloqueado pelo bloco acima
     
     # Esta parte deve ser modificada para a localização do documento raíz do servidor.
     
     &lt;Directory /var/www&gt;
     
     # A opção Options pode conter os valores &quot;None&quot;, &quot;All&quot;, ou quaisquer combinação
     # de &quot;Indexes&quot;, &quot;Includes&quot;, &quot;FollowSymLinks&quot;, &quot;ExecCGI&quot;, ou &quot;MultiViews&quot;.
     #
     # Note que &quot;MultiViews&quot; deve ser *explicitamente* especificada --- &quot;Options All&quot;
     # não a ativa (pelo menos não ainda).
     
     Options Indexes FollowSymLinks Includes MultiViews
     
     # Esta opção controla que opções os arquivos .htaccess nos diretórios podem ser
     # substituídas. Pode também conter &quot;All&quot;, ou qualquer combinação de &quot;Options&quot;, 
     # &quot;FileInfo&quot;, &quot;AuthConfig&quot;, e &quot;Limit&quot;
     
     AllowOverride None
     
     # Controla quem pode obter materiais deste servidor. Leia a seção adequada no
     # guia para mais explicações sobre a ordem de acesso, padrões e valores permitidos.
     
     order allow,deny
     allow from all
     
     &lt;/Directory&gt;
     
     #
     # O diretório &quot;/usr/lib/cgi-bin&quot; deve ser modificado para o diretório que 
     # possuem seus scripts CGI, caso tenha configurado o suporte a CGI's no 
     # servidor. 
     #
     &lt;Directory /usr/lib/cgi-bin/&gt;
         AllowOverride None
         Options ExecCGI
         Order allow,deny
         Allow from all
     &lt;/Directory&gt;
     
     #
     # Permite ver relatórios de status e funcionamento do servidor web e 
     # processos filhos, através da URL http://servidor/server-status
     # isto requer o módulo status_module (mod_status.c) carregado no arquivo 
     # httpd.conf
     #
     #&lt;Location /server-status&gt;
     #    SetHandler server-status
     #    Order deny,allow
     #    Deny from all
     #    Allow from .meudominio.org
     #&lt;/Location&gt;
     
     #
     # Permite relatório de configuração remota do servidor, através da URL 
     # http://servername/server-info 
     # Isto requer o módulo info_module (mod_info.c) carregado no arquivo 
     # httpd.conf
     #
     #&lt;Location /server-info&gt;
     #    SetHandler server-info
     #    Order deny,allow
     #    Deny from all
     #    Allow from .meudominio.org
     #&lt;/Location&gt;
     
     # Visualização do diretório de ícones
     &lt;Directory /usr/share/apache/icons&gt;
         Options Indexes MultiViews
         AllowOverride None
         Order allow,deny
         Allow from all
     &lt;/Directory&gt;
     
     
     # O Debian Policy assume que /usr/doc é &quot;/doc/&quot; e linkado com /usr/share/doc, 
     # pelo menos para localhost.
     
     &lt;Directory /usr/doc&gt;
        Options Indexes FollowSymLinks 
        order deny,allow
        deny from all
        allow from 192.168.1.10/24
     &lt;/Directory&gt;
     
     # Esta define a localização visualizável do monitor de status mod_throttle
     #
     &lt;location /throttle-info&gt;
        SetHandler throttle-info
     &lt;/location&gt;
     
     #
     # As seguintes linhas previnem os arquivos .htaccess de serem mostrados nos
     # clientes Web. Pois os arquivos .htaccess freqüentemente contém detalhes
     # de autorização, o acesso é desabilitado por razões de segurança. Comente
     # estas linhas se desejar que seus visitantes vejam o conteúdo dos arquivos
     # .htaccess. Se modificar a diretiva AccessFileName acima, tenha certeza de 
     # fazer as modificações correspondentes aqui.
     #
     # As pessoas também tendem a usar nomes como .htpasswd nos arquivos de senhas
     # a diretiva abaixo os protegerá também.
     #
     &lt;Files ~ &quot;^\.ht&quot;&gt;
         Order allow,deny
         Deny from all
     &lt;/Files&gt;
     
     #
     # Controla o acesso a diretórios UserDir. As seguintes diretivas são um exemplo
     # para um site onde estes diretórios estão restritos a somente-leitura. Veja
     # detalhes sobre as opções de acesso, e limites na seção sobre controle
     # de acesso do guia
     #
     &lt;Directory /home/*/public_html&gt;
         AllowOverride FileInfo AuthConfig Limit
         Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec
         &lt;Limit GET POST OPTIONS PROPFIND&gt;
             Order allow,deny
             Allow from all
         &lt;/Limit&gt;
         &lt;Limit PUT DELETE PATCH PROPPATCH MKCOL COPY MOVE LOCK UNLOCK&gt;
             Order deny,allow
             Deny from all
         &lt;/Limit&gt;
     &lt;/Directory&gt;
     
     #
     # As vezes ocorrem relatos de pessoas tentando abusar de uma falha antiga nos 
     # dias do Apache 1.1 (muitas páginas na Net documentam isso). Esta falha envolve
     # um script CGI distribuído como parte do Apache. Descomentando estas linhas você
     # poderá redirecionar estes ataques a um script de registro em phf.apache.org. Ou
     # poderá gravar em sua própria máquina, usando o script support/phf_abuse_log.cgi.
     #
     #&lt;Location /cgi-bin/phf*&gt;
     #    Deny from all
     #    ErrorDocument 403 http://phf.apache.org/phf_abuse_log.cgi
     #&lt;/Location&gt;
     
     
     # Acesso aos serviços proxy do apache
     #&lt;Directory proxy:*&gt;
     #    Order deny,allow
     #    Deny from all
     #    Allow from .your_domain.com
     #&lt;/Directory&gt;
     
     # a seguinte diretiva permite o acesso a todos os usuários ao conteúdo da página
     # do guia Foca GNU/Linux exceto os que possuem navegadores MSIE ;-)
     # Veja a seção sobre restrições de acesso para detalhes sobre a diretiva de 
     # controle de acesso baseado no user-agent
     SetEnvIf User-Agent MSIE EXPLODER
     &lt;Directory /var/www/focalinux&gt;
      Options Indexes
      Order allow,deny
      allow from all
      deny from env=EXPLODER
      ErrorDocument 403 &quot;Explorer não entra, página com o conteúdo potencialmente perigoso ao Windows, use um navegador seguro para ter acesso a esta página ;-)
     &lt;/Directory&gt;
     
     # A diretiva abaixo somente permite acesso a leitura do arquivo
     # h-supor-fonte.txt a pessoas que fornecerem o nome/senha corretos
     # que constam no arquivo passwd1
     # Este bloco contém um erro que é a localização do arquivo da senha em um
     # diretório público, você deverá adapta-lo se não quiser se ver em apuros.
     #
     # A permissão do diretório de nível superior prevalece sobre seus 
     # sub-diretórios no caso as permissões de /focalinux, a menos que 
     # sejam definidas opções de acesso específicas ao arquivo abaixo
     &lt;Location /focalinux/humor/h-supor-fonte.txt&gt;
      AuthName &quot;Piada de fonte de alimentação&quot;
      AuthType basic
      AuthUserFile /home/gleydson/public_html/passwd1
      Require valid-user
     # Satisfy all
     &lt;/Location&gt;
     
     # Libera o acesso a localização /debian (acessada através de /pub/mirror/debian, 
     # definida no Alias acima)
     &lt;Location /debian&gt;
      Options Indexes
      Order deny,allow
      allow from all
      deny from all
     &lt;/Location&gt;
</pre>

<hr>

<h2 id="s-s-apache-httpcodes">33.15 Códigos HTTP</h2>

<p>
Esta seção pode ser uma interessante referência para a programação e
configuração da diretiva <em>ErrorDocument</em>, etc.
</p>
<dl>
<dt>2xx - Sucesso</dt>
<dd>
<ul>
<li>
<p>
<samp>200</samp> OK
</p>
</li>
<li>
<p>
<samp>201</samp> Criado
</p>
</li>
<li>
<p>
<samp>202</samp> Aceito
</p>
</li>
<li>
<p>
<samp>203</samp> Informação não-autoritativa *
</p>
</li>
<li>
<p>
<samp>204</samp> Nenhum conteúdo
</p>
</li>
<li>
<p>
<samp>205</samp> Conteúdo resetado *
</p>
</li>
<li>
<p>
<samp>206</samp> Conteúdo parcial *
</p>
</li>
</ul>
</dd>
<dt>3xx - Redirecionamento</dt>
<dd>
<ul>
<li>
<p>
<samp>300</samp> Múltiplas escolhas
</p>
</li>
<li>
<p>
<samp>301</samp> Movido Permanentemente
</p>
</li>
<li>
<p>
<samp>302</samp> Movido Temporariamente
</p>
</li>
<li>
<p>
<samp>303</samp> Veja outra *
</p>
</li>
<li>
<p>
<samp>304</samp> Não modificada
</p>
</li>
<li>
<p>
<samp>305</samp> Use o Proxy (redirecionamento proxy) *
</p>
</li>
</ul>
</dd>
<dt>4xx - Erros no Cliente</dt>
<dd>
<ul>
<li>
<p>
<samp>400</samp> Requisição incorreta
</p>
</li>
<li>
<p>
<samp>401</samp> Não autorizado
</p>
</li>
<li>
<p>
<samp>402</samp> Pagamento Requerido *
</p>
</li>
<li>
<p>
<samp>403</samp> Bloqueado
</p>
</li>
<li>
<p>
<samp>404</samp> Não encontrada
</p>
</li>
<li>
<p>
<samp>405</samp> Método não permitido *
</p>
</li>
<li>
<p>
<samp>406</samp> Não aceitável *
</p>
</li>
<li>
<p>
<samp>407</samp> Autenticação via proxy requerida *
</p>
</li>
<li>
<p>
<samp>408</samp> Tempo limite da requisição expirado *
</p>
</li>
<li>
<p>
<samp>409</samp> Conflito *
</p>
</li>
<li>
<p>
<samp>410</samp> Gone *
</p>
</li>
<li>
<p>
<samp>411</samp> Tamanho requerido *
</p>
</li>
<li>
<p>
<samp>412</samp> Falha na pré-condição *
</p>
</li>
<li>
<p>
<samp>413</samp> A requisição parece ser grande *
</p>
</li>
<li>
<p>
<samp>414</samp> A URL requisitada é muito longa *
</p>
</li>
<li>
<p>
<samp>415</samp> Tipo de mídia não suportado
</p>
</li>
</ul>
</dd>
<dt>5xx - Erros no Servidor</dt>
<dd>
<ul>
<li>
<p>
<samp>500</samp> Erro Interno no Servidor
</p>
</li>
<li>
<p>
<samp>501</samp> Não implementado
</p>
</li>
<li>
<p>
<samp>502</samp> Gateway incorreto
</p>
</li>
<li>
<p>
<samp>503</samp> Serviço não disponível
</p>
</li>
<li>
<p>
<samp>504</samp> Tempo limite no gateway *
</p>
</li>
<li>
<p>
<samp>505</samp> Versão HTTP não suportada *
</p>
</li>
</ul>
</dd>
</dl>

<p>
Os códigos de erros marcados com um &quot;*&quot; pertencem ao padrão HTTP
1.1
</p>

<hr>

<p>
[ <a href="ch-d-contas.html">anterior</a> ]
[ <a href="index.html#contents">Conteúdo</a> ]
[ <a href="ch-intro.html">1</a> ]
[ <a href="ch-bas.html">2</a> ]
[ <a href="ch-hardw.html">3</a> ]
[ <a href="ch-d-l.html">4</a> ]
[ <a href="ch-disc.html">5</a> ]
[ <a href="ch-boot.html">6</a> ]
[ <a href="ch-run.html">7</a> ]
[ <a href="ch-cmdd.html">8</a> ]
[ <a href="ch-cmd.html">9</a> ]
[ <a href="ch-cmdv.html">10</a> ]
[ <a href="ch-cmdn.html">11</a> ]
[ <a href="ch-cmdc.html">12</a> ]
[ <a href="ch-perm.html">13</a> ]
[ <a href="ch-redir.html">14</a> ]
[ <a href="ch-rede.html">15</a> ]
[ <a href="ch-cfgrede.html">16</a> ]
[ <a href="ch-kern.html">17</a> ]
[ <a href="ch-log.html">18</a> ]
[ <a href="ch-cpctd.html">19</a> ]
[ <a href="ch-deb.html">20</a> ]
[ <a href="ch-dpkg.html">21</a> ]
[ <a href="ch-pers.html">22</a> ]
[ <a href="ch-impr.html">23</a> ]
[ <a href="ch-cfg.html">24</a> ]
[ <a href="ch-tasks.html">25</a> ]
[ <a href="ch-compil.html">26</a> ]
[ <a href="ch-manut.html">27</a> ]
[ <a href="ch-etc.html">28</a> ]
[ <a href="ch-inter.html">29</a> ]
[ <a href="ch-x11.html">30</a> ]
[ <a href="ch-fw-iptables.html">31</a> ]
[ <a href="ch-d-contas.html">32</a> ]
[ 33 ]
[ <a href="ch-s-ident.html">34</a> ]
[ <a href="ch-s-telnet.html">35</a> ]
[ <a href="ch-s-ssh.html">36</a> ]
[ <a href="ch-s-pop3.html">37</a> ]
[ <a href="ch-s-cvs.html">38</a> ]
[ <a href="ch-s-samba.html">39</a> ]
[ <a href="ch-d-restr.html">40</a> ]
[ <a href="ch-d-cripto.html">41</a> ]
[ <a href="ch-aplic.html">42</a> ]
[ <a href="ch-ajuda.html">43</a> ]
[ <a href="ch-systemd.html">44</a> ]
[ <a href="ch-git.html">45</a> ]
[ <a href="ch-virt-intro.html">46</a> ]
[ <a href="ch-apend.html">47</a> ]
[ <a href="ch-s-ident.html">próximo</a> ]
</p>

<hr>

<p>
Guia Foca GNU/Linux
</p>

<address>
Versão 4.22 - domingo, 05 de setembro de 2010<br>
<br>
Gleydson Mazioli da Silva <code><a href="mailto:gleydson@guiafoca.org">mailto:gleydson@guiafoca.org</a></code><br>
<br>
</address>
<hr>

</body>

</html>

